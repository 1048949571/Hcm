{"version":3,"sources":["webpack:///./app/widget/index/Brand/PriceMonitor/main.js"],"names":["App","props","getMore","setState","pageNum","state","getList","chAngeHis","item","window","location","productClassifyName","id","editVisible","bl","classfiyUpdate","monitorDate","moment","visible","editOnchange","e","type","editSubmit","that","frequency","monitor_range","ajax","get","params","MonitorDate","format","then","response","data","status","success","message","warning","catch","error","statusText","pageSize","totalElements","dataList","hour","list","count","React","Component"],"mappings":"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","file":"js/chunk/266_d6fc60e0a3b1fcab48bd.js","sourcesContent":["import Tpl from './tpl';\r\nimport { message } from 'antd';\r\nimport ajax from '../../../../js/common/ajax';\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        \r\n        this.state = {\r\n            pageSize:12,\r\n            pageNum:1,\r\n            totalElements:0,\r\n\r\n            dataList:[],\r\n            visible: false,\r\n            classfiyUpdate:{\r\n                monitorDate:moment(`${moment().hour()}:00'`, 'HH:mm'),\r\n                // platform_code:'1',\r\n                frequency:'1次/24H',\r\n                monitor_range:'授权店铺',\r\n                id:null,\r\n            }\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.getList()\r\n    }\r\n    getMore = ()=>{\r\n        this.setState({\r\n            pageNum : this.state.pageNum+1\r\n        },()=>{\r\n            this.getList()\r\n        })\r\n    }\r\n    chAngeHis=(item)=>{\r\n        window.location=\"/index.html#/ChangeHistoryx/HcmProductClassify_MonitorPrice/\"+item.productClassifyName+\"/\"+item.id+\"/Sjsj\"\r\n        \r\n    }\r\n    getList(){\r\n        let {pageSize,pageNum} = this.state;\r\n        ajax.get('/hcm/priceMonitor/GetList',{\r\n            params:{\r\n                pageSize,\r\n                pageNum\r\n            }\r\n        })\r\n        .then((response) => {\r\n            if(response.data.status=='10000'){\r\n                this.setState({\r\n                    dataList:response.data.data.list,\r\n                    totalElements:response.data.data.count\r\n                })\r\n            }\r\n            \r\n        }).catch((error) => {\r\n            message.error(error.statusText);\r\n        });\r\n    }\r\n\r\n    editVisible = (bl,item) => {\r\n        let classfiyUpdate = this.state.classfiyUpdate;\r\n        if(item){\r\n            classfiyUpdate.id = item.id;\r\n            classfiyUpdate.monitorDate = moment(`${item.monitorDate}`, 'HH:mm');\r\n        }\r\n        this.setState({\r\n            visible: bl,\r\n            classfiyUpdate:classfiyUpdate\r\n        })\r\n    }\r\n    editOnchange=(e,type)=>{\r\n        let classfiyUpdate = this.state.classfiyUpdate;\r\n        classfiyUpdate[type] = e;\r\n        this.setState({\r\n            classfiyUpdate:classfiyUpdate\r\n        })\r\n    }\r\n    editSubmit = () =>{\r\n        \r\n        let that = this;\r\n        let {monitorDate,frequency,monitor_range,id} = this.state.classfiyUpdate;\r\n                \r\n        ajax.get('/hcm/priceMonitor/ClassfiyUpdate', {\r\n            params: {\r\n                MonitorDate:moment(monitorDate).format('HH:mm'),\r\n                // platform_code:platform_code,\r\n                frequency:frequency,\r\n                type:'2',\r\n                monitor_range:monitor_range,\r\n                id:id,\r\n            }\r\n        }).then((response) => {\r\n            that.editVisible(false)\r\n            if(response.data.status=='10000'){\r\n                message.success(response.data.message)\r\n                that.getList()\r\n            }else{\r\n                message.warning(response.data.message)\r\n            }\r\n            \r\n            \r\n        }).catch((error) => {\r\n            message.error(error.statusText);\r\n        });\r\n    }\r\n    \r\n    render() {\r\n        return <Tpl that={this} />\r\n    }\r\n}\r\nexport default App;\r\n"],"sourceRoot":""}