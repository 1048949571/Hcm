{"version":3,"sources":["webpack:///./app/widget/index/Administrator/Department/main.js"],"names":["TreeNode","FormItem","Item","Option","AddItemFrom","create","props","getFieldDecorator","form","removeDepartNext","addBoxx","state","addBox","delete","item","id","getList","addHandleSubmit","e","preventDefault","validateFields","err","values","console","log","departName","undefined","length","ajax","post","parentId","departLeader","then","res","data","status","error","message","justifyContent","alignItems","height","marginTop","position","width","bottom","AxlomisdBox","p","handleChange","value","childrenString","onChangeSele","hSumChangedele","addBoxtwo","expandedKeys","Set","expandedKeystwo","hSumChange","departNamel","parentid","initialValue","leaderid","display","map","d","i","realname","DepartmentManagement","addStatus","bl","setState","addshow","handleCancels","visible","handleOk","subSysDepartmentIn","ModalText","confirmLoading","setTimeout","ModalTexts","fun","get","params","response","treeData","catch","statusText","creatTreeDom","index","has","titleTreeNode","BJDepartNext","departmentId","result","date","forEach","r","push","childrenStrings","add","clear","RemoveDepartNext","addDepartNext","overflow","onExpand","evtnt","handleOkEId","m","arr","loop","React","Component"],"mappings":"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","file":"js/chunk/218_96bd4ef3ea4532406bcc.js","sourcesContent":["import Tpl from './tpl';\r\nimport ajax from '../../../../js/common/ajax';\r\nimport { Form, message, Row, Col, Tree, Icon, Input, Select, Button } from 'antd';\r\nconst TreeNode = Tree.TreeNode;\r\nconst FormItem = Form.Item;\r\nconst Option = Select.Option;\r\n\r\nconst AddItemFrom = Form.create()((props) => {\r\n    const { getFieldDecorator } = props.form;\r\n    const removeDepartNext = () => {\r\n        let addBoxx = props.state.addBox;\r\n        // let expandedKeys = new Set(props.state.expandedKeys);\r\n        // expandedKeys.delete(`${props.item.id}`)\r\n        addBoxx.delete(props.item.id)\r\n        props.state.addBox = addBoxx\r\n        // props.state.expandedKeys = [...expandedKeys]\r\n        props.getList()\r\n    }\r\n    const addHandleSubmit = (e) => {\r\n        e.preventDefault();\r\n        props.form.validateFields((err, values) => {\r\n            if (!err) {\r\n                console.log(values);\r\n                if (values.departName != undefined && values.departName != \"\") {\r\n                    if (values.departName.length <= 50) {\r\n                        ajax.post('/hcm/departmentin/savaDepartment', {\r\n                            parentId: props.item.id,\r\n                            departName: values.departName,\r\n                            departLeader: []\r\n                        })\r\n                            .then((res) => {\r\n                                if (res.data.status == 10000) {\r\n                                    props.getList()\r\n                                    removeDepartNext()\r\n                                } else if (res.data.status == 10400) {\r\n                                    message.error(res.data.message)\r\n                                    props.getList()\r\n                                    removeDepartNext()\r\n                                }\r\n                            })\r\n                    } else {\r\n                        message.error(\"部门名称限制50个字符以内！\")\r\n                    }\r\n                } else {\r\n                    message.error(\"请输入新增的部门名称！\")\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    return (\r\n        <Form>\r\n            <Row  style={{ justifyContent: 'space-between',alignItems: 'center', height: 40,marginTop: 8}} type=\"flex\" justify='space-between'>\r\n                <Col span={9}>\r\n                    <FormItem >\r\n                        {getFieldDecorator('departName', {\r\n\r\n                        })(<Input placeholder=\"请输入部门名称\" style={{ position: \"absolute\", width: \"240px\", bottom: \"-20px\" }} />)}\r\n                    </FormItem>\r\n                </Col>\r\n                <Col span={9}>\r\n                    <FormItem style={{ width: \"100%\" }}>\r\n                        {getFieldDecorator('departLeader', {\r\n\r\n                        })(<Select\r\n                            style={{ position: \"absolute\", width: \"240px\", bottom: \"-20px\" }}\r\n                            mode=\"multiple\"\r\n                            placeholder=\"请选择负责人\"\r\n                        >\r\n                            <Option value=\"disabled\" disabled>暂无数据</Option>\r\n                        </Select>)}\r\n                    </FormItem>\r\n                </Col>\r\n                <Col className='text-right' span={4}>\r\n                    <FormItem>\r\n                        <Row type=\"flex\" justify='space-between'>\r\n\r\n                            <Col>\r\n                                <a onClick={addHandleSubmit}> 确定</a>\r\n\r\n                            </Col>\r\n                            <Col>\r\n                                <a onClick={removeDepartNext}>取消</a>\r\n\r\n                            </Col>\r\n                        </Row>\r\n                    </FormItem>\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    )\r\n});\r\n\r\nconst AxlomisdBox = Form.create()((props, p) => {\r\n    const { getFieldDecorator } = props.form;\r\n    // console.log(props.childrenString.childrenStrings)\r\n    console.log(props.item)\r\n\r\n    const handleChange = (value) => {\r\n\r\n        props.childrenString.onChangeSele = value;\r\n        // console.log(props.childrenString.onChangeSele)\r\n    }\r\n    const hSumChangedele = () => {\r\n        let addBoxx = props.childrenString.addBoxtwo;\r\n        let expandedKeys = new Set(props.childrenString.expandedKeystwo);\r\n        expandedKeys.delete(`${props.item.id}`)\r\n        //console.log(addBoxx)\r\n        addBoxx.delete(props.item.id)\r\n        //console.log(addBoxx)\r\n        props.childrenString.addBoxtwo = addBoxx\r\n        props.childrenString.expandedKeystwo = [...expandedKeys]\r\n        props.getList()\r\n\r\n    }\r\n\r\n    const hSumChange = (e) => {\r\n        e.preventDefault();\r\n        props.form.validateFields((err, values) => {\r\n            if (!err) {\r\n                if (values.departNamel != undefined && values.departNamel != \"\") {\r\n                    if (values.departNamel.length <= 50) {\r\n                        \r\n                            ajax.post('/hcm/departmentin/savaDepartment', {\r\n                                parentId: props.item.parentid,\r\n                                id: props.item.id,\r\n                                departName: values.departNamel,\r\n                                departLeader: values.departName\r\n                            })\r\n                            .then((res) => {\r\n                                if (res.data.status == 10000) {\r\n                                    hSumChangedele()\r\n\r\n                                } else if (res.data.status == 10400) {\r\n                                    message.error(res.data.message)\r\n                                    hSumChangedele()\r\n                                }\r\n                            })\r\n                        \r\n                            \r\n                        \r\n                    } else {\r\n                        message.error(\"部门名称限制50个字符以内！\")\r\n                    }\r\n                } else {\r\n\r\n                    message.error(\"请输入新增的部门名称！\")\r\n                }\r\n            }\r\n        });\r\n    }\r\n    return (\r\n        <Row className='item' type=\"flex\" justify='space-between'>\r\n            <Col span={9}>\r\n                <FormItem >\r\n                    {getFieldDecorator('departNamel', {\r\n                        initialValue: props.item.departName\r\n                    })(<Input placeholder=\"请输入部门名称\" />)}\r\n                </FormItem>\r\n            </Col>\r\n            <Col span={9}>\r\n                <FormItem >\r\n                    {getFieldDecorator('departName', {\r\n                        initialValue: props.item.leaderid ?+props.item.leaderid :null\r\n                    })(\r\n                        <Select\r\n                            style={{ display: \"block\", width: '250px', marginTop: \"5px\" }}\r\n                            placeholder=\"请选择负责人\"\r\n                        >\r\n                            {\r\n                                props.childrenString.childrenString != \"\" ?\r\n                                    props.childrenString.childrenString[0].map((d, i) => <Option key={i} value={d.id}>{d.realname}</Option>) : \"\"\r\n                            }\r\n                        </Select>\r\n                        )}\r\n                </FormItem>\r\n            </Col>\r\n            <Col span={4}>\r\n                <Row type=\"flex\" justify='space-between'>\r\n\r\n                    <Col>\r\n                        <a onClick={hSumChange}>保存</a>\r\n\r\n                    </Col>\r\n                    <Col>\r\n                        <a onClick={hSumChangedele}>取消</a>\r\n\r\n                    </Col>\r\n                </Row>\r\n            </Col>\r\n        </Row>\r\n    )\r\n});\r\n\r\nclass DepartmentManagement extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            treeData: [],\r\n            addshow: false,\r\n            expandedKeys: [],\r\n            expandedKeystwo: [],\r\n            visible: false,\r\n            confirmLoading: false,\r\n            handleOk: \"\",\r\n            handleOkEId: \"\",\r\n            ModalText: '',\r\n            ModalTexts: \"\",\r\n            m: false,\r\n            onChangeSele: [],\r\n            childrenString: [],\r\n            childrenStrings: [],\r\n            addBox: new Set(),\r\n            addBoxtwo: new Set()\r\n        }\r\n    }\r\n    addStatus = (bl) => {\r\n        this.setState({\r\n            addshow: bl\r\n        })\r\n    }\r\n    componentWillMount(){\r\n        \r\n    }\r\n    componentDidMount() {\r\n        this.getList(()=>{\r\n            let treeData = this.state.treeData;\r\n            let arr = []\r\n            function loop(data){\r\n                data.forEach((item,index)=>{\r\n                    if(item.subSysDepartmentIn){\r\n                        arr.push(`${item.id}`)\r\n                        loop(item.subSysDepartmentIn)\r\n                    }\r\n                })\r\n            }\r\n            loop(treeData)\r\n            this.setState({\r\n                expandedKeys:arr\r\n            })\r\n        })\r\n        \r\n    }\r\n    handleCancels = () => {\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    }\r\n    handleOk = () => {\r\n        if (this.state.handleOk.subSysDepartmentIn == null) {\r\n            this.setState({\r\n                ModalText: '你确认要删除该部门嘛？',\r\n                confirmLoading: true,\r\n            });\r\n            ajax.post('/hcm/departmentin/deleteDepartment', {\r\n                id: this.state.handleOk.id\r\n            })\r\n                .then((res) => {\r\n                    // console.log(res)\r\n                    if (res.data.status == 10000) {\r\n                        setTimeout(() => {\r\n                            this.setState({\r\n                                visible: false,\r\n                                confirmLoading: false,\r\n                            });\r\n                            this.getList()\r\n                        }, 2000);\r\n                    } else if (res.data.status == 10420) {\r\n\r\n                        message.error(res.data.message)\r\n                        setTimeout(() => {\r\n                            this.setState({\r\n                                visible: false,\r\n                                confirmLoading: false,\r\n                            });\r\n                            this.getList()\r\n                        }, 2000);\r\n                    }\r\n                })\r\n        } else {\r\n            this.setState({\r\n                ModalText: '您暂时不能删除该部门',\r\n                ModalTexts: \"原因该部门下存在子级或子账号！\",\r\n                confirmLoading: false,\r\n                visible: false,\r\n            });\r\n        }\r\n    }\r\n    getList = (fun) => {\r\n        ajax.get('/hcm/departmentin/fuByIds', {\r\n            params: {\r\n                id: 0\r\n            }\r\n        })\r\n            .then((response) => {\r\n                this.setState({\r\n                    treeData: response.data.data\r\n                },()=>fun?fun():null)\r\n            })\r\n            .catch((error) => {\r\n                message.error(error.statusText);\r\n            });\r\n    }\r\n\r\n    creatTreeDom = (data) => {\r\n        let addBox = this.state.addBox;\r\n        return (\r\n            data.map((item, index) => {\r\n\r\n                return (\r\n                    <TreeNode className={item.subSysDepartmentIn || addBox.has(item.id) ? '' : 'leaf'} title={this.titleTreeNode(item)} key={item.id}>\r\n\r\n                        {\r\n                            addBox.has(item.id) ?\r\n                                <TreeNode className={'leaf'} title={<AddItemFrom state={this.state} getList={this.getList} item={item} />} key={'add' + item.id} />\r\n                                :\r\n                                null\r\n                        }\r\n                        {\r\n                            item.subSysDepartmentIn ?\r\n                                this.creatTreeDom(item.subSysDepartmentIn)\r\n                                :\r\n                                null\r\n                        }\r\n                    </TreeNode>\r\n                )\r\n            })\r\n        )\r\n    }\r\n\r\n    BJDepartNext = (item) => {\r\n        ajax.post('/hcm/userin/getListByDepartment', {//负责人\r\n            departmentId: item.id\r\n        }).then((res) => {\r\n            if (res.data.status == 10000) {\r\n                const result = res.data.data;\r\n                const data = [];\r\n                const date = []\r\n                result.forEach((r) => {\r\n                 //   console.log(r)\r\n                    data.push({\r\n                        realname: r.realname,\r\n                        id: r.id\r\n                    });\r\n                    date.push(r.id);\r\n                });\r\n               // console.log()\r\n                this.setState({\r\n                    childrenString: [],\r\n                    childrenStrings: []\r\n                }, () => {\r\n                    this.state.childrenString.push(data)\r\n                    this.state.childrenStrings.push(date)\r\n                    let addBoxtwo = this.state.addBoxtwo;\r\n                    let expandedKeys = new Set();\r\n                    expandedKeys.add(`${item.id}`)\r\n                    addBoxtwo.clear()\r\n                    addBoxtwo.add(item.id)\r\n\r\n                    this.setState({\r\n                        addBoxtwo,\r\n                        expandedKeystwo: [...expandedKeys]\r\n                    })\r\n                })\r\n            }\r\n        })\r\n\r\n    }\r\n    RemoveDepartNext = (item) => {\r\n        this.setState({\r\n            visible: true,\r\n            handleOk: item\r\n        });\r\n        if (item.subSysDepartmentIn == null) {\r\n            this.setState({\r\n                ModalText: '你确认要删除该部门嘛？',\r\n                ModalTexts: \"\"\r\n            });\r\n        } else {\r\n            this.setState({\r\n                ModalText: '您暂时不能删除该部门,',\r\n                ModalTexts: \"原因该部门下存在子级或子账号！\"\r\n            });\r\n        }\r\n    }\r\n    addDepartNext = (item) => {\r\n        let addBox = this.state.addBox;\r\n        let expandedKeys = new Set(this.state.expandedKeys);\r\n        expandedKeys.add(`${item.id}`)\r\n        addBox.add(item.id)\r\n        console.log(addBox)\r\n        this.setState({\r\n            addBox,\r\n            expandedKeys: [...expandedKeys]\r\n        })\r\n    }\r\n\r\n    titleTreeNode = (item) => {\r\n        let {addBoxtwo,expandedKeystwo} = this.state;\r\n        return (\r\n            <React.Fragment>\r\n                {\r\n                    addBoxtwo.has(item.id) ? <AxlomisdBox childrenString={this.state} getList={this.getList} removeDepartNext={this.removeDepartNext} item={item} /> : <Row className='item' type=\"flex\" justify='space-between'>\r\n                        <Col span={9} style={{overflow:\"hidden\"}}>\r\n                            {item.departName}\r\n                        </Col>\r\n                        <Col span={9}>\r\n                            负责人:{item.departLeader}\r\n                        </Col>\r\n                        <Col span={4}>\r\n                            <Row type=\"flex\" style={{height:'100%'}} justify='space-between'>\r\n                                <Col>\r\n                                    <a onClick={() => this.addDepartNext(item)}>新增下级</a>\r\n                                </Col>\r\n                                <Col>\r\n                                    <a  onClick={() => this.BJDepartNext(item)}>编辑</a>\r\n\r\n                                </Col>\r\n                                <Col>\r\n                                    <a onClick={() => this.RemoveDepartNext(item)}>删除</a>\r\n\r\n                                </Col>\r\n                            </Row>\r\n                        </Col>\r\n                    </Row>\r\n                }\r\n            </React.Fragment>\r\n\r\n        )\r\n    }\r\n    onExpand = (expandedKeys, evtnt) => {\r\n        this.setState({\r\n            expandedKeys\r\n        })\r\n    }\r\n    render() {\r\n        return <Tpl that={this} />\r\n    }\r\n}\r\nexport default DepartmentManagement\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}