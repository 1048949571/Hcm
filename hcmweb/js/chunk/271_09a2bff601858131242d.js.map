{"version":3,"sources":["webpack:///./app/widget/index/Brand/SalesDataDetail/main.js"],"names":["App","props","getDealerShopList","dealer_id","state","method","url","data","then","res","status","message","setState","dealerShopList","catch","getSaleData","params","shop_id","month","pagination","pageNo","pageSize","ser_month","saleDataList","content","Object","assign","pageNumber","totalElements","handleDateChange","value","values","match","handleSelectChange","handlePageChange","page","React","Component"],"mappings":"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","file":"js/chunk/271_09a2bff601858131242d.js","sourcesContent":["import Tpl from './tpl'\r\nimport axios from '../../../../js/common/ajax'\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      dealer_id: props.match.params.dealer_id,\r\n      shop_id: props.match.params.shop_id,\r\n      month: props.match.params.month,\r\n      pagination: {\r\n        pageNo: 1,\r\n        pageSize: 10\r\n      },\r\n      saleDataList: [],\r\n      dealerShopList: [],\r\n    }\r\n  }\r\n  componentWillMount() {\r\n    this.getSaleData()\r\n    this.getDealerShopList()\r\n  }\r\n  // 获取客户店铺列表\r\n  getDealerShopList = () => {\r\n    const { dealer_id } = this.state\r\n    axios({\r\n      method: 'post',\r\n      url: '/hcm/dealer/DealerDetail_Authshop',\r\n      data: {\r\n        dealer_id\r\n      }\r\n    }).then(res => {\r\n      const { data, status, message } = res.data\r\n      if (status === '10000') {\r\n        this.setState({\r\n          dealerShopList: data\r\n        })\r\n      }\r\n    }).catch()\r\n  }\r\n  // 获取每天的销售数据\r\n  getSaleData = (params = {}) => {\r\n    const { dealer_id, shop_id, month, pagination: { pageNo, pageSize } } = this.state\r\n    axios({\r\n      method: 'post',\r\n      url: '/hcm/dayReport/day',\r\n      data: {\r\n        dealer_id,\r\n        shop_id,\r\n        ser_month: month,\r\n        pageNo,\r\n        pageSize,\r\n        ...params\r\n      }\r\n    }).then(res => {\r\n      const { data, status, message } = res.data\r\n      if (status === '10000') {\r\n        this.setState({\r\n          saleDataList: data.content,\r\n          pagination: Object.assign({}, this.state.pagination, {\r\n            pageNo: data.pageNumber,\r\n            pageSize: data.pageSize,\r\n            totalElements: data.totalElements\r\n          })\r\n        })\r\n      }\r\n    }).catch()\r\n  }\r\n  handleDateChange = (value, values) => {\r\n    // console.log(value, values)\r\n    this.setState({\r\n      month: values === '' ? this.props.match.params.month : values\r\n    }, () => {\r\n      this.getSaleData()\r\n    })\r\n  }\r\n  handleSelectChange = (value) => {\r\n    // console.log(value)\r\n    this.setState({\r\n      shop_id: value === '' ? this.props.match.params.shop_id : value\r\n    }, () => {\r\n      this.getSaleData()\r\n    })\r\n  }\r\n  handlePageChange = (page) => {\r\n    // console.log(page)\r\n    this.setState({\r\n      pagination: Object.assign({}, this.state.pagination, {\r\n        pageNo: page\r\n      })\r\n    }, () => {\r\n      this.getSaleData()\r\n    })\r\n  }\r\n  render() {\r\n    return <Tpl that={this} />\r\n  }\r\n}\r\n\r\nexport default App"],"sourceRoot":""}