{"version":3,"sources":["webpack:///./app/widget/index/Shop/DataInformations/main.js"],"names":["mapState","currentBrand","state","dealer","DataInformations","props","ModifyPhone","mobile","undefined","window","location","HistoryGo","history","go","JBWEIxing","ajax","post","userid","usertype","then","res","console","log","data","status","setState","WEIXING","DidMountText","error","message","BDWEIxing","ticket","getBybmcidAndModule","get","params","module","titleList","add","catch","jsonObject","JSON","parse","add_field","dealername","dict_name","id","memo","principal","region","shop_url","username","wangwang","PopoWei","unionid","nickname","BTNtit","BJBtn","visible","confirmLoading","ForgetSubmit","e","preventDefault","form","validateFields","err","values","province","contact","take_people","length","han","test","address","city","strict","takePeople","ModifyPassword","handleCancel","React","Component","create"],"mappings":"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","file":"js/chunk/342_627093e13fa9d406e3e7.js","sourcesContent":["import Tpl from './tpl';\r\nimport ajax from '../../../../js/common/ajax'\r\nimport { Form, message } from 'antd';\r\nimport { connect } from 'react-redux'\r\n\r\nconst mapState = state => ({\r\n    currentBrand: state.dealer.currentBrand\r\n})\r\n@connect(mapState)\r\nclass DataInformations extends React.Component {\r\n    constructor(props) {\r\n        // document.title = '资料信息';\r\n        super(props)\r\n        this.state = {\r\n            visible: false,//新增弹框\r\n            confirmLoading: false,\r\n            dealername: \"\",\r\n            dict_name: \"\",\r\n            id: \"\",\r\n            memo: \"\",\r\n            mobile: \"\",\r\n            principal: \"\",\r\n            region: \"\",\r\n            shop_url: \"\",\r\n            username: \"\",\r\n            wangwang: \"\",\r\n            PopoWei: \"\",\r\n            userid: \"\",\r\n\r\n            strict: \"\",\r\n            BTNtit: \"\",\r\n            WEIXING: \"未绑定\",\r\n            titleList:[],\r\n            add_field:{}\r\n        }\r\n\r\n\r\n    }\r\n    componentDidMount() {\r\n        this.DidMountText()\r\n        this.getBybmcidAndModule()\r\n    }\r\n    ModifyPhone = () => {\r\n        if (this.state.mobile != \"\" && this.state.mobile != undefined) {\r\n            window.location = \"/index.html#/ModifyBindings/c/\" + this.state.mobile + \"/n\"\r\n        } else {\r\n            window.location = \"/index.html#/ModifyPhone/c/\" + this.state.mobile\r\n        }\r\n    }\r\n    HistoryGo = () => {\r\n        window.history.go(-1)\r\n    }\r\n    JBWEIxing = () => {\r\n        ajax.post('/hcm/user/unbindWX', {\r\n            userid: this.state.userid,\r\n            usertype: \"c\"\r\n        })\r\n            .then((res) => {\r\n                console.log(res)\r\n                if (res.data.status == 10000) {\r\n                    this.setState({\r\n                        WEIXING: \"未绑定\"\r\n                    }, () => {\r\n                        this.DidMountText()\r\n                    })\r\n                } else {\r\n                    message.error(res.data.message)\r\n                }\r\n\r\n            })\r\n    }\r\n    BDWEIxing = () => {\r\n        console.log(1)\r\n        ajax.post('/hcm/wechat/getQRcode', {\r\n            userid: this.state.userid,\r\n            usertype: \"c\"\r\n        })\r\n            .then((res) => {\r\n                //console.log(res)\r\n                if (res.data.status == 10000) {\r\n                    this.setState({\r\n                        ticket: \"https://mp.weixin.qq.com/cgi-bin/showqrcode?ticket=\" + res.data.data\r\n                    }, () => {\r\n                        this.DidMountText()\r\n                    })\r\n                } else {\r\n                    message.error(res.data.message)\r\n                }\r\n\r\n            })\r\n    }\r\n    getBybmcidAndModule=()=>{\r\n        ajax.get('/hcm/hcmCustomModel/getBybmcidAndModule',{\r\n            params: {\r\n                module: 'SHOP'\r\n            }\r\n        }).then(res => {\r\n            const { data, status, message } = res.data\r\n            if (status === '10000') {\r\n                this.setState({\r\n                    titleList:data.add.data\r\n                })\r\n\r\n            }\r\n        }).catch(err => {\r\n            \r\n            message.error('系统繁忙，请稍后再试！')\r\n        })\r\n    }\r\n    DidMountText = () => {\r\n\r\n        ajax.post('/hcm/dealer/findById')\r\n            .then((res) => {\r\n                if (res.data.status == 10000) {\r\n                    if (res.data.data != null && res.data.data != undefined) {\r\n                       \r\n                        var jsonObject = JSON.parse(res.data.data.add_field); \r\n                        // var valuex=[]\r\n                        // var keys=[]\r\n                        // console.log(jsonObject)\r\n                        // for (var p in jsonObject){\r\n                        //     valuex.push(jsonObject[p]);\r\n                        //     keys.push(p);\r\n\r\n                        // }\r\n                        \r\n                        this.setState({\r\n                            add_field: jsonObject,\r\n                            dealername: res.data.data.dealername,\r\n                            dict_name: res.data.data.dict_name,\r\n                            id: res.data.data.id,\r\n                            memo: res.data.data.memo,\r\n                            mobile: res.data.data.mobile,\r\n                            principal: res.data.data.principal,\r\n                            region: res.data.data.region,\r\n                            shop_url: res.data.data.shop_url,\r\n                            username: res.data.data.username,\r\n                            wangwang: res.data.data.wangwang,\r\n                            PopoWei: res.data.data.unionid,\r\n                            userid: res.data.data.userid,\r\n\r\n                        })\r\n                        if (this.state.PopoWei != \"\" && this.state.PopoWei != undefined) {\r\n                            this.setState({\r\n                                WEIXING: res.data.data.nickname\r\n                            })\r\n                        }\r\n                        if (this.state.mobile != \"\" && this.state.mobile != undefined) {\r\n                            this.setState({\r\n                                BTNtit: \"修改绑定>\"\r\n                            })\r\n\r\n                        } else {\r\n                            this.setState({\r\n                                BTNtit: \"绑定手机>\"\r\n                            })\r\n                        }\r\n                    } else {\r\n                        this.setState({\r\n                            BTNtit: \"绑定手机>\"\r\n                        })\r\n                    }\r\n                } else {\r\n                    message.error(res.data.message)\r\n                    this.setState({\r\n                        BTNtit: \"绑定手机>\"\r\n                    })\r\n\r\n                }\r\n            })\r\n\r\n    }\r\n    BJBtn = () => {\r\n\r\n        this.setState({\r\n            visible: true,\r\n            confirmLoading: true\r\n        })\r\n    }\r\n    ForgetSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            console.log(values)\r\n            if (values.province[0] != \"\" && values.province[0] != undefined) {\r\n                if (values.contact != \"\" && values.contact != undefined) {\r\n                    if (values.take_people != \"\" && values.take_people != undefined) {\r\n                        if (values.contact.length <= 50) {\r\n                            const han = /[\\u4E00-\\u9FA5]/i;\r\n                            if (!han.test(values.contact)) {\r\n                                if (values.take_people.length <= 32) {\r\n                                    if (values.address.length <= 100) {\r\n                                        ajax.post('/hcm/dealer/updateDealer', {\r\n                                            id: this.state.id,\r\n                                            province: values.province[0],\r\n                                            city: values.province[1],\r\n                                            strict: values.province[2],\r\n                                            address: values.address,\r\n                                            contact: values.contact,\r\n                                            takePeople: values.take_people\r\n                                        })\r\n                                            .then((res) => {\r\n                                                if (res.data.status == 10000) {\r\n                                                    console.log(res)\r\n                                                    this.setState({\r\n                                                        visible: false,\r\n                                                        confirmLoading: false\r\n                                                    })\r\n                                                    this.DidMountText()\r\n                                                } else if (res.data.status == 12003) {\r\n                                                    message.error(res.data.message)\r\n                                                }\r\n                                            })\r\n                                    } else {\r\n                                        message.error(\"详情地址限制100个字符以内！\")\r\n                                    }\r\n                                } else {\r\n                                    message.error(\"对接人限制32个字符以内！\")\r\n                                }\r\n                            } else {\r\n                                message.error(\"联系方式不可以输入汉字！\")\r\n                            }\r\n\r\n                        } else {\r\n                            message.error(\"联系方式限制50个字以内！\")\r\n                        }\r\n\r\n                    } else {\r\n                        message.error(\"请输入对接人！\")\r\n                    }\r\n                } else {\r\n                    message.error(\" 请输入联系方式！\")\r\n                }\r\n            } else {\r\n                message.error(\" 请输入所在地区！\")\r\n            }\r\n\r\n        })\r\n    }\r\n\r\n\r\n    ModifyPassword = () => {\r\n\r\n        window.location = \"/index.html#/ModifyPassword/\" + this.state.username\r\n    }\r\n    handleCancel = () => {\r\n        this.setState({\r\n            visible: false,\r\n            confirmLoading: false\r\n        })\r\n    }\r\n    render() {\r\n        return <Tpl that={this} />\r\n    }\r\n}\r\nexport default Form.create()(DataInformations)"],"sourceRoot":""}