{"version":3,"sources":["webpack:///./app/widget/index/Brand/CategorySelect/main.js","webpack:///./app/widget/index/Brand/CategorySelect/tpl.js"],"names":["App","props","getList","ajax","get","params","dictcode","then","response","setState","dataList","data","catch","error","statusText","chSelect","value","option","id","onSubmit","post","state","status","success","localStorage","catid","window","location","href","React","Component","Option","Tpl","that","width","input","children","toLowerCase","indexOf","map","item","index","dictName"],"mappings":"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","file":"js/chunk/239_64b9cb80a6ea9b1ed4fd.js","sourcesContent":["import Tpl from './tpl';\r\nimport ajax from '../../../../js/common/ajax';\r\nimport {message} from 'antd';\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            dataList: [],\r\n            id:null\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.getList()\r\n    }\r\n   \r\n    getList = () => {\r\n        ajax.get('/hcm/sys/GetList',{\r\n            params: {\r\n                dictcode: 'category'\r\n            }\r\n        })\r\n        .then((response) => {\r\n            this.setState({\r\n                dataList: response.data.data\r\n            })\r\n        })\r\n        .catch((error) => {\r\n            message.error(error.statusText);\r\n        });\r\n    }\r\n    chSelect = (value, option) =>{\r\n        this.setState({\r\n            id:value\r\n        })\r\n    }\r\n    onSubmit=()=>{\r\n        ajax.post('/hcm/sys/SetCat',{\r\n            id:this.state.id\r\n        })\r\n        .then((response) => {\r\n            if(response.data.status =='10000'){\r\n                message.success('设置成功')\r\n                localStorage.catid = this.state.id;\r\n                window.location.href = '/index.html#/';\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            message.error(error.statusText);\r\n        });\r\n    }\r\n    render() {\r\n        return <Tpl that={this} />\r\n    }\r\n}\r\nexport default App;","\r\nimport ThatMain from '../../../HOC/That';\r\nimport { Select, Button } from 'antd';\r\nconst Option = Select.Option;\r\nconst Tpl = ThatMain((that) => {\r\n    let { dataList } = that.state;\r\n    return (\r\n        <div className='CategorySelect'>\r\n            <div className='content'>\r\n                <h2>请选择公司所属行业类目</h2>\r\n                <p>行业类目</p>\r\n                <Select\r\n                    showSearch\r\n                    style={{ width: 300 }}\r\n                    value={that.state.id}\r\n                    onChange={(value, option) => that.chSelect(value, option)}\r\n                    placeholder=\"请选择\"\r\n                    filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\r\n                >\r\n                    {\r\n                        dataList.map((item, index) => {\r\n                            return (\r\n                                <Option key={index} value={item.id}>{item.dictName}</Option>\r\n                            )\r\n                        })\r\n                    }\r\n                </Select>\r\n                <p className='button'>\r\n                    <Button onClick={()=>that.onSubmit()}>确认</Button>\r\n                </p>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n})\r\nexport default Tpl"],"sourceRoot":""}