{"version":3,"sources":["webpack:///./app/widget/index/Brand/OrderAnalysis/main.js"],"names":["DEFAULT_PAGE","pageNo","pageSize","App","props","handleTabChange","flag","key","getImportantShopSalesRank","commonParams","product_id","getImportantVipPercent","setState","importantProductDefaultKey","getProductSalesRank","shopId","shopImportantDefaultKey","handlePageChange","funcName","page","params","state","data","start_time","format","end_time","pagination","handleTimeChange","dates","length","warning","getHotProductSalesRank","getCategorySalesRank","getImportantProductData","getVipProvincePercent","getVipCityPercent","getShopSalesRank","getShopImportantList","getChartData","ajax","get","then","res","status","message","chartData","inChart","error","catch","myChart","echarts","init","document","getElementById","setOption","tooltip","trigger","formatter","a","b","color","seriesName","value","grid","left","top","bottom","right","xAxis","type","axisLine","lineStyle","month","yAxis","name","axisTick","show","splitLine","axisLabel","series","barGap","yAxisIndex","itemStyle","ordernumList","salesList","url","getFn","focus","shopImportantList","id","importantProductList","list","content","pageNumber","totalElements","AddModal","React","createRef","moment","subtract","importantShopSalesRank","importantVipPercent","hotProductSalesRank","categorySalesRank","shopSalesRank","productSalesRank","vipProvincePercent","vipCityPercent","Component"],"mappings":"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","file":"js/chunk/261_019691174b33f0a3f02f.js","sourcesContent":["import Tpl from './tpl';\r\nimport { Form, message as Msg} from 'antd';\r\nimport echarts from 'echarts';\r\nimport ajax from '../../../../js/common/ajax';\r\n\r\nconst DEFAULT_PAGE = {\r\n    pageNo: 1,\r\n    pageSize: 10,\r\n}\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.AddModal = React.createRef();\r\n        this.state = {\r\n            id:null,\r\n            chartData:{},\r\n            start_time: moment().subtract(30,'d'),\r\n            end_time: moment(),\r\n\r\n            importantProductList: [],\r\n            importantProductDefaultKey: '',\r\n            importantShopSalesRank: {}, //重点关注单品-店铺销售额排名\r\n            importantVipPercent: {},   //重点关注单品-会员所在城市占比排名\r\n            hotProductSalesRank: {}, // 热销单品销售额\r\n            categorySalesRank: {},  // 分类销售额排名\r\n\r\n\r\n            shopSalesRank: {},          // 店铺销售额排名\r\n            productSalesRank: {},       // 商品销售额排名\r\n            shopImportantList: [],      // 重点关注店铺列表\r\n            shopImportantDefaultKey: '',    // \r\n\r\n\r\n            vipProvincePercent: {},       // 订单信息分析 -> 会员分析-> 省份\r\n            vipCityPercent: {},     // 订单信息分析 -> 会员分析-> 城市\r\n\r\n\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getChartData()\r\n        this.getHotProductSalesRank(this.commonParams(DEFAULT_PAGE))\r\n        this.getCategorySalesRank(this.commonParams(DEFAULT_PAGE))\r\n        this.getImportantProductData()\r\n\r\n        this.getVipProvincePercent(this.commonParams(DEFAULT_PAGE))\r\n        this.getVipCityPercent(this.commonParams(DEFAULT_PAGE))\r\n        \r\n        this.getShopSalesRank(this.commonParams(DEFAULT_PAGE))\r\n        this.getShopImportantList()\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    handleTabChange = (flag, key) => {\r\n        \r\n        if (flag === '2') {\r\n            this.getImportantShopSalesRank(this.commonParams({...DEFAULT_PAGE,product_id:key}))\r\n            this.getImportantVipPercent(this.commonParams({...DEFAULT_PAGE,product_id:key}))\r\n            this.setState({\r\n                importantProductDefaultKey: key,\r\n            })\r\n        }\r\n        if (flag === '1') {\r\n            this.getProductSalesRank(this.commonParams({...DEFAULT_PAGE,shopId:key}))\r\n            this.setState({\r\n                shopImportantDefaultKey: key,\r\n            })\r\n        }\r\n    }\r\n\r\n    handlePageChange = (funcName, page) => {\r\n        const params = {\r\n            pageNo:page,\r\n            pageSize:DEFAULT_PAGE.pageSize,\r\n        }\r\n        if (funcName === 'getProductSalesRank') {\r\n            params.shopId = this.state.shopImportantDefaultKey\r\n        }\r\n        if (funcName === 'getImportantVipPercent' || funcName === 'getImportantShopSalesRank') {\r\n            params.product_id = this.state.importantProductDefaultKey\r\n        }\r\n        this[funcName](this.commonParams(params))\r\n    }\r\n\r\n    commonParams = pagination => {\r\n        const data = {\r\n            start_time: this.state.start_time.format('YYYY-MM-DD')+' 00:00:00',\r\n            end_time: this.state.end_time.format('YYYY-MM-DD')+' 23:59:59',\r\n            pageNo: pagination.pageNo,\r\n            pageSize: pagination.pageSize,\r\n        }\r\n        if (pagination.product_id) {\r\n            data.product_id = pagination.product_id\r\n        }\r\n        if (pagination.shopId) {\r\n            data.shopId = pagination.shopId\r\n        }\r\n        return data\r\n    }\r\n\r\n    handleTimeChange = dates => {\r\n        if (dates.length === 0) {\r\n            Msg.warning('时间不能为空！')\r\n            return\r\n        }\r\n        this.setState({\r\n            start_time: dates[0],\r\n            end_time: dates[1],\r\n        }, () => {\r\n            this.getHotProductSalesRank(this.commonParams(DEFAULT_PAGE))\r\n            this.getCategorySalesRank(this.commonParams(DEFAULT_PAGE))\r\n            this.getImportantProductData()\r\n\r\n            this.getVipProvincePercent(this.commonParams(DEFAULT_PAGE))\r\n            this.getVipCityPercent(this.commonParams(DEFAULT_PAGE))\r\n            \r\n            this.getShopSalesRank(this.commonParams(DEFAULT_PAGE))\r\n            this.getShopImportantList()\r\n\r\n        })\r\n        \r\n    }\r\n    getChartData=()=>{\r\n        ajax.get('/hcm/hcmShopMonitor/getSalesYear')\r\n        .then(res => {\r\n            const { data, status, message } = res.data\r\n            if (status === '10000') {\r\n                this.setState({\r\n                    chartData:data\r\n                },()=>{\r\n                    this.inChart()\r\n                })\r\n                \r\n            } else {\r\n                Msg.error(message)\r\n            }\r\n        }).catch(err => {\r\n            Msg.error('系统繁忙，请稍后再试！')\r\n        })\r\n    }\r\n    inChart = ()=>{\r\n        let {chartData} = this.state;\r\n        const myChart = echarts.init(document.getElementById('chart-bar'));\r\n        myChart.setOption({\r\n            tooltip : {\r\n                trigger: 'axis',\r\n                formatter: params => {\r\n                    let [a,b] = params\r\n                    return(\r\n                        `<div class='tooltip'>\r\n                            ${\r\n                                a ? \r\n                                `\r\n                                <p>\r\n                                    <span style='background-color:${a.color};'></span>\r\n                                    ${a.seriesName}:${a.value}\r\n                                </p>\r\n                                `\r\n                                :``\r\n                            }\r\n                            ${\r\n                                b ? \r\n                                `\r\n                                <p>\r\n                                    <span style='background-color:${b.color};'></span>\r\n                                    ${b.seriesName}:${b.value}\r\n                                </p>\r\n                                `\r\n                                :``\r\n                            }\r\n                        </div>`\r\n                    )\r\n                }\r\n            },\r\n            grid:{\r\n                left:60,\r\n                top:30,\r\n                bottom:20,\r\n                right:60,\r\n            },\r\n            xAxis : [\r\n                {\r\n                    type : 'category',\r\n                    axisLine:{\r\n                        lineStyle:{\r\n                            color:'#999'\r\n                        }\r\n                    },\r\n                    data : chartData.month\r\n                }\r\n            ],\r\n            yAxis : [\r\n                {\r\n                    type: 'value',\r\n                    name: '单位（ 单 ）',\r\n                    axisTick: {\r\n                        show: false\r\n                    },\r\n                    axisLine:{\r\n                        show:false\r\n                    },\r\n                    splitLine:{\r\n                        lineStyle:{\r\n                            type:'dashed'\r\n                        }\r\n                        \r\n                    },\r\n                    axisLabel: {\r\n                        formatter: '{value}'\r\n                    }\r\n                },\r\n                {\r\n                    type: 'value',\r\n                    name: '单位（ 万元 ）',\r\n                    axisTick: {\r\n                        show: false\r\n                    },\r\n                    axisLine:{\r\n                        show:false\r\n                    },\r\n                    splitLine:{\r\n                        show:false\r\n                    },\r\n                    axisLabel: {\r\n                        formatter: '{value}'\r\n                    }\r\n                }\r\n            ],\r\n            series : [\r\n                {\r\n                    name:'订单数',\r\n                    type:'bar',\r\n                    barGap: 0,\r\n                    yAxisIndex: 0,\r\n                    itemStyle:{\r\n                        color:'#3AA1FF'\r\n                    },\r\n                    data: chartData.ordernumList,\r\n                    \r\n                },\r\n                {\r\n                    name:'销售额',\r\n                    type:'bar',\r\n                    barGap: 0,\r\n                    yAxisIndex: 1,\r\n                    itemStyle:{\r\n                        color:'#4ECB73'\r\n                    },\r\n                    data:chartData.salesList,\r\n                    \r\n                }\r\n            ]\r\n        })\r\n    }\r\n\r\n    getShopSalesRank = params => {\r\n        const url = '/hcm/hcmShopMonitor/getShopMoneyTop'\r\n        this.getFn(url, 'shopSalesRank', params)\r\n    }\r\n    getShopImportantList = () => {\r\n        const params = {\r\n            focus: 1,\r\n        }\r\n        ajax.get('/hcm/hcmShop/getShopListByBmcid', {params}).then(res => {\r\n            const { data, status, message } = res.data\r\n            if (status === '10000') {\r\n                // console.log('---yu', data)\r\n                this.setState({\r\n                    shopImportantList: data,\r\n                    shopImportantDefaultKey: data.length?data[0].id:'',\r\n                }, () => {\r\n                    if (data.length !== 0) {\r\n                        this.getProductSalesRank(this.commonParams({...DEFAULT_PAGE,shopId:data[0].id}))\r\n                    }\r\n                })\r\n            } else {\r\n                Msg.error(message)\r\n            }\r\n        }).catch(err => {\r\n            Msg.error('系统繁忙，请稍后再试！')\r\n        })\r\n    }\r\n    getProductSalesRank = params => {\r\n        const url = '/hcm/hcmShopMonitor/getShopProductTop'\r\n        this.getFn(url, 'productSalesRank', params)\r\n    }\r\n\r\n\r\n\r\n\r\n    getVipProvincePercent = params => {\r\n        const url = '/hcm/hcmShopMonitor/getOrderInfoSubAnalysisStrict'\r\n        this.getFn(url, 'vipProvincePercent', params)\r\n    }\r\n    getVipCityPercent = params => {\r\n        const url = '/hcm/hcmShopMonitor/getOrderInfoSubAnalysisCity'\r\n        this.getFn(url, 'vipCityPercent', params)\r\n    }\r\n\r\n    \r\n    getCategorySalesRank = params => {\r\n        const url = '/hcm/hcmShopMonitor/findClassifyItemSort'\r\n        this.getFn(url, 'categorySalesRank', params)\r\n    }\r\n    getHotProductSalesRank = params => {\r\n        const url = '/hcm/hcmShopMonitor/findHotSingletItemSort'\r\n        this.getFn(url, 'hotProductSalesRank', params)\r\n    }\r\n    getImportantProductData = () => {\r\n        ajax.get('/hcm/hcmProduct/findSingletProList').then(res => {\r\n            const { data, status, message } = res.data\r\n            if (status === '10000') {\r\n                // console.log('---yu', data)\r\n                this.setState({\r\n                    importantProductList: data,\r\n                    importantProductDefaultKey: data.length?data[0].id:'',\r\n                }, () => {\r\n                    // console.log({...DEFAULT_PAGE,product_id:data[0].id})\r\n                    if (data.length !== 0) {\r\n                        this.getImportantShopSalesRank(this.commonParams({...DEFAULT_PAGE,product_id:data[0].id}))\r\n                        this.getImportantVipPercent(this.commonParams({...DEFAULT_PAGE,product_id:data[0].id}))\r\n                    }\r\n                })\r\n            } else {\r\n                Msg.error(message)\r\n            }\r\n        }).catch(err => {\r\n            Msg.error('系统繁忙，请稍后再试！')\r\n        })\r\n    }\r\n    getImportantShopSalesRank = params => {\r\n        const url = '/hcm/hcmShopMonitor/findImpShopSort'\r\n        this.getFn(url, 'importantShopSalesRank', params)\r\n    }\r\n    getImportantVipPercent = params => {\r\n        const url = '/hcm/hcmShopMonitor/findImpBuyerSort'\r\n        this.getFn(url, 'importantVipPercent', params)\r\n    }\r\n\r\n    getFn = (url, key, params) => {\r\n        ajax.get(url, {params}).then(res => {\r\n            const { data, status, message } = res.data\r\n            if (status === '10000') {\r\n                this.setState({\r\n                    [key]: {\r\n                        list: data.content,\r\n                        // total: data.obj,\r\n                        pageNo: data.pageNumber,\r\n                        pageSize: data.pageSize,\r\n                        totalElements: data.totalElements,\r\n                    }\r\n                })\r\n            } else {\r\n                Msg.error(message)\r\n            }\r\n        }).catch(err => {\r\n            Msg.error('系统繁忙，请稍后再试！')\r\n        })\r\n    }\r\n    \r\n    render() {\r\n        return <Tpl that={this} />\r\n    }\r\n}\r\nexport default App;\r\n"],"sourceRoot":""}