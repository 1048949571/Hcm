(window.webpackJsonp=window.webpackJsonp||[]).push([[110,142],{1157:function(e,t){},1158:function(e,t){},1159:function(e,t){},1164:function(e,t){},1165:function(e,t){},1166:function(e,t){},1169:function(e,t){},25:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(54));n(53);var l=r(n(28));function r(e){return e&&e.__esModule?e:{default:e}}n(1157);var i=function(t){return e.createElement("div",{className:"layout-wrapper "+(t.className||"")},e.createElement("div",{className:"header-wrapper"},e.createElement(a.default,{className:"breadcrumb"},t.breadcrumbList.map(function(n,l){return""===t.linkList[l]?e.createElement(a.default.Item,{key:n},n):e.createElement(a.default.Item,{href:"javascript:;",key:n},e.createElement("span",{onClick:function(){t.history.go(-t.linkList[l])}},n))}))),e.createElement("div",{className:"layout-content"},t.children),e.createElement("div",{className:"copyright"},e.createElement(l.default,null)))};i.defaultProps={title:"标题",breadcrumbList:[],linkList:[]},t.default=i}).call(this,n(1))},28:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var a=function(t){function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,e.Component),n(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return e.createElement("div",{className:this.props.clazzName?this.props.clazzName:"Copyright"},"Copyright © 杭州久点网络技术有限公司")}}]),a}();t.default=a}).call(this,n(1))},531:function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var l=d(n(45)),r=d(n(80)),i=d(n(70)),c=d(n(14)),o=d(n(27)),s=d(n(11)),u=d(n(30)),m=d(n(48));n(46),n(81),n(85),n(18),n(26),n(22),n(31),n(47);var f=d(n(17)),p=d(n(25));d(n(28));function d(e){return e&&e.__esModule?e:{default:e}}var h=m.default.RangePicker,y=u.default.Option,g=(0,f.default)(function(t){var n=t.state,m=n.dataList,f=n.notice_title,d=n.user_name,g=n.noticeTypeList,E=n.notice_type,v=n.start_time,_=n.end_time,b=n.pageNo,N=n.pageSize,S=n.totalNum,w={width:"14px",height:"14px",opacity:.25,cursor:"pointer"},C=function(n){return t.state[n]&&t.state[n].length?e.createElement(s.default,{type:"close-circle",onClick:function(){return t.handleClearIconClick(n)},style:w}):null};return e.createElement(p.default,{breadcrumbList:["通知公告"],linkList:[""]},e.createElement("div",{className:"Announcements"},e.createElement("div",{className:"content"},e.createElement("div",{className:"search-box"},e.createElement("div",{className:"input-box"},e.createElement("div",{className:"item"},e.createElement("span",{className:"lab"},"公告主题:"),e.createElement(o.default,{onChange:function(e){return t.chSearchIpt(e,"notice_title")},value:f,suffix:C("notice_title"),className:"ipt"})),e.createElement("div",{style:{position:"relative"},id:"alert-type",className:"item"},e.createElement("span",{className:"lab"},"公告类型:"),e.createElement(u.default,{style:{width:"100%"},showSearch:!0,placeholder:"请选择",getPopupContainer:function(){return document.getElementById("alert-type")},value:E,onChange:function(e,n,a){return t.chTreeSelect(e,n,a,"notice_type")},filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},e.createElement(y,{value:null},"全部"),g.map(function(t,n){return e.createElement(y,{key:n,value:t.id},t.dictName)}))),e.createElement("div",{style:{width:"35%",justifyContent:"flex-end"},className:"item"},e.createElement("span",{className:"lab"},"提交时间:"),e.createElement(h,{onChange:function(e){return t.onRangePicker(e)},value:[v,_],format:"YYYY-MM-DD"}))),e.createElement("div",{className:"input-box"},e.createElement("div",{className:"item"},"HCM"==localStorage.logintype?e.createElement(e.Fragment,null,e.createElement("span",{className:"lab"},"发布人:"),e.createElement(o.default,{onChange:function(e){return t.chSearchIpt(e,"user_name")},value:d,suffix:C("user_name"),className:"ipt"})):null),e.createElement("div",{style:{justifyContent:"flex-end"},className:"item"},e.createElement(c.default,{className:"btn6",onClick:function(e){return t.onSearch()}},"查询")))),e.createElement("div",{className:"infolist"},"HCM"==localStorage.logintype||"HCMSUB"==localStorage.logintype?e.createElement("a",{className:"addbut",href:"/index.html#/AddAnnouncement"},e.createElement(c.default,{style:{width:"100%"},type:"dashed"},"新增 ")):null,e.createElement("ul",{className:"items"},m.length?m.map(function(n,l){var r=n.notice_send_type,c=n.isread,o=n.notice_title,s=n.notice_content,u=n.notice_typename,m=n.user_name,f=n.noticeDepartsList,p=void 0===f?[]:f,d=n.createtime,h=n.noticeClassifysList,y=document.createElement("div");y.innerHTML=s;var g=p?p.map(function(e,t){return p.length>1&&p.length-1!=t?e.depart_name+" 、":e.depart_name}):null,E=h?h.map(function(e,t){return h.length>1&&h.length-1!=t?e.product_classify_name+" 、":e.product_classify_name}):null;return e.createElement("li",{key:l,className:"item"},e.createElement("h5",{className:c?"title ":"title state"},e.createElement("a",{href:"/index.html#/InfoAnnouncement/"+n.id},o)),e.createElement("p",{className:"text-info"},y.innerText.length>300?y.innerText.substring(0,300)+"...":y.innerText),e.createElement("footer",null,e.createElement("div",{style:{display:"flex",width:"100%"}},e.createElement("span",null,u,e.createElement("i",{style:{borderRight:"1px solid #D9D9D9",marginLeft:"16px"}})),e.createElement("span",null,a(d).format("YYYY-MM-DD HH:mm:ss"),e.createElement("i",{style:{borderRight:"1px solid #D9D9D9",marginLeft:"16px"}})),"HCM"==localStorage.logintype||"HCMSUB"==localStorage.logintype?e.createElement(e.Fragment,null,e.createElement("span",null,"From：",m,e.createElement("i",{style:{borderRight:"1px solid #D9D9D9",marginLeft:"16px"}})),e.createElement(i.default,{overlayStyle:{maxWidth:"inherit"},placement:"bottom",title:"To"+(r?"品类":"部门")+"："+(r?E.join(""):g.join(""))},e.createElement("span",{className:"departs"},"To",r?"品类":"部门","：",r?E:g))):null),"HCM"==localStorage.logintype||"HCMSUB"==localStorage.logintype?e.createElement("span",{onClick:function(){return t.rmDepart(n)},className:"AnnDEL"},e.createElement("i",null)):null))}):e.createElement("li",{style:{width:"100%"}},e.createElement(r.default,{style:{textAlign:"center"},message:"暂无数据",type:"error"}))),e.createElement("div",{className:"footer"},e.createElement("div",{className:"info"},"共 "+S+" 条记录 ","  ","第  "+b+"  / "+Math.ceil(S/N)+" 页"),e.createElement(l.default,{pageSize:N,current:b,total:S,onChange:t.changePagination,onShowSizeChange:t.onPaginationSize,showSizeChanger:!0,showQuickJumper:!0}))))))});t.default=g}).call(this,n(1),n(10))},766:function(e,t){},844:function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(15)),r=s(n(35)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(16),n(34);var c=s(n(531)),o=s(n(12));function s(e){return e&&e.__esModule?e:{default:e}}var u=r.default.confirm,m=function(t){function n(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return r.onRangePicker=function(e){r.setState({start_time:e[0],end_time:e[1]})},r.chTreeSelect=function(e,t,n,a){var l=r.state;l[a]=e,r.setState(l)},r.getNoticeTypeList=function(){o.default.get("/hcm/sys/GetList",{params:{dictcode:"notice_type"}}).then(function(e){r.setState({noticeTypeList:e.data.data})}).catch(function(e){l.default.error(e.statusText)})},r.onSearch=function(){r.setState({pageNo:1},function(){r.getList()})},r.getList=function(){var e=r.state,t=e.pageNo,n=e.pageSize,a=e.start_time,i=e.end_time,c=e.notice_title,s=e.notice_type,u=e.user_name;o.default.get("/hcm/notice/Getlist",{params:{pageNo:t,pageSize:n,start_time:a?a.format("YYYY-MM-DD HH:mm:ss"):null,end_time:i?i.format("YYYY-MM-DD HH:mm:ss"):null,notice_title:c,notice_type:s,user_name:u}}).then(function(e){var t=e.data.data;r.setState({dataList:t.content,pageNo:t.pageNumber,pageSize:t.pageSize,totalNum:t.totalElements})}).catch(function(e){l.default.error(e.statusText)})},r.chSearchIpt=function(e,t){var n=r.state;n[t]=e.target.value,r.setState(n)},r.handleClearIconClick=function(e){var t=r.state;t[e]=null,r.setState(t)},r.changePagination=function(e,t){r.setState({pageNo:e,pageSize:t},function(){r.getList()})},r.onPaginationSize=function(e,t){r.setState({pageNo:1,pageSize:t},function(){r.getList()})},r.rmDepart=function(t){var n=r;u({title:null,content:e.createElement("div",null,e.createElement("div",{className:"tips"},"提示"),e.createElement("div",{className:"pline"}),e.createElement("p",{className:"Dtitle"},"你确认要删除该通知公告吗？"),e.createElement("p",null,"删除后",e.createElement("span",{className:"red"},"相关人员将不再能看到该公告"))),okText:"确定",cancelText:"取消",className:"alert-item-confirm",onOk:function(){o.default.post("/hcm/notice/Delete",{notice_id:t.id}).then(function(e){"10000"==e.data.status&&(n.getList(),l.default.success(e.data.message))}).catch(function(e){l.default.error(e.statusText)})}})},r.state={start_time:a().subtract(3,"months"),end_time:a(),notice_title:null,notice_type:null,user_name:null,dataList:[],noticeTypeList:[],pageNo:1,pageSize:10,totalNum:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Component),i(n,[{key:"componentDidMount",value:function(){this.getList(),this.getNoticeTypeList()}},{key:"render",value:function(){return e.createElement(c.default,{that:this})}}]),n}();t.default=m}).call(this,n(1),n(10))}}]);