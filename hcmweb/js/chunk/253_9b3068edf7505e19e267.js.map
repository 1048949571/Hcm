{"version":3,"sources":["webpack:///./app/widget/index/Brand/DataInformationb/main.js"],"names":["DataInformationb","props","HistoryGo","window","history","go","JBWEIxing","ajax","post","userid","state","id","usertype","then","res","console","log","data","status","setState","WEIXING","DidMountText","error","message","BDWEIxing","ticket","provinceApplyx","push","province","city","strict","address","companyname","contact","dict_name","mobile","password","realname","username","validtime","moment","format","bmcid","provinceApplys","PopoWei","unionid","undefined","nickname","phones","location","Bding","BJBtn","visible","confirmLoading","ForgetSubmit","e","preventDefault","form","validateFields","err","values","length","han","test","handleCancel","BTNtit","React","Component","create"],"mappings":"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","file":"js/chunk/253_9b3068edf7505e19e267.js","sourcesContent":["import Tpl from './tpl';\r\nimport ajax from '../../../../js/common/ajax'\r\nimport { Form,message } from 'antd';\r\n\r\nclass DataInformationb extends React.Component {\r\n    constructor(props) {\r\n        // document.title = '资料信息';\r\n        super(props)\r\n        this.state = {\r\n            visible: false,//新增弹框\r\n            confirmLoading: false,\r\n            address: \"\",\r\n            city: \"\",\r\n            companyname: \"\",\r\n            contact: \"\",\r\n            dict_name: \"\",\r\n            id: \"\",\r\n            mobile: \"\",\r\n            password: \"\",\r\n            province: \"\",\r\n            realname: \"\",\r\n            status: \"\",\r\n            strict: \"\",\r\n            username: \"\",\r\n            usertype: \"\",\r\n            validtime: \"\",\r\n            bmcid: \"\",\r\n            BTNtit:\"\",\r\n            provinceApplys: [],\r\n            ticket:\"\",\r\n            PopoWei:\"\",\r\n            WEIXING:\"未绑定\"\r\n            \r\n        }\r\n\r\n\r\n    }\r\n    componentDidMount() {\r\n        this.DidMountText()\r\n    }\r\n    HistoryGo = () => {\r\n        window.history.go(-1)\r\n    }\r\n    JBWEIxing=()=>{\r\n        ajax.post('/hcm/user/unbindWX',{\r\n            userid:this.state.id,\r\n            usertype:\"c\"\r\n        })\r\n        .then((res) => {\r\n            console.log(res)\r\n            if(res.data.status==10000){\r\n                this.setState({\r\n                    WEIXING:\"未绑定\"\r\n                },()=>{\r\n                    this.DidMountText()\r\n                })\r\n            }else{\r\n                message.error(res.data.message)\r\n            }\r\n            \r\n        })\r\n    }\r\n    BDWEIxing=()=>{\r\n        ajax.post('/hcm/wechat/getQRcode',{\r\n            userid:this.state.id,\r\n            usertype:\"c\"\r\n        })\r\n        .then((res) => {\r\n            //console.log(res)\r\n            if(res.data.status==10000){\r\n                this.setState({\r\n                    ticket:\"https://mp.weixin.qq.com/cgi-bin/showqrcode?ticket=\"+res.data.data\r\n                },()=>{\r\n                    \r\n                    this.DidMountText()\r\n                    // let siv = setInterval(() => {\r\n                    //     this.DidMountText()\r\n                    // }, 51000)\r\n                })\r\n            }else{\r\n                message.error(res.data.message)\r\n            }\r\n            \r\n        })\r\n    }\r\n    DidMountText = () => {\r\n        ajax.post('/hcm/userin/selectBmainOut')\r\n            .then((res) => {\r\n                if (res.data.status == 10000) {\r\n                    console.log(res.data.data.data)\r\n                    const provinceApplyx = []\r\n                    provinceApplyx.push(res.data.data.data.province)\r\n                    provinceApplyx.push(res.data.data.data.city)\r\n                    provinceApplyx.push(res.data.data.data.strict)\r\n                    console.log(provinceApplyx)\r\n                    this.setState({\r\n                        address: res.data.data.data.address,\r\n                        city: res.data.data.data.city,\r\n                        companyname: res.data.data.data.companyname,\r\n                        contact: res.data.data.data.contact,\r\n                        dict_name: res.data.data.data.dict_name,\r\n                        id: res.data.data.data.id,\r\n                        mobile: res.data.data.data.mobile,\r\n                        password: res.data.data.data.password,\r\n                        province: res.data.data.data.province,\r\n                        realname: res.data.data.data.realname,\r\n                        status: res.data.data.data.status,\r\n                        strict: res.data.data.data.strict,\r\n                        username: res.data.data.data.username,\r\n                        usertype: res.data.data.data.usertype,\r\n                        validtime: moment(res.data.data.data.validtime).format('YYYY-MM-DD'),\r\n                        bmcid: res.data.data.data.bmcid,\r\n                        provinceApplys: provinceApplyx,\r\n                        PopoWei:res.data.data.data.unionid\r\n                    })\r\n                    if(this.state.PopoWei!=\"\" && this.state.PopoWei!=undefined){\r\n                        this.setState({\r\n                            WEIXING:res.data.data.data.nickname\r\n                        })\r\n                    }\r\n                    \r\n                }\r\n            })\r\n    }\r\n    phones = () => {\r\n        //document.cookie = \"usernamePone=\" + this.state.username;\r\n        window.location = \"/index.html#/ModifyPassword/\" + this.state.username\r\n    }\r\n\r\n    password = () => {\r\n        //document.cookie = \"usernamePone=\" + this.state.username;\r\n        window.location = \"/index.html#/ModifyPhone/c/\" + this.state.mobile\r\n    }\r\n    Bding = () => {\r\n        window.location = \"/index.html#/ModifyBindings/c/\" + this.state.mobile+\"/nb\"\r\n\r\n    }\r\n    BJBtn = () => {\r\n        this.setState({\r\n            visible: true,\r\n            confirmLoading: true\r\n        })\r\n    }\r\n    ForgetSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            console.log(values)\r\n            if(values.companyname!=undefined && values.companyname!=\"\"){\r\n                if(values.companyname.length<=50){\r\n                    if(values.contact.length<=50){\r\n                        const han = /[\\u4E00-\\u9FA5]/i;\r\n                        if(!han.test(values.contact)){\r\n                            if(values.address.length<=100){\r\n                                ajax.post('/hcm/cus/updateCustomer', {\r\n                                    bmcid: this.state.bmcid,\r\n                                    province: values.province[0],\r\n                                    city: values.province[1],\r\n                                    strict: values.province[2],\r\n                                    address: values.address,\r\n                                    contact: values.contact,\r\n                                    dict_name: values.dict_name,\r\n                                    companyname: values.companyname\r\n                                })\r\n                                    .then((res) => {\r\n                                        if (res.data.status == 10000) {\r\n                                            //console.log(res)\r\n                                            this.setState({\r\n                                                visible: false,\r\n                                                confirmLoading: false\r\n                                            })\r\n                                            this.DidMountText()\r\n                                        }\r\n                                    })\r\n                            }else{\r\n                                message.error(\"详情地址限制100个字以内！\")\r\n                            }\r\n                        }else{\r\n                            message.error(\"不可以输入汉字！\")\r\n                        }\r\n                        \r\n                    }else{\r\n                        message.error(\"联系方式限制50个字以内！\")\r\n                    }\r\n                }else{\r\n                    message.error(\"公司名称限制50个字以内！\")\r\n                }\r\n               \r\n            }else{\r\n                message.error(\"请输入公司名称！\")\r\n            }\r\n            \r\n        })\r\n    }\r\n    handleCancel = () => {\r\n        this.setState({\r\n            visible: false,\r\n            confirmLoading: false\r\n        })\r\n    }\r\n    render() {\r\n        return <Tpl that={this} />\r\n    }\r\n}\r\nexport default Form.create()(DataInformationb)"],"sourceRoot":""}