{"version":3,"sources":["webpack:///./app/widget/index/Brand/ProductInfo/SetTable.js"],"names":["TreeNode","App","props","getByProduct","ajax","get","params","productClassifyid","state","id","then","response","dataList","data","setState","catch","error","statusText","num","formAtDom","type","arr","showid","key","push","title","map","item","index","edit","fieldname","onSubItem","onEdititem","onMouseOver","e","oCheckitem","fieldRequired","isChecked","fontWeight","onRmitem","addStatus","addSubItem","addButStatus","paddingRight","forEach","target","onDrop","info","endId","node","eventKey","dropPos","pos","split","dropPosition","Number","length","stateID","end","endnum","sort","statenum","onDragStart","canCelItem","console","log","checked","name","status","module","success","message","bl","refs","value","trim","productClassifyId","fieldClassify","setTableData","fn","a","b","ids","join","onShow","toLocaleUpperCase","visible","checkData","onSortSubmit","className","React","Component"],"mappings":"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","file":"js/chunk/52_f279e0f08dbc962202fe.js","sourcesContent":["\r\nimport { Modal ,Tree,Checkbox,Icon, Popconfirm, message,Tooltip, Button } from 'antd';\r\nconst TreeNode = Tree.TreeNode;\r\nimport ajax from '../../../../js/common/ajax';\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        let {id,name,status} = this.props.params;\r\n        this.state = {\r\n            id,\r\n            name,\r\n            status,\r\n            dataList:{},\r\n            showid:null,\r\n            stateID:null,\r\n            endId:null,\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.getByProduct()\r\n    }\r\n\r\n    getByProduct = () => {\r\n        ajax.get('/hcm/hcmCustomModel/getByProduct', {\r\n            params: {\r\n                productClassifyid:this.state.id\r\n            }\r\n        }).then((response) => {\r\n            let dataList = response.data.data;\r\n            this.setState({\r\n                dataList: dataList\r\n            })\r\n        }).catch((error) => {\r\n            message.error(error.statusText);\r\n        });\r\n    }\r\n    onMouseOver(key,item,index){\r\n        let data = this.state.dataList;\r\n        let showid = this.state.showid;\r\n        if(data[key].data[index].id == showid){\r\n            return\r\n        }\r\n        showid = data[key].data[index].id;\r\n        this.setState({\r\n            showid:showid\r\n        })\r\n    }\r\n\r\n    onRmitem(key,item,index){\r\n        let data = this.state.dataList;\r\n        ajax.get('/hcm/hcmCustomModel/delete', {\r\n            params: {\r\n                id:data[key].data[index].id,\r\n                module:'PRODUCT'\r\n            }\r\n        }).then((response) => {\r\n            message.success(response.data.message);\r\n            this.getByProduct()\r\n        }).catch((error) => {\r\n            message.error(error.statusText);\r\n        });\r\n    }\r\n    onEdititem(key,item,index,bl){\r\n        let data = this.state.dataList;\r\n        data[key].data[index].edit = bl;\r\n        this.setState({\r\n            data:data,\r\n            showid:null\r\n        })\r\n    }\r\n    onSubItem(key,index){\r\n        let data = this.state.dataList;\r\n        let item = data[key].data[index];\r\n        if(!this.refs[item.id].value.trim().length){\r\n            message.error('请输入字段名')\r\n            return\r\n        }\r\n        if(this.refs[item.id].value.trim().length>20){\r\n            message.error('字段名过长 请限制在20字符以内')\r\n            return\r\n        }\r\n        data[key].data[index].edit = false;\r\n        data[key].data[index].fieldname = this.refs[item.id].value\r\n        \r\n        \r\n        ajax.get('/hcm/hcmCustomModel/save', {\r\n            params: {\r\n                id:item.id,\r\n                productClassifyId:this.state.id,\r\n                fieldClassify:item.fieldClassify,\r\n                fieldname:this.refs[item.id].value,               \r\n                module:'PRODUCT'\r\n            }\r\n        }).then((response) => {\r\n            message.success(response.data.message);\r\n            this.setState({\r\n                dataList:data\r\n            })\r\n        }).catch((error) => {\r\n            message.error(error.statusText);\r\n        });\r\n    }\r\n    num = 100\r\n    oCheckitem(e, key, item, index){\r\n        let setTableData = this.state.dataList;\r\n        setTableData[key].data[index].isChecked = e.target.checked ? 1 : 0;\r\n        setTableData[key].data[index].sort = this.num++\r\n        this.setState({\r\n            dataList: setTableData\r\n        })\r\n    }\r\n    onSortSubmit(fn){\r\n        let arr = [];\r\n        let data = this.formAtDom(false).sort((a,b)=>a.sort-b.sort);\r\n        data.forEach((item, index) => { arr.push(item.id) })\r\n        \r\n        ajax.get('/hcm/hcmCustomModel/saveSort', {\r\n            params: {\r\n                ids: arr.join(','),\r\n                productClassifyId:this.state.id,\r\n                module: 'PRODUCT'\r\n            }\r\n        }).then((response) => {\r\n            if (response.data.status == '10000') {\r\n                message.success(response.data.message);\r\n                this.props.onShow(false,'getlist')\r\n            }\r\n        }).catch((error) => {\r\n            \r\n            message.error(error.statusText);\r\n        });\r\n\r\n    }\r\n    addButStatus(key,bl){\r\n        let data = this.state.dataList;\r\n        data[key].addStatus = bl;\r\n        this.setState({\r\n            dataList:data\r\n        })\r\n    }\r\n    addSubItem(key){\r\n        if(!this.refs[key].value.trim().length){\r\n            message.error('请输入字段名')\r\n            return\r\n        }\r\n        if(this.refs[key].value.trim().length>20){\r\n            message.error('字段名过长 请限制在20字符以内')\r\n            return\r\n        }\r\n        let data = this.state.dataList;\r\n        data[key].addStatus = false;\r\n        ajax.get('/hcm/hcmCustomModel/save', {\r\n            params: {\r\n                productClassifyId:this.state.id,\r\n                fieldClassify:key.toLocaleUpperCase(),\r\n                fieldname:this.refs[key].value,               \r\n                module:'PRODUCT'\r\n            }\r\n        }).then((response) => {\r\n            if(response.data.status=='10000'){\r\n                response.data.data.sort =  this.num++;\r\n                data[key].data.push(response.data.data)\r\n                this.setState({\r\n                    dataList:data\r\n                })\r\n            }\r\n            message.success(response.data.message);\r\n            \r\n        }).catch((error) => {\r\n            message.error(error.statusText);\r\n        });\r\n\r\n    }\r\n    formAtDom = (type) =>{\r\n        let arr = [];\r\n        let data = this.state.dataList\r\n        let showid = this.state.showid\r\n        \r\n        if(type){\r\n            for (const key in data) {\r\n                arr.push(\r\n                    <div className='item' key={key}>\r\n                        <p>{data[key].title}</p>\r\n                        <div className='info'>\r\n                            {\r\n                                data[key].data.map((item,index)=>{\r\n                                    if(item.edit){\r\n                                        return (\r\n                                            <div key={index} className='inputbox'>\r\n                                                <input ref={item.id} defaultValue={item.fieldname} className='editinput'/>\r\n                                               \r\n                                                <span className='anticonbox'>\r\n                                                    <Icon onClick={()=>this.onSubItem(key,index)} type=\"check\" />\r\n                                                    <Icon onClick={()=>this.onEdititem(key,item,index,false)} type=\"close\" />\r\n                                                </span>\r\n                                                    \r\n                                            </div>\r\n                                            \r\n                                        )\r\n                                    }else{\r\n                                        return (\r\n                                            <div key={index} onMouseMove={()=>this.onMouseOver(key,item,index)} className='checkbox'>\r\n                                                <Checkbox  onChange={(e)=>this.oCheckitem(e,key,item,index)} disabled={item.fieldRequired=='1'} checked={item.isChecked}><Tooltip placement=\"topLeft\" title={item.fieldname}>{item.fieldname}</Tooltip></Checkbox>\r\n                                                {item.fieldRequired=='1'  ? null:\r\n                                                    item.id == showid ?\r\n                                                    <span className='anticonbox'>\r\n                                                        <Icon onClick={()=>this.onEdititem(key,item,index,true)} type=\"edit\" />\r\n                                                        <Popconfirm  placement=\"top\" title={<div><p style={{fontWeight:'bold'}}>你确定要删除该字段吗？</p><p>删除后录入的信息会被删除</p></div>} onConfirm={()=>this.onRmitem(key,item,index)} okText=\"确定\" cancelText=\"取消\">\r\n                                                            <Icon type=\"delete\" />\r\n                                                        </Popconfirm> \r\n                                                    </span>\r\n                                                    :null\r\n                                                }\r\n                                            </div>\r\n                                            \r\n                                        )\r\n                                    }\r\n                                    \r\n                                })\r\n                            }\r\n                            <div className='inputbox'>\r\n                                {\r\n                                   data[key].addStatus ? \r\n                                    <React.Fragment>\r\n                                        <input ref={key} className='editinput'/>\r\n                                        <span className='anticonbox'>\r\n                                            <Icon onClick={()=>this.addSubItem(key)} type=\"check\" />\r\n                                            <Icon onClick={()=>this.addButStatus(key,false)} type=\"close\" />\r\n                                        </span>\r\n                                    </React.Fragment>\r\n                                    :\r\n                                    <a onClick={()=>this.addButStatus(key,true)}><Icon style={{paddingRight:'6px'}} type=\"plus-circle-o\" />新增</a>\r\n                                }\r\n                                \r\n                                \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            }\r\n        }else{\r\n            for (const key in data) {\r\n                    \r\n                data[key].data.forEach((item,index)=>{\r\n                    if(item.isChecked){\r\n                        item.target = [key,index,item.fieldRequired]\r\n                        return (\r\n                            arr.push(item)\r\n                        )\r\n                    }\r\n                    \r\n                })\r\n            }\r\n        }\r\n        return arr\r\n    }\r\n    onDrop = (info) => {\r\n        this.setState({\r\n            endId:info.node.props.eventKey\r\n        },()=>{\r\n            const dropPos = info.node.props.pos.split('-');\r\n            const dropPosition = info.dropPosition - Number(dropPos[dropPos.length - 1]);\r\n            \r\n            let {stateID,endId} = this.state;\r\n            let state = stateID.split(',')\r\n            let end = endId.split(',')\r\n            let data = this.state.dataList;\r\n            let endnum = data[end[0]].data[end[1]].sort;\r\n            let statenum = data[state[0]].data[state[1]].sort;\r\n            if(dropPosition===0){\r\n                data[end[0]].data[end[1]].sort = statenum;\r\n                data[state[0]].data[state[1]].sort = endnum;\r\n            }else if(dropPosition>0){\r\n                data[state[0]].data[state[1]].sort = endnum+0.01;\r\n            }else if(dropPosition<0){\r\n                data[state[0]].data[state[1]].sort = endnum-0.01;\r\n            }\r\n            this.setState({\r\n                dataList:data\r\n            })\r\n        })\r\n    }\r\n    \r\n    onDragStart = (info)=>{\r\n        this.setState({\r\n            stateID:info.node.props.eventKey\r\n        })\r\n        \r\n    }\r\n    canCelItem = (item)=>{\r\n        console.log(item)\r\n        this.oCheckitem({target:{checked:0}},item.target[0],item,item.target[1])\r\n    }\r\n    render() {\r\n        let {visible} = this.state;\r\n        let checkData = this.formAtDom(false).sort((a,b)=>a.sort-b.sort);\r\n        return (\r\n            <Modal\r\n                title=\"设置表格\"\r\n                visible={this.props.visible}\r\n                maskClosable={false} \r\n                onOk={()=>this.onSortSubmit()}\r\n                onCancel={()=>this.props.onShow(false)}\r\n                className='set-table-header'\r\n                okButtonProps={{className:'btn2-main'}}\r\n                cancelButtonProps={{className:'btn2-sub'}}\r\n            >\r\n                <div className='box'>\r\n                    <div className='left'>\r\n                        <p className='title'>可用字段</p>\r\n                        <div className='items'>\r\n                            {this.formAtDom(true)}\r\n                        </div>\r\n                    </div>\r\n                    <div className='right'>\r\n                        <p className='title'>已选字段</p>\r\n                        <Tree\r\n                                className=\"draggable-tree\"\r\n                                draggable\r\n                                onDragStart={(e)=>this.onDragStart(e)}\r\n                                onDrop={(e)=>this.onDrop(e)}\r\n                            >\r\n                                {\r\n                                    checkData.map((item,index)=>{\r\n                                        return (\r\n                                           <TreeNode title={<div className='TreeNode-title'><span>{item.fieldname}</span>{item.fieldRequired=='1' ? null : <Icon onClick={()=>this.canCelItem(item)} type=\"close-circle\" />}</div>} key={item.target.join(',')} />\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </Tree>\r\n                        <p className='footer'>按上下拖动可排序</p>    \r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n        )\r\n    }\r\n}\r\nexport default App;\r\n"],"sourceRoot":""}