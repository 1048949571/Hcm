(window.webpackJsonp=window.webpackJsonp||[]).push([[35,49],{1157:function(e,t){},1158:function(e,t){},1159:function(e,t){},1160:function(e,t){},1161:function(e,t){},1162:function(e,t){},1163:function(e,t){},1164:function(e,t){},1165:function(e,t){},1166:function(e,t){},1183:function(e,t){},25:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(54));n(53);var r=l(n(28));function l(e){return e&&e.__esModule?e:{default:e}}n(1157);var o=function(t){return e.createElement("div",{className:"layout-wrapper "+(t.className||"")},e.createElement("div",{className:"header-wrapper"},e.createElement(a.default,{className:"breadcrumb"},t.breadcrumbList.map(function(n,r){return""===t.linkList[r]?e.createElement(a.default.Item,{key:n},n):e.createElement(a.default.Item,{href:"javascript:;",key:n},e.createElement("span",{onClick:function(){t.history.go(-t.linkList[r])}},n))}))),e.createElement("div",{className:"layout-content"},t.children),e.createElement("div",{className:"copyright"},e.createElement(r.default,null)))};o.defaultProps={title:"标题",breadcrumbList:[],linkList:[]},t.default=o}).call(this,n(1))},28:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var a=function(t){function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,e.Component),n(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return e.createElement("div",{className:this.props.clazzName?this.props.clazzName:"Copyright"},"Copyright © 杭州久点网络技术有限公司")}}]),a}();t.default=a}).call(this,n(1))},433:function(e,t){},566:function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var r=E(n(37)),l=E(n(33)),o=E(n(14)),i=E(n(32)),c=E(n(27)),u=E(n(11)),s=E(n(97)),d=E(n(48)),m=E(n(30));n(36),n(41),n(18),n(42),n(26),n(22),n(92),n(47),n(31);var p=E(n(17)),f=E(n(25)),h=E(n(774));function E(e){return e&&e.__esModule?e:{default:e}}var b=m.default.Option,g=d.default.RangePicker,y={width:"14px",height:"14px",opacity:.25,cursor:"pointer"},v={0:"已处理（正常）",1:"待处理",2:"已处理（异常）"},w=(0,p.default)(function(t){var n=t.state,d=n.startTime,p=n.endTime,E=n.orderId,w=(n.shopInfo,n.status),N=(n.result,n.expandedRowKeys),_=n.dataList,O=n.pagination,x=[{title:"序号",render:function(e,t,n){return n+1},key:"xuhao",className:"table-column-item"},{title:"订单编号",dataIndex:"tid",key:"order_num",className:"table-column-item"},{title:"订单金额",dataIndex:"tradeMoney",render:function(e){return"￥"+e},key:"order-money",className:"table-column-item"},{title:"店铺信息",dataIndex:"shopName",render:function(t,n){return e.createElement(s.default,{placement:"topLeft",content:e.createElement(e.Fragment,null,e.createElement("p",null,"平台：",n.platformName),e.createElement("p",null,"链接地址：",e.createElement("a",{href:n.shopUrl,target:"_blank"},n.shopUrl)),e.createElement("p",null,"店铺名称：",t),e.createElement("p",null,"旺旺名称：",n.wangwang),e.createElement("p",null,"所属经销商：",n.dealerName))},e.createElement("span",{style:{display:"inline-block",width:"60%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},t))},key:"shop_info",className:"table-column-item"},{title:"订单时间",dataIndex:"paytime",render:function(e){return a(e).format("YYYY-MM-DD HH:mm:ss")},key:"order_time",className:"table-column-item"},{title:"状态",dataIndex:"orderStatus",render:function(e){return""+(v[e]||"")},key:"status",className:"table-column-item"},{title:"操作",render:function(n,a){return e.createElement("span",{style:{cursor:"pointer",color:"#108CEE"},onClick:t.handleExpand.bind(t,null,a)},1==a.orderStatus?"立即处理":"订单详情")},key:"options",className:"table-column-item"}];return e.createElement(f.default,{breadcrumbList:["监控中心","订单监控","疑似异常订单处理"],linkList:["","1",""],history:t.props.history},e.createElement("div",{className:"suspent-exception-order-wrapper"},e.createElement("section",{className:"search-container"},e.createElement(l.default,{className:"row-content"},e.createElement(i.default,{span:8,className:"item"},e.createElement("span",null,"订单编号"),e.createElement(c.default,{suffix:""===E?null:e.createElement(u.default,{type:"close-circle",onClick:t.clearInputFn.bind(t,"orderId"),style:y}),onChange:t.searchChange.bind(t,"orderId","input"),value:E,placeholder:"请输入",style:{width:242}})),e.createElement(i.default,{span:8,className:"item"},e.createElement("span",null,"状态"),e.createElement(m.default,{onChange:t.searchChange.bind(t,"status","select"),defaultValue:w,style:{width:242},getPopupContainer:function(e){return e.parentNode}},e.createElement(b,{value:""},"全部"),e.createElement(b,{value:"0"},"已处理（正常）"),e.createElement(b,{value:"2"},"已处理（异常）"),e.createElement(b,{value:"1"},"待处理"))),e.createElement(i.default,{span:8,className:"item"},e.createElement("span",null,"订单时间"),e.createElement(g,{onChange:t.searchChange.bind(t,"","time"),style:{width:242},getCalendarContainer:function(e){return e.parentNode},defaultValue:""===d?[]:[d,p]}),e.createElement(o.default,{style:{marginLeft:10},className:"btn6",onClick:t.handleSearch},"查询")))),e.createElement("section",{className:"table-content-wrapper"},e.createElement(r.default,{className:"table",rowKey:function(e){return e.id},dataSource:_,pagination:{showQuickJumper:!0,current:O.pageNo,total:O.totalElements,onChange:t.handlePageChange},columns:x,onExpand:t.handleExpand,expandedRowKeys:N,expandedRowRender:function(n,a,r,l){return e.createElement(h.default,{handleOrder:t.handleOrder,orderId:n.id,data:n._detail||{}})}}))))});t.default=w}).call(this,n(1),n(10))},774:function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var r,l=n(14),o=(r=l)&&r.__esModule?r:{default:r};n(18),n(1183);t.default=function(t){var n=t.data,r=n.itempic,l=n.itemtitle,i=n.itemprice,c=n.buyNum,u=n.itemskuprop,s=n.floorTransactionPrice,d=n.brandName,m=n.productName,p=n.lowpriceStatus,f=n.lowpriceType,h=n.lowpriceUname,E=n.lowpriceTime;return t.data?e.createElement("div",{className:"expand-content-wrapper"},e.createElement("div",{className:"left-img"},e.createElement("img",{src:r})),e.createElement("div",{className:"right-info"},e.createElement("div",{className:"top"},e.createElement("p",null,"商品名称：",l),e.createElement("p",null,e.createElement("span",null,"价格：¥",i),e.createElement("span",{style:{marginLeft:50}},"数量：",c)),e.createElement("p",null,"SKU信息：",u)),e.createElement("div",{className:"bottom"},e.createElement("p",null,"所属产品：",d," / ",m),e.createElement("p",null,"最低成交价：¥",s))),e.createElement("div",{className:"result-content"},1==p?e.createElement("div",{className:"none-deal-order"},e.createElement("div",{className:"tips"},e.createElement("i",null),e.createElement("span",null,"本订单的价格可能存在异常，请您确认是否异常？")),e.createElement("div",{className:"btns"},e.createElement(o.default,{onClick:t.handleOrder.bind(void 0,t.orderId,2)},"异常订单"),e.createElement(o.default,{onClick:t.handleOrder.bind(void 0,t.orderId,0)},"正常订单"))):2==p?e.createElement("div",{className:"exception-order"},1==f?e.createElement(e.Fragment,null,e.createElement("p",null,e.createElement("i",null),e.createElement("span",null,h,"于",E?a(E).format("YYYY-MM-DD HH:mm:ss"):" --")),e.createElement("p",null,"本订单为：异常订单")):e.createElement(e.Fragment,null,e.createElement("p",null,e.createElement("i",null),e.createElement("span",null,"本订单已超过3天期限")),e.createElement("p",null,E?"于"+a(E).format("YYYY-MM-DD HH:mm:ss"):"","被系统默认判定为：异常订单"))):0==p?e.createElement("div",{className:"normal-order"},e.createElement("p",null,e.createElement("i",null),e.createElement("span",null,h,E?"于"+a(E).format("YYYY-MM-DD HH:mm:ss"):"")),e.createElement("p",null,"本订单为：正常订单")):null)):e.createElement("div",null,"暂无详情数据")}}).call(this,n(1),n(10))},879:function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(15)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(16);var i=u(n(566)),c=u(n(12));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={pageNo:1,pageSize:10},p=function(t){function n(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var o,i,u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return u.clearInputFn=function(e){u.setState(d({},e,""))},u.handlePageChange=function(e){u.setState({pagination:Object.assign({},u.state.pagination,{pageNo:e})},function(){var e=u.commonSearchCondition(u.state.pagination);e&&u.getSuspentOrderList(e)})},u.searchChange=function(e,t,n){switch(t){case"input":u.setState(d({},e,n.target.value));break;case"select":u.setState(d({},e,n));break;case"time":0===n.length?u.setState({startTime:"",endTime:""}):u.setState({startTime:n[0],endTime:n[1]})}},u.handleOrder=function(e,t){LoadingModal({bl:!0}),c.default.post("/hcm/hcmShopMonitor/updateOrderAbnormal",{orderId:e,orderState:t}).then(function(e){LoadingModal({bl:!1});var t=e.data,n=t.data,a=t.status,l=t.message;"10000"===a?(1==n&&r.default.success(l),u.getSuspentOrderList(u.commonSearchCondition(m))):r.default.error(l)}).catch(function(e){LoadingModal({bl:!1}),r.default.error("系统繁忙，请稍后再试！")})},u.getSuspentOrderList=function(e){c.default.get("/hcm/hcmShopMonitor/findOrderAbnormalListByPage",{params:e}).then(function(e){var t=e.data,n=t.data,a=t.status,l=t.message;"10000"===a?u.setState({dataList:0===n.content.length?[]:n.content.map(function(e){return Object.assign({},e,{_isExpand:!1})}),pagination:Object.assign({},u.state.pagination,{pageNo:n.pageNumber,pageSize:n.pageSize,totalElements:n.totalElements}),expandedRowKeys:[]}):r.default.error(l)}).catch(function(e){r.default.error("系统繁忙，请稍后再试！")})},u.commonSearchCondition=function(e){var t=u.state,n=t.orderId,a=t.status,l=t.startTime,o=t.endTime;if(""!==l&&""!==o)return{orderNo:n,orderState:a,firstDate:l.format("YYYY-MM-DD"),lastDate:o.format("YYYY-MM-DD"),pageNo:e.pageNo,pageSize:e.pageSize};r.default.warning("时间不能为空，请选择时间！")},u.handleSearch=function(){var e=u.commonSearchCondition(m);e&&u.getSuspentOrderList(e)},u.handleExpand=(o=regeneratorRuntime.mark(function e(n,a){var o,i,d,m,p,f,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=u.state.dataList,!((i=o.findIndex(function(e){return e.id==a.id}))<0)){e.next=5;break}return r.default.error("系统异常，请稍后再试！"),e.abrupt("return");case 5:if(d=[].concat(s(o)),(m=Object.assign({},d[i]))._isExpand=!a._isExpand,a._isExpand||void 0!==a._detail){e.next=26;break}return e.prev=9,LoadingModal({bl:!0}),e.next=13,c.default.get("/hcm/hcmShopMonitor/getOrderDetailById",{params:{orderId:a.id}});case 13:if(p=e.sent,LoadingModal({bl:!1}),"10000"===p.data.status){e.next=18;break}return r.default.error(p.data.message),e.abrupt("return");case 18:m._detail=l({},p.data.data),e.next=26;break;case 21:return e.prev=21,e.t0=e.catch(9),LoadingModal({bl:!1}),r.default.error(e.t0.statusText),e.abrupt("return");case 26:d[i]=m,f=d.filter(function(e){return e._isExpand}),h=f.length?f.map(function(e){return e.id}):[],u.setState({expandedRowKeys:h,dataList:d});case 30:case"end":return e.stop()}},e,t,[[9,21]])}),i=function(){var e=o.apply(this,arguments);return new Promise(function(t,n){return function a(r,l){try{var o=e[r](l),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){a("next",e)},function(e){a("throw",e)});t(i)}("next")})},function(e,t){return i.apply(this,arguments)}),u.state={orderId:"",status:"",startTime:a().subtract(6,"d"),endTime:a(),expandedRowKeys:[],dataList:[],pagination:l({},m)},u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Component),o(n,[{key:"componentDidMount",value:function(){this.getSuspentOrderList(this.commonSearchCondition(m))}},{key:"render",value:function(){return e.createElement(i.default,{that:this})}}]),n}();t.default=p}).call(this,n(1),n(10))}}]);