{"version":3,"sources":["webpack:///./app/widget/index/Brand/OrderMonitor/main.js"],"names":["DEFAULT_PAGE","pageNo","pageSize","App","props","searchChange","key","type","e","setState","target","value","getShopList","LoadingModal","bl","ajax","get","params","then","res","data","status","message","shopList","content","pagination","Object","assign","state","pageNumber","totalElements","error","catch","handleSearch","shop_name","buy_status","shopName","isauthed","handlePageChange","page","goTo","history","push","path","clearInputFn","inviteLinkStatus","getSuspentOrderCount","suspentOrderCount","order_situation","React","Component"],"mappings":"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","file":"js/chunk/264_6a1be68a2135d9270beb.js","sourcesContent":["import Tpl from './tpl';\r\nimport { message as Msg } from 'antd';\r\nimport ajax from '../../../../js/common/ajax';\r\n\r\nconst DEFAULT_PAGE = {\r\n    pageNo: 1,\r\n    pageSize: 12,\r\n}\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            inviteLinkStatus:false,\r\n            shop_name: '',\r\n            order_situation: '',\r\n            buy_status: '',\r\n            suspentOrderCount: 0,\r\n            pagination: { ...DEFAULT_PAGE },\r\n            shopList: [],\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.getSuspentOrderCount()\r\n        this.getShopList({\r\n            shopName: this.state.shop_name,\r\n            isauthed: this.state.buy_status,\r\n            ...DEFAULT_PAGE\r\n        })\r\n    }\r\n    searchChange = (key, type, e) => {\r\n        // console.log(key, type)\r\n        if (type === 'input') {\r\n            this.setState({\r\n                [key]: e.target.value,\r\n            })\r\n        }\r\n        if (type === 'select') {\r\n            this.setState({\r\n                [key]: e,\r\n            })\r\n        }\r\n    }\r\n    // 获取数据\r\n    getShopList = params => {\r\n        // console.log(params)\r\n        // return\r\n        LoadingModal({bl:true})\r\n        ajax.get('/hcm/hcmShopMonitor/findShopListByPage', {params}).then(res => {\r\n            LoadingModal({bl:false})\r\n            const { data, status, message } = res.data\r\n            if (status === '10000') {\r\n                this.setState({\r\n                    shopList: data.content,\r\n                    pagination: Object.assign({}, this.state.pagination, {\r\n                        pageNo: data.pageNumber,\r\n                        pageSize: data.pageSize,\r\n                        totalElements: data.totalElements,\r\n                    })\r\n                })\r\n            } else {\r\n                Msg.error(message)\r\n            }\r\n        }).catch(err => {\r\n            LoadingModal({bl:false})\r\n            Msg.error('系统繁忙，请稍后再试！')\r\n        })\r\n    }\r\n    handleSearch = () => {\r\n        const { shop_name, buy_status } = this.state\r\n        const data = {\r\n            shopName: shop_name,\r\n            isauthed: buy_status,\r\n            pageNo: DEFAULT_PAGE.pageNo,\r\n            pageSize: DEFAULT_PAGE.pageSize,\r\n        }\r\n        this.getShopList(data)\r\n    }\r\n    handlePageChange = page => {\r\n        // console.log(page)\r\n        this.setState({\r\n            pagination: Object.assign({}, this.state.pagination, {\r\n                pageNo: page,\r\n            })\r\n        }, () => {\r\n            const { shop_name, pagination, buy_status } = this.state\r\n            this.getShopList({\r\n                shopName: shop_name,\r\n                isauthed: buy_status,\r\n                pageNo: pagination.pageNo,\r\n                pageSize: pagination.pageSize,\r\n            })\r\n        })\r\n    }\r\n    goTo = path => {\r\n        this.props.history.push(path)\r\n    }\r\n    clearInputFn = () => {\r\n        this.setState({\r\n            shop_name: ''\r\n        })\r\n    }\r\n    inviteLinkStatus = (bl) => {\r\n        this.setState({\r\n            inviteLinkStatus: bl\r\n        })\r\n    }\r\n    // 获取疑似订单数量\r\n    getSuspentOrderCount = () => {\r\n        ajax.get('/hcm/hcmShopMonitor/getHcmShopMonitorOrderErrCount').then(res => {\r\n            const { data, status, message } = res.data\r\n            if (status === '10000') {\r\n                this.setState({\r\n                    suspentOrderCount: data,\r\n                })\r\n            } else {\r\n                Msg.error(message)\r\n            }\r\n        }).catch(err => {\r\n            Msg.error('系统繁忙，请稍后再试！')\r\n        })\r\n    }\r\n    render() {\r\n        return <Tpl that={this} />\r\n    }\r\n}\r\nexport default App\r\n"],"sourceRoot":""}