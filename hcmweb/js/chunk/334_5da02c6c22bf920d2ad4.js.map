{"version":3,"sources":["webpack:///./app/widget/index/Service/StoreSearch/main.js"],"names":["StoreSearch","props","downLoad","LoadingModal","bl","ajax","post","storeName","state","then","res","console","log","data","status","success","error","catch","statusText","store_search","pageNum","pageSize","content","setState","totalNum","totalElements","pageNo","pageNumber","loading","message","ForgetSubmit","e","preventDefault","titButton","form","validateFields","err","values","DPandWW_name","changePagination","a","b","onPaginationSize","columns","title","render","record","index","width","float","height","marginTop","mainPicUrl","auctionURL","marginLeft","overflow","lineHeight","itemTitle","priceShow","unit","price","totalSoldQuantity","ProductInformation_list","React","Component","create"],"mappings":"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","file":"js/chunk/334_5da02c6c22bf920d2ad4.js","sourcesContent":["import Tpl from './tpl';\r\nimport { message, Form } from 'antd';\r\nimport ajax from '../../../../js/common/ajax';\r\nclass StoreSearch extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        const columns = [{\r\n            title: '序号',\r\n            render: (content, record, index) => (\r\n                <span key={index}>\r\n                    {index+1}\r\n                </span>\r\n            )\r\n        }, {\r\n            title: '商品信息',\r\n            render: (content, record, index) => (\r\n                <span key={index}>\r\n                    <img style={{width:\"50px\",float: \"left\",height:\"60px\",marginTop:\"10px\"}} src={record.mainPicUrl} alt=\"\"/>\r\n                    <a href={record.auctionURL} style={{width: \"150px\",float: \"left\",marginLeft: \"10px\",overflow: \"hidden\",lineHeight:\"20px\",marginTop:\"10px\"}} target=\"_blank\">{record.itemTitle}</a>\r\n                </span>\r\n            )\r\n        }, {\r\n            title: '价格',\r\n            render: (content, record, index) => (\r\n                <span key={index}>\r\n                   {record.priceShow.unit} {record.priceShow.price}\r\n                </span>\r\n            )\r\n        }, {\r\n            title: '30天销量',\r\n            render: (content, record, index) => (\r\n                <span key={index}>\r\n                    {record.totalSoldQuantity}\r\n                </span>\r\n            )\r\n        }, {\r\n            title: '优惠活动',\r\n            render: (content, record, index) => (\r\n                <span key={index}>\r\n                    \r\n                </span>\r\n            )\r\n        }]\r\n        this.state = {\r\n            pageSize: 10,\r\n            pageNo: 1,\r\n            totalNum: 0,\r\n            loading: false,\r\n            data: [],\r\n            ProductInformation_list: columns,\r\n            storeName:\"\",\r\n            titButton:\"\"\r\n        }\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        // this.setState({\r\n        //     loading: true\r\n        // },()=>{\r\n        //     this.store_search(this.state.storeName,this.state.pageNo,this.state.pageSize)\r\n        // })\r\n        \r\n    }\r\n    downLoad=()=>{\r\n        LoadingModal({bl:true})\r\n        ajax.post(\"/hcm/search/downLoad_search\", {\r\n            storeName:this.state.storeName\r\n        }).then((res) => {\r\n            console.log(res)\r\n            if (res.data.status == 10000) {\r\n                message.success(res.data.data)\r\n                LoadingModal({bl:false})\r\n              //  window.location.href=\"/hcm/search/downLoad_search?storeName=\"+this.state.storeName\r\n            }else{\r\n                message.error(res.data.data)\r\n                LoadingModal({bl:false})\r\n            }\r\n        }).catch((error) => {\r\n            message.error(error.statusText);\r\n          \r\n            LoadingModal({bl:false})\r\n        })\r\n    \r\n    }\r\n    store_search=(storeName,pageNum,pageSize)=>{\r\n        LoadingModal({bl:true})\r\n        ajax.post(\"/hcm/search/store_search\", {\r\n            storeName:storeName,\r\n            pageNum:pageNum,\r\n            pageSize:pageSize\r\n        }).then((res) => {\r\n            console.log(res)\r\n            if (res.data.status == 10000) {\r\n                if(res.data.data.content!=\"\" && res.data.data.content!=null){\r\n                  \r\n                    this.setState({\r\n                        data:res.data.data.content                    ,\r\n                        totalNum:res.data.data.totalElements,\r\n                        pageSize:res.data.data.pageSize,\r\n                        pageNo:res.data.data.pageNumber,\r\n                        loading: false\r\n                    })\r\n                   \r\n                }else{\r\n                    this.setState({\r\n                                loading: false,\r\n                                data:[]\r\n                            })\r\n                            \r\n                    message.success(res.data.data) \r\n                }\r\n                LoadingModal({bl:false})\r\n            }else{\r\n                this.setState({\r\n                    loading: false,\r\n                    data:[]\r\n                })\r\n                message.error(res.data.message) \r\n                LoadingModal({bl:false})\r\n            }\r\n                \r\n        }).catch((error) => {\r\n            message.error(error.statusText);\r\n            this.setState({\r\n              loading: false,\r\n              data:[]\r\n            })\r\n            LoadingModal({bl:false})\r\n        })\r\n    \r\n    }\r\n    ForgetSubmit=(e)=>{\r\n        e.preventDefault();\r\n        this.setState({\r\n            loading: true,\r\n            titButton:\"\",\r\n            pageSize: 10,\r\n            pageNo: 1,\r\n            totalNum: 0\r\n        },()=>{\r\n            this.props.form.validateFields((err, values) => {\r\n                if(!err){\r\n                    this.setState({\r\n                        storeName:values.DPandWW_name\r\n                    },()=>{\r\n                        this.store_search(this.state.storeName,this.state.pageNo,this.state.pageSize)\r\n                    })\r\n                    \r\n                    \r\n                }\r\n            })\r\n        })\r\n        \r\n       \r\n    }\r\n    changePagination = (a,b) => {\r\n       \r\n        this.setState({\r\n            loading: true,\r\n            pageSize: b,\r\n            pageNo: a,\r\n            titButton:\"\"\r\n        },()=>{\r\n            this.store_search(this.state.storeName,this.state.pageNo,this.state.pageSize)\r\n        })\r\n    }\r\n    onPaginationSize = (a,b) => {\r\n        this.setState({\r\n            loading: true,\r\n            pageSize: b,\r\n            pageNo: a,\r\n            titButton:\"\"\r\n        },()=>{\r\n            this.store_search(this.state.storeName,this.state.pageNo,this.state.pageSize)\r\n        })\r\n        \r\n        \r\n    }\r\n    render() {\r\n        return <Tpl that={this} />\r\n    }\r\n}\r\nexport default Form.create()(StoreSearch);\r\n"],"sourceRoot":""}