(window.webpackJsonp=window.webpackJsonp||[]).push([[156],{1158:function(e,t){},1159:function(e,t){},1160:function(e,t){},1161:function(e,t){},1162:function(e,t){},1163:function(e,t){},28:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var a=function(t){function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,e.Component),n(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return e.createElement("div",{className:this.props.clazzName?this.props.clazzName:"Copyright"},"Copyright © 杭州久点网络技术有限公司")}}]),a}();t.default=a}).call(this,n(1))},62:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default={onVisibilityChange:function(e,t){var n="hidden"in document?"hidden":"webkitHidden"in document?"webkitHidden":"mozHidden"in document?"mozHidden":null,a=n.replace(/hidden/i,"visibilitychange"),r=function(){document[n]||console.log("页面非激活"+new Date),document[n]&&console.log("页面激活"+new Date)};document.addEventListener(a,r)},formatAccount:function(e){return e=e.replace(/[\s]/g,"").replace(/(\d{4})(?=\d)/g,"$1 ")},formatThousandMoney:function(t,n){return isNaN(t)?"":(n=n||"",!1===e.isNumeric(t)||0==t?"0.00":0==(t=(t=+t).toFixed(2))?"0.00":n+" "+(t+"").replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g,"$&,"))},encryption:function(){return(""+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")).replace(/(\d{3})\d*([0-9a-zA-Z]{4})/,"$1****$2")},browser:{versions:function(){var e=navigator.userAgent,t=(navigator.appVersion,"");if(e.indexOf("Ourydc.Yuebaobao")>-1){var n=e.match(/Ourydc.Yuebaobao.*/);if(n.length>0){var a=n[0];t=a.substr(a.indexOf("/")+1)}}return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1==e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Adr")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1==e.indexOf("Safari"),weixin:e.indexOf("MicroMessenger")>-1,weibo:"WeiBo"==e.match(/WeiBo/i)||"Weibo"==e.match(/Weibo/i)||"weibo"==e.match(/weibo/i),qq:"qq"==e.match(/qq/i)||"QQ"==e.match(/QQ/i),qqBrower:-1==e.indexOf("Mobile MQQBrowser")&&-1!=e.indexOf("MQQBrowser"),isInApp:e.indexOf("Ourydc.Yuebaobao")>-1,locAppVersion:t}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()},checkAccount:function(e){return/^[a-zA-Z](\w|\s+){5,15}$/.test(this.trim(e||""))},checkUrl:function(e){return/^((ht|f)tps?):\/\/([\w\-]+(\.[\w\-]+)*\/)*[\w\-]+(\.[\w\-]+)*\/?(\?([\w\-\.,@?^=%&:\/~\+#]*)+)?/.test(this.trim(e||""))},Reg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/^[^\u4e00-\u9fa5]{5,31}$/.test(this.trim(e||""))},checkPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/^.{6,16}$/.test(this.trim(e||""))},trim:function(e){return(e=""+e).replace(/(^\s*)|(\s*$)/g,"")},getCookie:function(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?unescape(t[2]):null},required:function(e){var t=this.trim(e||"");return!(!t||!t.length)},legnthCheck:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"INPUT";return this.trim(e||"").length<this.LENGTH[t]},LENGTH:{URL:500,TEXTAREA:200,INPUT:50},getQueryString:function(e){var t=new RegExp("(^|&|[?])"+e+"=([^&]*)(&|$)"),n=window.location.href.substr(1).match(t);return null!=n?n[2]:""},getParamString:function(e,t){var n=new RegExp("(^|&|[?])"+t+"=([^&]*)(&|$)"),a=e.substr(1).match(n);return null!=a?a[2]:""},Trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},deviceCheck:function(){return browser.versions.mobile?browser.versions.android?"android":browser.versions.ios?"ios":"mobile":"web"}}}).call(this,n(112))},926:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=p(n(45)),r=p(n(37)),i=p(n(54)),o=p(n(11)),c=p(n(27)),u=p(n(15)),l=p(n(30)),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(46),n(36),n(53),n(22),n(26),n(16),n(31);var d=p(n(62)),f=p(n(12)),m=p(n(28));function p(e){return e&&e.__esModule?e:{default:e}}var h=l.default.Option,g=function(t){function n(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return a.getByProduct=function(){f.default.get("/hcm/hcmCustomModel/getByProduct",{params:{productClassifyid:a.props.match.params.id}}).then(function(e){"10000"==e.data.status&&(a.setState({productList:e.data.data.product.data}),a.getList())}).catch(function(e){u.default.error(e.statusText)})},a.formatColumn=function(){var t=[{title:"序号",dataIndex:"index",key:"index",render:function(t,n,a){return e.createElement("div",{className:0===n.key_status_kefu?"key-status-kefu":null,style:{width:"80px"}},a+1)}}];return a.state.productList.forEach(function(n,a){t.push({title:n.fieldname,dataIndex:n.fieldvalue,key:n.fieldvalue,render:function(t){return e.createElement("div",{style:{width:"200px"}},t)}})}),t},a.changePagination=function(e,t){a.setState({pageNum:e,pageSize:t},function(){a.getList()})},a.onPaginationSize=function(e,t){a.setState({pageNum:1,pageSize:t},function(){a.getList()})},a.getList=function(){var e=a.state,t=e.pageSize,n=e.pageNum;f.default.get("/hcm/monitorPrice/GetProductList",{params:{pageSize:t,pageNo:n,productClassifyId:a.props.match.params.id}}).then(function(e){"10000"==e.data.status&&a.setState({dataList:e.data.data.content,pageNum:e.data.data.pageNumber,totalElements:e.data.data.totalElements,pageSize:e.data.data.pageSize})}).catch(function(e){u.default.error(e.statusText)})},a.etidItem=function(e,t,n){var r=a.state.dataList;n?r[t].oldData=Object.assign({},e):r[t]=r[t].oldData,r[t].editStatus=n,a.setState({dataList:r})},a.onChangeIpt=function(e,t,n){var r=a.state.dataList;r[n][t]=e.target.value,a.setState({dataList:r})},a.onChangeSlc=function(e,t,n){var r=a.state.dataList;r[n][t]=e,a.setState({dataList:r})},a.submitItem=function(e){var t=e.id,n=e.key1,r=void 0===n?"":n,i=e.key2,o=void 0===i?"":i,c=e.key3,l=void 0===c?"":c,s=e.logic1,m=void 0===s?"":s,p=e.logic2,h=void 0===p?"":p;if(o=o||"",l=l||"",m=m||"",h=h||"",(r=r||"").trim())if(d.default.legnthCheck(r,"INPUT")){if(m.length||o.trim().length){if(!o.trim())return void u.default.error("请输入关键词2");if(0==m.length)return void u.default.error("请选择关键词2检索条件");if(!d.default.legnthCheck(o,"INPUT"))return void u.default.error("关键词2长度不允许超过50")}if(h.length||l.trim().length){if(!l.trim())return void u.default.error("请输入关键词3");if(0==h.length)return void u.default.error("请选择关键词3检索条件");if(!d.default.legnthCheck(l,"INPUT"))return void u.default.error("关键词3长度不允许超过50")}f.default.post("/hcm/hcmProduct/setProductMonitorKeyword",{id:t,key1:r,key2:o,key3:l,logic1:m,logic2:h}).then(function(e){"10000"==e.data.status?(u.default.success(e.data.message),a.getList()):u.default.error(e.data.message)}).catch(function(e){u.default.error(e.statusText)})}else u.default.error("关键词1长度不允许超过50");else u.default.error("请输入关键词1")},a.expandedRowRender=function(t,n,r,i){var u=Object.assign({},t),s=u.editStatus,d=(u.id,u.key1),f=u.key2,m=u.key3,p=u.logic1,g=u.logic2;return d=d||"",f=f||"",m=m||"",p=p||"",g=g||"",s?e.createElement("div",{className:"ipt-box"},e.createElement("div",{style:{position:"relative"},id:"KeywordSetting",className:"ipts"},e.createElement(c.default,{onChange:function(e){return a.onChangeIpt(e,"key1",n)},placeholder:"请输入关键词1",value:d,style:{width:200}}),e.createElement(c.default,{addonBefore:e.createElement(l.default,{onChange:function(e){return a.onChangeSlc(e,"logic1",n)},placeholder:"请选择",value:p,style:{width:100},getPopupContainer:function(){return document.getElementById("KeywordSetting")}},e.createElement(h,{value:""},"请选择"),e.createElement(h,{value:"或"},"或"),e.createElement(h,{value:"且"},"且"),e.createElement(h,{value:"不包含"},"不包含")),onChange:function(e){return a.onChangeIpt(e,"key2",n)},placeholder:"请输入关键词2",value:f,style:{width:320}}),e.createElement(c.default,{addonBefore:e.createElement(l.default,{onChange:function(e){return a.onChangeSlc(e,"logic2",n)},placeholder:"请选择",value:g,style:{width:100},getPopupContainer:function(){return document.getElementById("KeywordSetting")}},e.createElement(h,{value:""},"请选择"),e.createElement(h,{value:"或"},"或"),e.createElement(h,{value:"且"},"且"),e.createElement(h,{value:"不包含"},"不包含")),onChange:function(e){return a.onChangeIpt(e,"key3",n)},placeholder:"请输入关键词3",value:m,style:{width:320}})),e.createElement("div",{className:"buts a"},e.createElement("a",{onClick:function(){return a.submitItem(t)}},e.createElement(o.default,{type:"check"})),e.createElement(o.default,{onClick:function(){return a.etidItem(t,n,!1)},type:"close"}))):e.createElement("div",{className:"ipt-box"},e.createElement("div",{style:{paddingRight:"100px"},className:"ipts infospan"},d.trim().length?e.createElement(e.Fragment,null,e.createElement("span",{title:d},d),e.createElement("span",{title:p},p),e.createElement("span",{title:f},f),e.createElement("span",{title:g},g),e.createElement("span",{title:m},m)):e.createElement("p",null,"未设置")),e.createElement("div",{className:"buts"},e.createElement("span",{onClick:function(){return a.etidItem(t,n,!0)},className:"a"},e.createElement("img",{style:{verticalAlign:"text-bottom",paddingRight:"4px"},src:"../../../img/icon/icon_operating_edit.png"}),"编辑")))},a.state={pageSize:10,pageNum:1,totalElements:0,dataList:[],productList:[]},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Component),s(n,[{key:"componentDidMount",value:function(){this.getByProduct()}},{key:"render",value:function(){var t=this,n=this.state,o=n.dataList,c=n.pageSize,u=n.pageNum,l=n.totalElements;return e.createElement("div",{className:"keyword-setting"},e.createElement("div",{className:"Breadcrumb"},e.createElement(i.default,null,e.createElement(i.default.Item,null,"售价监控设置"),e.createElement(i.default.Item,null,e.createElement("a",{href:"/index.html#/ProductClass"},"产品分类")),e.createElement(i.default.Item,null,"关键词设置"))),e.createElement("div",{className:"content"},e.createElement(r.default,{columns:this.formatColumn(),rowKey:"id",pagination:!1,expandedRowRender:function(e,n,a,r){return t.expandedRowRender(e,n,a,r)},dataSource:o}),e.createElement("div",{className:"footer"},e.createElement("div",{className:"info"},"共 "+l+" 条记录 ","  ","第  "+u+"  / "+Math.ceil(l/c)+" 页"),e.createElement(a.default,{pageSize:c,current:u,total:l,onChange:this.changePagination,onShowSizeChange:this.onPaginationSize,showSizeChanger:!0,showQuickJumper:!0}))),e.createElement(m.default,{clazzName:"copyright"}))}}]),n}();t.default=g}).call(this,n(1))}}]);