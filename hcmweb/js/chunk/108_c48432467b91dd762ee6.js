(window.webpackJsonp=window.webpackJsonp||[]).push([[108,146],{1157:function(e,t){},1158:function(e,t){},1160:function(e,t){},1161:function(e,t){},1165:function(e,t){},1176:function(e,t){},25:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(54));a(53);var r=i(a(28));function i(e){return e&&e.__esModule?e:{default:e}}a(1157);var l=function(t){return e.createElement("div",{className:"layout-wrapper "+(t.className||"")},e.createElement("div",{className:"header-wrapper"},e.createElement(n.default,{className:"breadcrumb"},t.breadcrumbList.map(function(a,r){return""===t.linkList[r]?e.createElement(n.default.Item,{key:a},a):e.createElement(n.default.Item,{href:"javascript:;",key:a},e.createElement("span",{onClick:function(){t.history.go(-t.linkList[r])}},a))}))),e.createElement("div",{className:"layout-content"},t.children),e.createElement("div",{className:"copyright"},e.createElement(r.default,null)))};l.defaultProps={title:"标题",breadcrumbList:[],linkList:[]},t.default=l}).call(this,a(1))},28:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var n=function(t){function n(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Component),a(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return e.createElement("div",{className:this.props.clazzName?this.props.clazzName:"Copyright"},"Copyright © 杭州久点网络技术有限公司")}}]),n}();t.default=n}).call(this,a(1))},559:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=g(a(439)),r=g(a(35)),i=g(a(121)),l=g(a(122)),o=g(a(70)),s=g(a(204)),c=g(a(14)),d=g(a(27)),u=g(a(11)),f=g(a(30));a(512),a(34),a(159),a(158),a(85),a(203),a(18),a(26),a(22),a(31);var m=g(a(17)),p=g(a(25));function g(e){return e&&e.__esModule?e:{default:e}}var h=f.default.Option,y=(0,m.default)(function(t){var a,n=t.state,f=n.dataList,m=n.addStatus,g=n.addDroductClassifyName,y=n.productClassifyName,v=n.pageNo,C=n.pageSize,E=n.totalElements,N={width:"14px",height:"14px",opacity:.25,cursor:"pointer"};t.state.brandList.map(function(t,a){return e.createElement(h,{key:t.id},t.productClassifyName)});return e.createElement(p.default,{title:"活动详情",breadcrumbList:["售价公示"],linkList:[""],history:t.props.history},e.createElement("div",{className:"pricenotice"},e.createElement("div",{className:"content"},e.createElement("div",{className:"header-search"},e.createElement("p",null,e.createElement("img",{src:"../../../../img/laba.png",style:{margin:"0 5px",float:"left"},alt:""}),e.createElement("b",null,"常用分类方式有，品牌；品类；系列等。请选择一种最适合的分类去管理。")),e.createElement("div",{className:"search-info"},e.createElement("span",{className:"item"},"产品分类："),e.createElement(d.default,{placeholder:"请输入",onChange:function(e){return t.onChange(e,"productClassifyName")},value:y,suffix:(a="productClassifyName",t.state[a]&&t.state[a].length?e.createElement(u.default,{type:"close-circle",onClick:function(){return t.handleClearIconClick(a)},style:N}):null),style:{width:200},className:"item"}),e.createElement(c.default,{onClick:function(){return t.onSearch()},className:"btn6 item"},"查询"),e.createElement("a",{className:"item",href:"/index.html#/ChangeHistory/HcmProductClassify"},e.createElement(c.default,null,"变更历史")))),e.createElement("div",{className:"item-list"},e.createElement("div",{onClick:function(){return t.onAddStatus(!0)},className:"item add-but"},e.createElement(u.default,{type:"plus"}),"新增分类"),m?e.createElement("div",{className:"item add-box"},e.createElement(d.default,{onChange:function(e){return t.onChange(e,"addDroductClassifyName")},value:g,className:"addipt",placeholder:"请输入分类名称"}),e.createElement(s.default,{value:t.state.leaderId,dropdownStyle:{maxHeight:200,overflow:"auto"},treeData:t.state.brandList,placeholder:"请选择负责人",treeDefaultExpandAll:!0,onChange:t.handleChangeleaderId}),e.createElement("div",{className:"iptbut"},e.createElement(u.default,{onClick:function(){return t.onAddStatus(!1)},type:"close"}),e.createElement(u.default,{onClick:function(){return t.addSubmit()},type:"check"}))):null,f.map(function(a,n){return e.createElement("div",{onClick:function(e){"a"!==e.target.tagName.toLocaleLowerCase()&&(window.location.href="/index.html#/ProductInfo/"+a.id+"/"+a.productClassifyName)},key:n,className:"item"},e.createElement("div",{className:"status"},e.createElement("img",{src:"../../../../img/monitoring-"+a.monitorState+".png"})),e.createElement("div",{className:"info"},e.createElement("div",{className:"box"},e.createElement(o.default,{placement:"top",title:a.productClassifyName},e.createElement("span",{className:a.readid?"title":"title read"},a.productClassifyName)),a.monitorState?null:e.createElement("a",{onClick:function(e){t.onVisible(!0,a),e.stopPropagation()},className:"but"},"一键监控"),a.leaderName?e.createElement("span",{style:{marginTop:"10px"}},a.leaderName):null)),e.createElement("div",{className:"action"},e.createElement(i.default,{placement:"bottomRight",overlay:e.createElement(l.default,null,e.createElement(l.default.Item,null,e.createElement("a",{className:"A-COLOR",href:"/index.html#/MonitorInfo/"+a.id},e.createElement("img",{style:{verticalAlign:"text-bottom",paddingRight:"6px"},src:"../../../img/icon/icon_operating_Details.png"}),"低价详情")),a.monitorState?e.createElement(l.default.Item,null,e.createElement("a",{className:"A-COLOR",onClick:function(e){t.onMonitorStop(a)}},e.createElement("img",{style:{verticalAlign:"text-bottom",paddingRight:"6px"},src:"../../../img/icon/icon_operating _stop.png"}),"停止监控")):null,e.createElement(l.default.Item,null,e.createElement("a",{className:"A-COLOR",onClick:function(e){t.onEditItem(a)}},e.createElement("img",{style:{verticalAlign:"text-bottom",paddingRight:"6px"},src:"../../../img/icon/icon_operating_edit.png"}),"编辑")),e.createElement(l.default.Item,null,e.createElement("a",{className:"A-COLOR",onClick:function(e){t.onRmItem(a)}},e.createElement("img",{style:{verticalAlign:"text-bottom",paddingRight:"6px"},src:"../../../img/icon/icon_operating_del.png"}),"删除")))},e.createElement(u.default,{onClick:function(e){e.stopPropagation()},type:"ellipsis"}))))})),e.createElement("div",{className:"addbut"},v*C>=E?null:e.createElement(c.default,{onClick:function(){return t.getMore()}},"加载更多..."))),e.createElement(b,{that:t}),e.createElement(r.default,{style:{width:"420px"},title:"编辑",visible:t.state.visibleBJ,onOk:t.handleOk,onCancel:t.handleCancel},e.createElement("div",{style:{textAlign:"center"}},"分类名称：",e.createElement("input",{style:{width:"60%",marginLeft:"10px",border:"1px solid #d9d9d9",borderRadius:"4px",height:"30px",padding:"0 10px"},id:"edit-item-input",onChange:t.productClassify,value:t.state.productClassifyNamex}),e.createElement("br",null),"负责人：",e.createElement(s.default,{style:{width:"60%",marginTop:"10px",marginLeft:"22px"},value:t.state.leaderId,dropdownStyle:{maxHeight:200,overflow:"auto"},treeData:t.state.brandList,placeholder:"请选择负责人",treeDefaultExpandAll:!0,onChange:t.handleChangeleaderId})))))}),b=(0,m.default)(function(t){var a=t.state,i=a.visible,l=a.classfiyUpdate;return e.createElement(r.default,{title:"设置时间",visible:i,maskClosable:!1,onOk:function(){return t.onUpdateMonitoring(!1)},onCancel:function(){return t.onVisible(!1)},okButtonProps:{className:"btn2-main"},cancelButtonProps:{className:"btn2-sub"},filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},e.createElement("div",{style:{display:"flex",alignItems:"center",paddingBottom:"20px"}},e.createElement("span",{style:{flexShrink:0,minWidth:"100px",textAlign:"right",color:"#333"}},"频次："),e.createElement(f.default,{onChange:function(e){return t.editOnchange(e,"frequency")},style:{width:"100%"},value:l.frequency},e.createElement(h,{value:"1次/24H"},"1次/24H"))),e.createElement("div",{style:{display:"flex",alignItems:"center",paddingBottom:"20px"}},e.createElement("span",{style:{flexShrink:0,minWidth:"100px",textAlign:"right",color:"#333"}},"监控时间："),e.createElement(n.default,{style:{width:"100%"},value:l.MonitorDate,onChange:function(e){return t.editOnchange(e,"MonitorDate")},format:"HH:mm",minuteStep:60})))});t.default=y}).call(this,a(1))},62:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default={onVisibilityChange:function(e,t){var a="hidden"in document?"hidden":"webkitHidden"in document?"webkitHidden":"mozHidden"in document?"mozHidden":null,n=a.replace(/hidden/i,"visibilitychange"),r=function(){document[a]||console.log("页面非激活"+new Date),document[a]&&console.log("页面激活"+new Date)};document.addEventListener(n,r)},formatAccount:function(e){return e=e.replace(/[\s]/g,"").replace(/(\d{4})(?=\d)/g,"$1 ")},formatThousandMoney:function(t,a){return isNaN(t)?"":(a=a||"",!1===e.isNumeric(t)||0==t?"0.00":0==(t=(t=+t).toFixed(2))?"0.00":a+" "+(t+"").replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g,"$&,"))},encryption:function(){return(""+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")).replace(/(\d{3})\d*([0-9a-zA-Z]{4})/,"$1****$2")},browser:{versions:function(){var e=navigator.userAgent,t=(navigator.appVersion,"");if(e.indexOf("Ourydc.Yuebaobao")>-1){var a=e.match(/Ourydc.Yuebaobao.*/);if(a.length>0){var n=a[0];t=n.substr(n.indexOf("/")+1)}}return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1==e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Adr")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1==e.indexOf("Safari"),weixin:e.indexOf("MicroMessenger")>-1,weibo:"WeiBo"==e.match(/WeiBo/i)||"Weibo"==e.match(/Weibo/i)||"weibo"==e.match(/weibo/i),qq:"qq"==e.match(/qq/i)||"QQ"==e.match(/QQ/i),qqBrower:-1==e.indexOf("Mobile MQQBrowser")&&-1!=e.indexOf("MQQBrowser"),isInApp:e.indexOf("Ourydc.Yuebaobao")>-1,locAppVersion:t}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()},checkAccount:function(e){return/^[a-zA-Z](\w|\s+){5,15}$/.test(this.trim(e||""))},checkUrl:function(e){return/^((ht|f)tps?):\/\/([\w\-]+(\.[\w\-]+)*\/)*[\w\-]+(\.[\w\-]+)*\/?(\?([\w\-\.,@?^=%&:\/~\+#]*)+)?/.test(this.trim(e||""))},Reg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/^[^\u4e00-\u9fa5]{5,31}$/.test(this.trim(e||""))},checkPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/^.{6,16}$/.test(this.trim(e||""))},trim:function(e){return(e=""+e).replace(/(^\s*)|(\s*$)/g,"")},getCookie:function(e){var t,a=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(a))?unescape(t[2]):null},required:function(e){var t=this.trim(e||"");return!(!t||!t.length)},legnthCheck:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"INPUT";return this.trim(e||"").length<this.LENGTH[t]},LENGTH:{URL:500,TEXTAREA:200,INPUT:50},getQueryString:function(e){var t=new RegExp("(^|&|[?])"+e+"=([^&]*)(&|$)"),a=window.location.href.substr(1).match(t);return null!=a?a[2]:""},getParamString:function(e,t){var a=new RegExp("(^|&|[?])"+t+"=([^&]*)(&|$)"),n=e.substr(1).match(a);return null!=n?n[2]:""},Trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},deviceCheck:function(){return browser.versions.mobile?browser.versions.android?"android":browser.versions.ios?"ios":"mobile":"web"}}}).call(this,a(112))},766:function(e,t){},872:function(e,t,a){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});var r=d(a(15)),i=d(a(35)),l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a(16),a(34);var o=d(a(559)),s=d(a(12)),c=d(a(62));function d(e){return e&&e.__esModule?e:{default:e}}var u=i.default.confirm,f=function(t){function a(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,t));return i.editOnchange=function(e,t){var a=i.state.classfiyUpdate;a[t]=e,i.setState({classfiyUpdate:a})},i.onChange=function(e,t){var a=i.state;a[t]=e.target.value,i.setState(a)},i.handleClearIconClick=function(e){var t=i.state;t[e]=null,i.setState(t)},i.addSubmit=function(){var e=i.state,t=e.addDroductClassifyName,a=e.leaderIdArray;t=t.replace(/(^\s*)|(\s*$)/g,""),console.log(t),console.log(a),t&&t.length?c.default.legnthCheck(t,"INPUT")?(LoadingModal({bl:!0,text:"保存中,请稍后..."}),s.default.get("/hcm/ProductClassify/save",{params:{productClassifyName:t,leaderId:a}}).then(function(e){"10000"==e.data.status?(i.setState({addDroductClassifyName:null,addStatus:!1,leaderIdArray:[],leaderId:[]}),i.getList(),r.default.success(e.data.message)):r.default.warning(e.data.message),LoadingModal({bl:!1})}).catch(function(e){r.default.error(e.statusText),LoadingModal({bl:!1})})):r.default.error("分类名长度不允许超过50"):r.default.error("分类名不可为空")},i.getMore=function(){i.setState({pageNo:i.state.pageNo+1},function(){i.getList()})},i.onSearch=function(){i.setState({pageNo:1},function(){i.getList()})},i.getList=function(){var e=i.state,t=e.pageNo,a=e.pageSize,n=e.productClassifyName;s.default.get("/hcm/ProductClassify/seletProductClassify",{params:{pageNum:t,pageSize:a,productClassifyName:n}}).then(function(e){var t=e.data.data.data,a=t.count,n=t.list;i.setState({dataList:n,totalElements:a})}).catch(function(e){r.default.error(e.statusText)})},i.onRmItem=function(t){var a=i;u({title:null,content:e.createElement("div",null,e.createElement("div",{className:"tips"},"提示"),e.createElement("div",{className:"pline"}),e.createElement("p",{className:"Dtitle"},"你确认要删除该产品分类吗？"),e.createElement("p",null,"删除后",e.createElement("span",{className:"red"},"录入的公示信息将会被删除"))),okText:"确定",cancelText:"取消",className:"alert-item-confirm",okButtonProps:{className:"btn2-main"},cancelButtonProps:{className:"btn2-sub"},onOk:function(){s.default.get("/hcm/ProductClassify/deleteById",{params:{id:t.id}}).then(function(e){r.default.success(e.data.message),a.getList()}).catch(function(e){r.default.error(e.statusText)})}})},i.onMonitorStop=function(e){var t=i;u({title:"你确认要停止该产品分类监控吗？",okText:"确定",cancelText:"取消",okButtonProps:{className:"btn2-main"},cancelButtonProps:{className:"btn2-sub"},onOk:function(){s.default.get("/hcm/priceMonitor/MonitorStop",{params:{id:e.id,productClassifyName:e.productClassifyName}}).then(function(e){r.default.success(e.data.message),t.getList()}).catch(function(e){r.default.error(e.statusText)})}})},i.onUpdateMonitoring=function(){var e=i,t=i.state.classfiyUpdate,a=t.MonitorDate,l=(t.platform_code,t.frequency),o=t.monitor_range,c=t.id,d=t.productClassifyName;s.default.post("/hcm/priceMonitor/ClassfiyUpdate",{MonitorDate:n(a).format("HH:mm"),frequency:l,monitor_range:o,type:"1",id:c,productClassifyName:d}).then(function(t){e.onVisible(!1),"10000"==t.data.status?(r.default.success(t.data.message),e.getList()):r.default.warning(t.data.message)}).catch(function(e){r.default.error(e.statusText)})},i.productClassify=function(e){i.setState({productClassifyNamex:e.target.value})},i.onEditItem=function(e){i.setState({visibleBJ:!0,leaderIdArray:e.leaderId,leaderId:e.leaderName,productClassifyNamex:e.productClassifyName,productClassifyId:e.id},function(){})},i.onVisible=function(e,t){var a=i.state.classfiyUpdate;t&&(a.id=t.id,a.productClassifyName=t.productClassifyName),i.setState({visible:e,classfiyUpdate:a})},i.createJson=function(e,t,a){void 0===t?delete a[e]:a[e]=t},i.lolo=function(e){e.children.forEach(function(e,t){"dept"===e.type?(i.createJson("disabled",!0,e),null!=e.children&&i.lolo(e)):"user"===e.type&&i.createJson("disabled",!1,e)})},i.brandList=function(){s.default.post("/hcm/userout/getAllUserTreeByDepartId",{}).then(function(e){"10000"==e.data.status?(e.data.data.forEach(function(e,t){"dept"===e.type?(i.createJson("disabled",!0,e),null!=e.children&&i.lolo(e)):"user"===e.type&&i.createJson("disabled",!1,e)}),i.setState({brandList:e.data.data})):r.default.warning(e.data.message)}).catch(function(e){r.default.error(e.statusText)})},i.onAddStatus=function(e){i.setState({addStatus:e,addDroductClassifyName:null,leaderIdArray:[],leaderId:[]})},i.handleChangeleaderId=function(e,t){i.setState({leaderIdArray:e,leaderId:t})},i.handleOk=function(e){var t=i.state.productClassifyNamex;(t=t.replace(/(^\s*)|(\s*$)/g,""))?c.default.legnthCheck(document.getElementById("edit-item-input").value,"INPUT")?""!=document.getElementById("edit-item-input").value&&null!=document.getElementById("edit-item-input").value?s.default.get("/hcm/ProductClassify/save",{params:{productClassifyName:t,id:i.state.productClassifyId,leaderId:i.state.leaderIdArray}}).then(function(e){"10000"==e.data.status?(r.default.success(e.data.message),i.getList(),i.setState({visibleBJ:!1,leaderIdArray:[],leaderId:[],productClassifyNamex:null,productClassifyId:""}),close()):(i.setState({visibleBJ:!1,leaderIdArray:[],leaderId:[],productClassifyNamex:null,productClassifyId:""}),r.default.warning(e.data.message))}).catch(function(e){r.default.error(e.statusText),i.setState({visibleBJ:!1,leaderIdArray:[],leaderId:[],productClassifyNamex:null,productClassifyId:""})}):r.default.error("不能为空！"):r.default.error("分类名长度不允许超过50"):r.default.error("分类名不能为空")},i.handleCancel=function(e){i.setState({visibleBJ:!1,leaderIdArray:[],leaderId:[],productClassifyNamex:"",productClassifyId:""})},i.state={addStatus:!1,visible:!1,visibleBJ:!1,productClassifyId:"",pageNo:1,pageSize:15,totalElements:0,productClassifyName:null,addDroductClassifyName:null,productClassifyNamex:"",dataList:[],classfiyUpdate:{MonitorDate:n(n().hour()+":00'","HH:mm"),productClassifyName:null,frequency:"1次/24H",monitor_range:"授权店铺",id:null},leaderId:[],leaderIdArray:[],brandList:[]},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,e.Component),l(a,[{key:"componentDidMount",value:function(){this.getList(),this.brandList()}},{key:"render",value:function(){return e.createElement(o.default,{that:this})}}]),a}();t.default=f}).call(this,a(1),a(10))}}]);