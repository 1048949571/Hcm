{"version":3,"sources":["webpack:///./app/widget/components/Copyright.js","webpack:///./app/widget/index/Feedback/AddFeedback.js","webpack:///./node_modules/_lodash@4.17.11@lodash/_hasPath.js"],"names":["Copyright","props","clazzName","React","Component","TextArea","App","state","workTitle","details","screenshotUrls","e","type","target","value","setState","length","error","LoadingModal","bl","text","ajax","get","params","sysType","localStorage","logintype","map","item","index","response","data","join","status","then","success","message","window","location","href","catch","statusText","info","iStype","file","indexOf","size","fileList","onChanges","position","color","width","changeUpload","isLt10M","onSubmit"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;IACMA,S;;;AACF,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA,qHACTA,KADS;AAElB;;;;4CACmB,CAEnB;;;iCACQ;AACL,mBACI;AAAA;AAAA,kBAAK,WAAW,KAAKA,KAAL,CAAWC,SAAX,GAAuB,KAAKD,KAAL,CAAWC,SAAlC,GAA4C,WAA5D;AAAA;AAAA,aADJ;AAMH;;;;EAdmBC,MAAMC,S;;kBAgBfJ,S;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACff;;;;AACA;;;;;;;;;;;;IAEQK,Q,mBAAAA,Q;AACR;;IACMC,G;;;AACF,iBAAYL,KAAZ,EAAmB;AAAA;;AAAA,8GACTA,KADS;;AAEf,cAAKM,KAAL,GAAa;AACTC,uBAAU,IADD;AAETC,qBAAQ,EAFC;AAGTC,4BAAe;AAHN,SAAb;AAFe;AAOlB;;;;4CACmB,CAEnB;;;kCAESC,C,EAAEC,I,EAAK;AACb,gBAAIL,QAAQ,KAAKA,KAAjB;AACAA,kBAAMK,IAAN,IAAcD,EAAEE,MAAF,CAASC,KAAvB;AACA,iBAAKC,QAAL,CAAcR,KAAd;AACH;;;mCAES;AAAA,yBACmC,KAAKA,KADxC;AAAA,gBACDC,SADC,UACDA,SADC;AAAA,gBACSC,OADT,UACSA,OADT;AAAA,gBACiBC,cADjB,UACiBA,cADjB;;AAEN,gBAAG,CAACF,SAAD,IAAYA,UAAUQ,MAAV,IAAkB,CAAjC,EAAmC;AAC/B,kCAAQC,KAAR,CAAc,OAAd;AACA;AACH,aAHD,MAGM,IAAGT,aAAWA,UAAUQ,MAAV,GAAiB,EAA/B,EAAkC;AACpC,kCAAQC,KAAR,oHAAqCT,UAAUQ,MAA/C;AACA;AACH,aAHK,MAGA,IAAG,CAACP,OAAD,IAAUA,QAAQO,MAAR,IAAgB,CAA7B,EAA+B;AACjC,kCAAQC,KAAR,CAAc,OAAd;AACA;AACH,aAHK,MAGA,IAAGR,WAASA,QAAQO,MAAR,GAAe,GAA3B,EAA+B;AACjC,kCAAQC,KAAR,qHAAsCR,QAAQO,MAA9C;AACA;AACH;AACDE,yBAAa,EAACC,IAAG,IAAJ,EAASC,MAAK,YAAd,EAAb;AACAC,2BAAKC,GAAL,CAAS,iCAAT,EAA4C;AACxCC,wBAAQ;AACJC,6BAAQC,aAAaC,SADjB;AAEJlB,+BAAUA,SAFN;AAGJC,6BAAQA,OAHJ;AAIJC,oCAAeA,eAAeM,MAAf,GAAwBN,eAAeiB,GAAf,CAAmB,UAACC,IAAD,EAAMC,KAAN;AAAA,+BAAcD,KAAKE,QAAL,CAAcC,IAAd,CAAmBA,IAAjC;AAAA,qBAAnB,EAA0DC,IAA1D,CAA+D,GAA/D,CAAxB,GAA6F,IAJxG;AAKJC,4BAAO;AALH;AADgC,aAA5C,EAQGC,IARH,CAQQ,UAACJ,QAAD,EAAc;AAClBZ,6BAAa,EAACC,IAAG,KAAJ,EAAb;AACA,oBAAGW,SAASC,IAAT,CAAcE,MAAd,IAAwB,OAA3B,EAAmC;AAC/B,sCAAQE,OAAR,CAAgBL,SAASC,IAAT,CAAcK,OAA9B;AACAC,2BAAOC,QAAP,CAAgBC,IAAhB,GAAuB,uBAAvB;AACH;AAEJ,aAfD,EAeGC,KAfH,CAeS,UAACvB,KAAD,EAAW;AAChBC,6BAAa,EAACC,IAAG,KAAJ,EAAb;AACA,kCAAQF,KAAR,CAAcA,MAAMwB,UAApB;AACH,aAlBD;AAmBH;;;qCACYC,I,EAAK;AACd,gBAAM9B,OAAO,gCAAb;AACA,gBAAM+B,SAASD,KAAKE,IAAL,CAAUhC,IAAV,CAAeI,MAAf,GAAwBJ,KAAKiC,OAAL,CAAaH,KAAKE,IAAL,CAAUhC,IAAvB,KAAgC,CAAC,CAAjC,GAAqC,KAArC,GAA6C,IAArE,GAA2E,KAA1F;AACA,gBAAI8B,KAAKE,IAAL,CAAUE,IAAV,GAAiB,IAAjB,GAAwB,IAAxB,GAA+B,EAA/B,IAAmCH,MAAvC,EAA+C;AAC3C,qBAAK5B,QAAL,CAAc;AACVL,oCAAegC,KAAKK;AADV,iBAAd;AAGH;AACJ;;;iCACQ;AAAA;;AAAA,0BACoC,KAAKxC,KADzC;AAAA,gBACAC,SADA,WACAA,SADA;AAAA,gBACUC,OADV,WACUA,OADV;AAAA,gBACkBC,cADlB,WACkBA,cADlB;;AAEL,mBACI;AAAA;AAAA,kBAAK,WAAU,aAAf;AAEI;AAAA;AAAA,sBAAK,WAAU,YAAf;AACI;AAAA;AAAA;AACI;AAAA,iDAAY,IAAZ;AAAA;AACI;AAAA;AAAA,kCAAG,MAAK,uBAAR;AAAA;AAAA;AADJ,yBADJ;AAMI;AAAA,iDAAY,IAAZ;AAAA;AAAA;AAAA;AANJ;AADJ,iBAFJ;AAaI;AAAA;AAAA,sBAAK,WAAU,SAAf;AACI;AAAA;AAAA,0BAAK,WAAU,UAAf;AACI;AAAA;AAAA,8BAAM,WAAU,aAAhB;AAAA;AAAA,yBADJ;AAEI,+DAAO,OAAOF,SAAd,EAAyB,UAAU,kBAACG,CAAD;AAAA,uCAAK,OAAKqC,SAAL,CAAerC,CAAf,EAAiB,WAAjB,CAAL;AAAA,6BAAnC,EAAuE,aAAY,8CAAnF,EAA+F,WAAU,OAAzG;AAFJ,qBADJ;AAKI;AAAA;AAAA,0BAAK,OAAO,EAACsC,UAAS,UAAV,EAAZ,EAAmC,WAAU,WAA7C;AACI;AAAA;AAAA,8BAAM,WAAU,aAAhB;AAAA;AAAA,yBADJ;AAEI,4CAAC,QAAD,IAAU,OAAOxC,OAAjB,EAA0B,UAAU,kBAACE,CAAD;AAAA,uCAAK,OAAKqC,SAAL,CAAerC,CAAf,EAAiB,SAAjB,CAAL;AAAA,6BAApC,EAAsE,aAAY,+CAAlF,EAA+F,WAAU,UAAzG,GAFJ;AAGI;AAAA;AAAA,8BAAG,OAAOF,QAAQO,MAAR,GAAe,GAAf,GAAqB,EAAEkC,OAAM,KAAR,EAArB,GAAoC,EAAEA,OAAM,MAAR,EAA9C,EAA+D,WAAU,cAAzE;AAA4FzC,oCAAQO,MAApG;AAAA;AAHJ,qBALJ;AAUI;AAAA;AAAA,0BAAK,WAAU,aAAf;AACI;AAAA;AAAA,8BAAM,WAAU,MAAhB;AAAA;AAAA,yBADJ;AAEI;AAAA;AAAA,8BAAK,OAAO,EAACmC,OAAM,MAAP,EAAZ;AACI;AAAA;AAAA;AACI,4CAAO,iCADX;AAEI,8CAAS,cAFb;AAGI,4CAAO,SAHX;AAII,8CAAU;AAAA,+CAAM,OAAKC,YAAL,CAAkBV,IAAlB,CAAN;AAAA,qCAJd;AAKI,kDAAgB,sBAACE,IAAD,EAAQ;AACpB,4CAAMS,UAAUT,KAAKE,IAAL,GAAY,IAAZ,GAAmB,IAAnB,GAA0B,EAA1C;AACA,4CAAMlC,OAAO,gCAAb;AACA,4CAAM+B,SAASC,KAAKhC,IAAL,CAAUI,MAAV,GAAmBJ,KAAKiC,OAAL,CAAaD,KAAKhC,IAAlB,KAA2B,CAAC,CAA5B,GAAgC,KAAhC,GAAwC,IAA3D,GAAiE,KAAhF;AACA,4CAAI,CAACyC,OAAL,EAAc;AACV,8DAAQpC,KAAR,CAAc,aAAd;AACH;AACD,4CAAI,CAAC0B,MAAL,EAAa;AACT,8DAAQ1B,KAAR,CAAc,0BAAd;AACH;AACD,+CAAOoC,WAASV,MAAhB;AACH,qCAhBL;AAiBI,8CAAUjC;;AAjBd;AAoBI;AAAA;AAAA;AACI,0EAAM,MAAK,MAAX,GADJ;AAEI;AAAA;AAAA,0CAAK,WAAU,iBAAf;AAAA;AAAA;AAFJ;AApBJ;AADJ;AAFJ,qBAVJ;AAwCI;AAAA;AAAA,0BAAK,WAAU,MAAf;AACI;AAAA;AAAA,8BAAQ,WAAU,QAAlB,EAA2B,SAAS;AAAA,2CAAI,OAAK4C,QAAL,EAAJ;AAAA,iCAApC;AAAA;AAAA,yBADJ;AAEI;AAAA;AAAA,8BAAG,MAAK,uBAAR;AACI;AAAA;AAAA;AAAA;AAAA;AADJ;AAFJ;AAxCJ,iBAbJ;AA8DI,oCAAC,mBAAD,IAAW,WAAU,WAArB;AA9DJ,aADJ;AAkEH;;;;EApIanD,MAAMC,S;;kBAsITE,G;;;;;;;;;;;;AC7If,eAAe,mBAAO,CAAC,uEAAa;AACpC,kBAAkB,mBAAO,CAAC,2EAAe;AACzC,cAAc,mBAAO,CAAC,mEAAW;AACjC,cAAc,mBAAO,CAAC,qEAAY;AAClC,eAAe,mBAAO,CAAC,qEAAY;AACnC,YAAY,mBAAO,CAAC,iEAAU;;AAE9B;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"js/chunk/301_7c7072aad0ae09522890.js","sourcesContent":["\r\nclass Copyright extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n    }\r\n    componentDidMount() {\r\n\r\n    }\r\n    render() {\r\n        return(\r\n            <div className={this.props.clazzName ? this.props.clazzName:'Copyright'}>\r\n                Copyright &#169; 杭州久点网络技术有限公司\r\n            </div>\r\n        )\r\n        \r\n    }\r\n}\r\nexport default Copyright","\r\nimport {message} from 'antd';\r\nimport ajax from '../../../js/common/ajax';\r\nimport Copyright from \"../../components/Copyright\";\r\nimport {Breadcrumb,Input,Upload, Icon,Button} from 'antd';\r\nconst { TextArea } = Input;\r\n// import {LoadingModal} from '../../components/LoadingModal/LoadingModal';\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            workTitle:null,\r\n            details:'',\r\n            screenshotUrls:[]\r\n        }\r\n    }\r\n    componentDidMount() {\r\n       \r\n    }\r\n\r\n    onChanges(e,type){\r\n        let state = this.state;\r\n        state[type] = e.target.value;\r\n        this.setState(state)\r\n    }\r\n    \r\n    onSubmit(){\r\n        let {workTitle,details,screenshotUrls} = this.state;\r\n        if(!workTitle||workTitle.length<=0){\r\n            message.error('请输入标题');\r\n            return\r\n        }else if(workTitle&&workTitle.length>30){\r\n            message.error(`标题长度不允许超过30字符，当前字符长度${workTitle.length}`);\r\n            return\r\n        }else if(!details||details.length<=0){\r\n            message.error('请输入详情');\r\n            return\r\n        }else if(details&&details.length>500){\r\n            message.error(`详情长度不允许超过500字符，当前字符长度${details.length}`);\r\n            return\r\n        }\r\n        LoadingModal({bl:true,text:'提交中,请稍后...'})\r\n        ajax.get('/hcm/hcmWorkOrder/saveWorkOrder', {\r\n            params: {\r\n                sysType:localStorage.logintype,\r\n                workTitle:workTitle,\r\n                details:details,\r\n                screenshotUrls:screenshotUrls.length ? screenshotUrls.map((item,index)=>item.response.data.data).join(','): null,\r\n                status:1\r\n            }\r\n        }).then((response) => {\r\n            LoadingModal({bl:false})\r\n            if(response.data.status == '10000'){\r\n                message.success(response.data.message);\r\n                window.location.href = '/index.html#/Feedback';\r\n            }\r\n            \r\n        }).catch((error) => {\r\n            LoadingModal({bl:false})\r\n            message.error(error.statusText);\r\n        });\r\n    }\r\n    changeUpload(info){\r\n        const type = 'image/jpeg image/jpg image/png';\r\n        const iStype = info.file.type.length ? type.indexOf(info.file.type) == -1 ? false : true :false;\r\n        if (info.file.size / 1024 / 1024 < 10&&iStype) {\r\n            this.setState({\r\n                screenshotUrls:info.fileList\r\n            })\r\n        }\r\n    }\r\n    render() {\r\n        let {workTitle,details,screenshotUrls} = this.state;\r\n        return (\r\n            <div className='addfeedback'>\r\n            \r\n                <div className='Breadcrumb'>\r\n                    <Breadcrumb>\r\n                        <Breadcrumb.Item>\r\n                            <a href='/index.html#/Feedback'>\r\n                                工单信息\r\n                            </a>\r\n                        </Breadcrumb.Item>\r\n                        <Breadcrumb.Item>新增工单</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                </div>\r\n            \r\n                <div className='content'>\r\n                    <div className='tit item'>\r\n                        <span className='red-ck text'>工单标题：</span>\r\n                        <Input value={workTitle} onChange={(e)=>this.onChanges(e,'workTitle')} placeholder='请输入，30字以内' className='input' />\r\n                    </div>\r\n                    <div style={{position:'relative'}} className='info item'>\r\n                        <span className='red-ck text'>工单详情：</span>\r\n                        <TextArea value={details} onChange={(e)=>this.onChanges(e,'details')} placeholder='请输入，500字以内' className='textArea' />\r\n                        <p style={details.length>500 ? { color:'red'}:{ color:'#999'}} className='length-alert'>{`${details.length}/500`}</p>\r\n                    </div>\r\n                    <div className='upload item'>\r\n                        <span className='text'>上传截图：</span>\r\n                        <div style={{width:'100%'}}>\r\n                            <Upload\r\n                                action=\"/hcm/hcmWorkOrder/headImgUpload\"\r\n                                listType=\"picture-card\"\r\n                                accept=\"image/*\"\r\n                                onChange={info=>this.changeUpload(info)}\r\n                                beforeUpload = {(file)=>{\r\n                                    const isLt10M = file.size / 1024 / 1024 < 10;\r\n                                    const type = 'image/jpeg image/jpg image/png';\r\n                                    const iStype = file.type.length ? type.indexOf(file.type) == -1 ? false : true :false;\r\n                                    if (!isLt10M) {\r\n                                        message.error('图片不能大于10MB!');\r\n                                    }\r\n                                    if (!iStype) {\r\n                                        message.error('支持图片格式jpeg，jpg，png。请重新选择');\r\n                                    }\r\n                                    return isLt10M&&iStype;\r\n                                }}\r\n                                fileList={screenshotUrls}\r\n                                \r\n                            >\r\n                                <div>\r\n                                    <Icon type=\"plus\" />\r\n                                    <div className=\"ant-upload-text\">Upload</div>\r\n                                </div>\r\n                            </Upload>\r\n                        </div>\r\n                    </div>\r\n                    <div className='buts'>\r\n                        <Button className='gdsubm' onClick={()=>this.onSubmit()}>提交</Button>\r\n                        <a href='/index.html#/Feedback'>\r\n                            <Button>\r\n                                取消\r\n                            </Button>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n                <Copyright clazzName='copyright' />\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default App;\r\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n"],"sourceRoot":""}