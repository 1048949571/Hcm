{"version":3,"sources":["webpack:///./app/widget/index/Dealers/PricePublicity/main.js"],"names":["PricePublicity","props","onLoading","state","cus_name","des","page_info","console","log","pageNo","ajax","post","pageNum","pageSize","then","res","data","status","setState","PricePublicity_list","list","count","length","SubmitStyle","handleClearIconClick","form","resetFields","getFieldsValue","productClassifyName","onChange","e","target","value","ForgetSubmit","preventDefault","validateFields","err","values","FieldName","undefined","bmids","window","location","getAttribute","spinning","totalNum","sumx","targetId","React","Component","create"],"mappings":"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","file":"js/chunk/298_b6ee70303da9afcb2915.js","sourcesContent":["import Tpl from './tpl';\r\nimport ajax from '../../../../js/common/ajax'\r\nimport { Form } from 'antd'\r\n\r\nclass PricePublicity extends React.Component {\r\n    constructor(props) {\r\n        // document.title = '售价公示';\r\n        super(props)\r\n        this.state = {\r\n            cus_name: '',\r\n            des: \"\",\r\n            spinning: false,\r\n            PricePublicity_list: [],\r\n            productClassifyName:\"\",\r\n            page_info: {\r\n                pageNo: 1,\r\n                pageSize: 6,\r\n                totalNum: 0,\r\n                SubmitStyle:false\r\n            },\r\n            sumx:6,\r\n            targetId: null,\r\n            count:0\r\n        }\r\n    }\r\n    onLoading = () => {\r\n        let { cus_name, des, page_info } = this.state;\r\n        console.log(this.state.page_info.pageNo,this.state.page_info.pageNo ++)\r\n        ajax.post('/hcm/ProductClassify/seletProductClassify', {\r\n            pageNum: this.state.page_info.pageSize,\r\n            pageSize: this.state.page_info.pageNo ++\r\n        })\r\n            .then((res) => {\r\n                console.log(res)\r\n\r\n                if (res.data.status == 10000) {\r\n                    this.setState({\r\n                        PricePublicity_list: res.data.data.data.list,\r\n                        count:res.data.data.data.count\r\n                        \r\n                    })\r\n                    console.log(res.data.data.data.count.length,)\r\n                    if(res.data.data.data.list.length==res.data.data.data.count){\r\n                        this.setState({\r\n                            SubmitStyle:true\r\n                        })\r\n                    }\r\n                }\r\n            })\r\n    }\r\n    handleClearIconClick =  () => {\r\n        const { form: { resetFields, getFieldsValue } } = this.props\r\n             resetFields()\r\n        this.setState({\r\n            productClassifyName :\"\"\r\n        })\r\n    }\r\n    onChange = (e) =>{\r\n        this.setState({\r\n            productClassifyName :e.target.value\r\n        })\r\n        console.log(e.target.value)\r\n    }\r\n    componentDidMount() {\r\n        this.PricePublicity_list()\r\n    }\r\n    ForgetSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            // console.log(values)\r\n            if (!err) {\r\n                ajax.post('/hcm/ProductClassify/seletProductClassify', {\r\n                    pageNum: this.state.page_info.pageSize,\r\n                    pageSize: this.state.page_info.pageNo,\r\n                    productClassifyName:values.FieldName\r\n                })\r\n                    .then((res) => {\r\n                        if (res.data.status == 10000) {\r\n                            this.setState({\r\n                                PricePublicity_list: res.data.data.data.list\r\n                            })\r\n                            // if(this.state.page_info.pageSize<res.data.data.data.count){\r\n                            //     this.setState({\r\n                            //         SubmitStyle:true\r\n                            //     })\r\n                            // }\r\n                            //console.log(values.FieldName)\r\n                            if(values.FieldName!=undefined && values.FieldName!=\"\"){\r\n                                this.setState({\r\n                                    SubmitStyle:true\r\n                                })\r\n                            }else{\r\n                                this.setState({\r\n                                    SubmitStyle:false\r\n                                })\r\n                            }\r\n                        }\r\n                    })\r\n\r\n\r\n            }\r\n        })\r\n\r\n    }\r\n    PricePublicity_list = () => {\r\n        //console.log(this.state.page_info.pageSize)\r\n        ajax.post('/hcm/ProductClassify/seletProductClassify', {\r\n            pageNum: this.state.page_info.pageSize,\r\n            pageSize: this.state.page_info.pageNo\r\n        })\r\n            .then((res) => {\r\n                console.log(res, \"21321\")\r\n                if (res.data.status == 10000) {\r\n                    this.setState({\r\n                        PricePublicity_list: res.data.data.data.list,\r\n                        count:res.data.data.data.count\r\n                    })\r\n                    // if(this.state.page_info.pageSize<res.data.data.data.count){\r\n                    //     this.setState({\r\n                    //         SubmitStyle:true\r\n                    //     })\r\n                    // }\r\n                }\r\n            })\r\n    }\r\n    bmids=(e)=>{\r\n        \r\n        window.location=\"/index.html#/ProductInformation/\"+e.target.getAttribute(\"tit\")+\"/\"+e.target.getAttribute(\"id\")\r\n    }\r\n    render() {\r\n        return <Tpl that={this} />\r\n    }\r\n}\r\nexport default Form.create()(PricePublicity)"],"sourceRoot":""}