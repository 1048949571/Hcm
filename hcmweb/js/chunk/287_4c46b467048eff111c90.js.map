{"version":3,"sources":["webpack:///./app/widget/components/Copyright.js","webpack:///./app/widget/index/Commits/main.js","webpack:///./app/widget/index/Commits/tpl.js"],"names":["Copyright","props","clazzName","React","Component","App","getList","ajax","get","params","private_token","per_page","page","state","then","response","setState","dataList","concat","data","loading","show","length","catch","error","message","statusText","userList","Tpl","that","user","bjw2264","lijing","常德闯","map","item","index","backgroundColor","author_name","margin","marginLeft","title","moment","committed_date","format","short_id","author_email","id","parent_ids","textAlign"],"mappings":"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","file":"js/chunk/287_4c46b467048eff111c90.js","sourcesContent":["\r\nclass Copyright extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n    }\r\n    componentDidMount() {\r\n\r\n    }\r\n    render() {\r\n        return(\r\n            <div className={this.props.clazzName ? this.props.clazzName:'Copyright'}>\r\n                Copyright &#169; 杭州久点网络技术有限公司\r\n            </div>\r\n        )\r\n        \r\n    }\r\n}\r\nexport default Copyright","import Tpl from './tpl';\r\nimport ajax from '../../../js/common/ajax';\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            userList:[],\r\n            dataList:[],\r\n            page:1,\r\n            loading:false,\r\n            show:true,\r\n        }\r\n    }\r\n    componentDidMount() {\r\n       this.getList()\r\n    }\r\n    \r\n    getList = () => {\r\n        ajax.get('http://n1a6884762.iok.la/api/v4/projects/95/repository/commits',{\r\n            params:{\r\n                private_token:'iHARe64RLtMbPFQcnJEt',\r\n                per_page:'20',\r\n                page:this.state.page,\r\n            }\r\n        })\r\n        .then((response) => {\r\n            this.setState({\r\n                dataList:this.state.dataList.concat(response.data),\r\n                loading:false,\r\n                show:response.data.length == 20 ? true :false\r\n            })\r\n        }).catch((error) => {\r\n            message.error(error.statusText);\r\n            this.setState({\r\n                loading:true,\r\n            })\r\n        });\r\n    }\r\n    loading = ()=>{\r\n        this.setState({\r\n            loading:true,\r\n            page:this.state.page+1\r\n        },this.getList)\r\n    }\r\n    render() {\r\n        return <Tpl that={this} />\r\n    }\r\n}\r\nexport default App;\r\n","\r\nimport ThatMain from '../../HOC/That';\r\nimport {Timeline,Button,Breadcrumb,Avatar,Card,Row, Col} from 'antd';\r\nimport Copyright from \"../../components/Copyright\";\r\nconst Tpl = ThatMain((that) => {\r\n    let {dataList,userList} = that.state;\r\n    const user = {\r\n        bjw2264:'#55a0f8',\r\n        lijing:'#72c77c',\r\n        常德闯:'#66c8ca',\r\n    }\r\n    if(dataList.length){\r\n        return (\r\n            <div className='commits'>\r\n                <div className='Breadcrumb'>\r\n                    <h3>GitLab {` <HCM_WEB> `} 提交记录</h3>\r\n                </div>\r\n                \r\n                <div className='content'>\r\n                    <Timeline>\r\n                        {\r\n                            dataList.map((item,index)=>{\r\n                                return(\r\n                                    <Timeline.Item dot={<Avatar  style={{ backgroundColor: user[item.author_name] }} size=\"large\">{item.author_name}</Avatar>}  key={index}>\r\n                                        \r\n                                        <Card\r\n                                            style={{ margin:'0 0 40px 20px' }}\r\n                                            type=\"inner\"\r\n                                            title={<p>No:{index+1  }<span style={{marginLeft:'20px'}}>标题：{item.title}</span></p>}\r\n                                            extra={moment(item.committed_date).format('YYYY年MM月DD日 HH:mm:ss')}\r\n                                        >\r\n                                             <Row>\r\n                                                <Col span={24}>提交人：{item.author_name}</Col>\r\n                                            </Row>\r\n                                            <Row>\r\n                                                <Col span={12}>short_id：<a target='_blank' href={`http://n1a6884762.iok.la/chang/HCM_WEB/commit/${item.short_id}`}>{item.short_id}</a></Col>\r\n                                                <Col span={12}>邮箱：{item.author_email}</Col>\r\n                                            </Row>\r\n                                            <Row>\r\n                                                <Col span={12}>id：{item.id}</Col>\r\n                                                <Col span={12}>parent_ids：{item.parent_ids[0]}</Col>\r\n                                            </Row>\r\n                                        </Card>\r\n                                    </Timeline.Item>\r\n                                )\r\n                            })\r\n                        }\r\n                    </Timeline>\r\n                    {\r\n                        that.state.show ? \r\n                            <div style={{textAlign:'center'}}>\r\n                                <Button type=\"primary\" loading={that.state.loading} onClick={that.loading}>加载更多</Button>\r\n                            </div>\r\n                        :null\r\n\r\n                    }\r\n                    \r\n                </div>\r\n                <Copyright clazzName='copyright' />\r\n            </div>\r\n        )\r\n    }else{\r\n        return null\r\n    }\r\n    \r\n})\r\n\r\nexport default Tpl"],"sourceRoot":""}