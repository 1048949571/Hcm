{"version":3,"sources":["webpack:///./app/widget/index/Brand/SuspectExceptionOrder/main.js","webpack:///./app/widget/index/Brand/SuspectExceptionOrder/tpl.js"],"names":["DEFAULT_PAGE","pageNo","pageSize","App","props","clearInputFn","setState","key","handlePageChange","pagination","Object","assign","state","page","data","commonSearchCondition","getSuspentOrderList","searchChange","type","param","target","value","length","startTime","endTime","handleOrder","orderId","flag","LoadingModal","bl","axios","post","orderState","then","res","status","message","success","error","catch","params","get","dataList","content","map","v","_isExpand","pageNumber","totalElements","expandedRowKeys","warning","undefined","orderNo","firstDate","format","lastDate","handleSearch","handleExpand","expanded","record","index","findIndex","id","copyDataList","copyObj","_detail","statusText","showTableList","filter","moment","subtract","React","Component","Option","RangePicker","clearIconStyle","width","height","opacity","cursor","ORDER_STATUS","Tpl","that","shopInfo","result","columns","title","render","text","className","dataIndex","platformName","shopUrl","wangwang","dealerName","display","whiteSpace","overflow","textOverflow","color","bind","orderStatus","history","trigger","parentNode","marginLeft","showQuickJumper","current","total","onChange","indent"],"mappings":"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","file":"js/chunk/279_08069328acf047716e22.js","sourcesContent":["import Tpl from './tpl'\r\nimport { message as Msg } from 'antd'\r\nimport axios from '../../../../js/common/ajax'\r\n\r\nconst DEFAULT_PAGE = {\r\n  pageNo: 1,\r\n  pageSize: 10,\r\n}\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      orderId: '',\r\n      // shopInfo: '',\r\n      status: '',\r\n      // result: '',\r\n      startTime: moment().subtract(6, 'd'),\r\n      endTime: moment(),\r\n      expandedRowKeys: [],\r\n      // expanded: false,\r\n\r\n      dataList: [],\r\n      pagination: { ...DEFAULT_PAGE },\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    this.getSuspentOrderList(this.commonSearchCondition(DEFAULT_PAGE))\r\n  }\r\n  clearInputFn = key => {\r\n    this.setState({\r\n      [key]: ''\r\n    })\r\n  }\r\n  handlePageChange = page => {\r\n    this.setState({\r\n      pagination: Object.assign({}, this.state.pagination, {\r\n        pageNo: page,\r\n      })\r\n    }, () => {\r\n      const data = this.commonSearchCondition(this.state.pagination)\r\n      if (data) {\r\n        this.getSuspentOrderList(data)\r\n      }\r\n    })\r\n  }\r\n  searchChange = (key, type, param) => {\r\n    switch(type) {\r\n      case 'input':\r\n        // console.log(param.target.value)\r\n        this.setState({\r\n          [key]: param.target.value,\r\n        })\r\n        break\r\n      case 'select':\r\n        // console.log(param)\r\n        this.setState({\r\n          [key]: param,\r\n        })\r\n        break\r\n      case 'time':\r\n        // console.log(param)\r\n        if (param.length === 0) {\r\n          this.setState({\r\n            startTime: '',\r\n            endTime: '',\r\n          })\r\n        } else {\r\n          this.setState({\r\n            startTime: param[0],\r\n            endTime: param[1],\r\n          })\r\n        }\r\n      default:\r\n        null\r\n    }\r\n  }\r\n  // 处理订单\r\n  handleOrder = (orderId, flag) => {\r\n    // console.log(flag)\r\n    LoadingModal({bl:true})\r\n    axios.post('/hcm/hcmShopMonitor/updateOrderAbnormal', {\r\n      orderId,\r\n      orderState: flag,\r\n    }).then(res => {\r\n      LoadingModal({bl:false})\r\n      const { data, status, message } = res.data\r\n      if (status === '10000') {\r\n        data == 1 && Msg.success(message)\r\n        this.getSuspentOrderList(this.commonSearchCondition(DEFAULT_PAGE))\r\n      } else {\r\n        Msg.error(message)\r\n      }\r\n    }).catch(err => {\r\n      LoadingModal({bl:false})\r\n      Msg.error('系统繁忙，请稍后再试！')\r\n    })\r\n  }\r\n  getSuspentOrderList = (params) => {\r\n    // console.log(params)\r\n    // return\r\n    axios.get('/hcm/hcmShopMonitor/findOrderAbnormalListByPage', {params}).then(res => {\r\n      const { data, status, message } = res.data\r\n      if (status === '10000') {\r\n        this.setState({\r\n          dataList: data.content.length===0?[]:data.content.map(v => Object.assign({}, v, {_isExpand: false})),\r\n          pagination: Object.assign({}, this.state.pagination, {\r\n            pageNo: data.pageNumber,\r\n            pageSize: data.pageSize,\r\n            totalElements: data.totalElements,\r\n          }),\r\n          expandedRowKeys: [],\r\n        })\r\n      } else {\r\n        Msg.error(message)\r\n      }\r\n    }).catch(err => {\r\n      Msg.error('系统繁忙，请稍后再试！')\r\n    })\r\n  }\r\n  commonSearchCondition = (pagination) => {\r\n    const {\r\n      orderId,\r\n      // shopInfo,\r\n      status,\r\n      // result,\r\n      startTime,\r\n      endTime,\r\n    } = this.state\r\n    if (startTime === '' || endTime === '') {\r\n      Msg.warning('时间不能为空，请选择时间！')\r\n      return undefined\r\n    }\r\n    const data = {\r\n      orderNo: orderId,\r\n      // shopInfo,\r\n      orderState: status,\r\n      // result,\r\n      firstDate: startTime.format('YYYY-MM-DD'),\r\n      lastDate: endTime.format('YYYY-MM-DD'),\r\n      pageNo: pagination.pageNo,\r\n      pageSize: pagination.pageSize,\r\n    }\r\n    return data\r\n  }\r\n  handleSearch = () => {\r\n    const data = this.commonSearchCondition(DEFAULT_PAGE)\r\n    if (data) {\r\n      this.getSuspentOrderList(data)\r\n    }\r\n  }\r\n  handleExpand = async (expanded, record) => {\r\n    const { dataList } = this.state\r\n    const index = dataList.findIndex(v => v.id == record.id)\r\n    if (index < 0) {\r\n      Msg.error('系统异常，请稍后再试！')\r\n      return\r\n    }\r\n    const copyDataList = [...dataList]\r\n    const copyObj = Object.assign({}, copyDataList[index])\r\n    copyObj._isExpand = !record._isExpand\r\n    if (!record._isExpand && record._detail === undefined) {\r\n      // 请求额外数据并且添加到当前数据中\r\n      try {\r\n        LoadingModal({bl:true})\r\n        const res = await axios.get('/hcm/hcmShopMonitor/getOrderDetailById', {params: { orderId: record.id }})\r\n        LoadingModal({bl:false})\r\n        if (res.data.status !== '10000') {\r\n          Msg.error(res.data.message)\r\n          return\r\n        }\r\n        copyObj._detail = {...res.data.data}\r\n      } catch (error) {\r\n        LoadingModal({bl:false})\r\n        Msg.error(error.statusText)\r\n        return\r\n      }\r\n    }\r\n    copyDataList[index] = copyObj\r\n    const showTableList = copyDataList.filter(v => v._isExpand)\r\n    const expandedRowKeys = showTableList.length?showTableList.map(v => v.id):[]\r\n    this.setState({\r\n      expandedRowKeys,\r\n      dataList: copyDataList,\r\n    })\r\n  }\r\n  render() {\r\n    return <Tpl that={this} />\r\n  }\r\n}\r\n\r\nexport default App","import ThatMain from '../../../HOC/That'\r\nimport ContentBox from '../../../components/Layout'\r\nimport ExpandContent from '../../../components/OrderMonitorExpandContent'\r\n\r\nimport { Input, Select, DatePicker, Button, Row, Col, Icon, Table, Popover } from 'antd'\r\n\r\nconst Option = Select.Option\r\nconst RangePicker = DatePicker.RangePicker\r\n\r\nconst clearIconStyle = {\r\n  width: '14px',\r\n  height: '14px',\r\n  opacity: 0.25,\r\n  cursor: 'pointer'\r\n}\r\nconst ORDER_STATUS = {\r\n  0: '已处理（正常）',\r\n  1: '待处理',\r\n  2: '已处理（异常）',\r\n}\r\n\r\nconst Tpl = ThatMain(that => {\r\n  const {\r\n    startTime,\r\n    endTime,\r\n    orderId,\r\n    shopInfo,\r\n    status,\r\n    result,\r\n    expandedRowKeys,\r\n    // expanded,\r\n    dataList,\r\n    pagination,\r\n  } = that.state\r\n\r\n  const columns = [\r\n    {\r\n      title: '序号',\r\n      render: (text, record, index) => index + 1,\r\n      key: 'xuhao',\r\n      className: 'table-column-item',\r\n    },\r\n    {\r\n      title: '订单编号',\r\n      dataIndex: 'tid',\r\n      key: 'order_num',\r\n      className: 'table-column-item',\r\n    },\r\n    {\r\n      title: '订单金额',\r\n      dataIndex: 'tradeMoney',\r\n      render: text => `￥${text}`,\r\n      key: 'order-money',\r\n      className: 'table-column-item',\r\n    },\r\n    {\r\n      title: '店铺信息',\r\n      dataIndex: 'shopName',\r\n      render: (text, record) => (\r\n        <Popover\r\n          placement=\"topLeft\"\r\n          content={\r\n            <React.Fragment>\r\n              <p>平台：{record.platformName}</p>\r\n              <p>链接地址：<a href={record.shopUrl} target=\"_blank\">{record.shopUrl}</a></p>\r\n              <p>店铺名称：{text}</p>\r\n              <p>旺旺名称：{record.wangwang}</p>\r\n              <p>所属经销商：{record.dealerName}</p>\r\n            </React.Fragment>\r\n          }\r\n        >\r\n          <span style={{display:'inline-block',width:'60%',whiteSpace:'nowrap',overflow:'hidden',textOverflow:'ellipsis'}}>{text}</span>\r\n        </Popover>\r\n      ),\r\n      key: 'shop_info',\r\n      className: 'table-column-item',\r\n    },\r\n    {\r\n      title: '订单时间',\r\n      dataIndex: 'paytime',\r\n      render: text => moment(text).format('YYYY-MM-DD HH:mm:ss'),\r\n      key: 'order_time',\r\n      className: 'table-column-item',\r\n    },\r\n    {\r\n      title: '状态',\r\n      dataIndex: 'orderStatus',\r\n      render: text => `${ORDER_STATUS[text]||''}`,\r\n      key: 'status',\r\n      className: 'table-column-item',\r\n    },\r\n    // {\r\n    //   title: '处理结果',\r\n    //   render: text => ``,\r\n    //   key: 'result',\r\n    //   className: 'table-column-item',\r\n    // },\r\n    {\r\n      title: '操作',\r\n      render: (text, record) => (\r\n        <span \r\n          style={{cursor:'pointer',color:'#108CEE'}}\r\n          onClick={that.handleExpand.bind(that, null, record)}>\r\n          {`${record.orderStatus == 1 ? '立即处理' : '订单详情'}`}\r\n        </span>\r\n      ),\r\n      key: 'options',\r\n      className: 'table-column-item',\r\n    }\r\n  ]\r\n\r\n  return (\r\n    <ContentBox\r\n      breadcrumbList={['监控中心', '订单监控', '疑似异常订单处理']}\r\n      linkList={['', '1', '']}\r\n      history={that.props.history}\r\n    >\r\n      <div className=\"suspent-exception-order-wrapper\">\r\n        <section className=\"search-container\">\r\n          <Row className=\"row-content\">\r\n            <Col span={8} className=\"item\">\r\n              <span>订单编号</span>\r\n              <Input \r\n                suffix={\r\n                  orderId===\"\"?\r\n                  null:\r\n                  <Icon\r\n                    type=\"close-circle\"\r\n                    onClick={that.clearInputFn.bind(that, 'orderId')}\r\n                    style={clearIconStyle}\r\n                  />\r\n                }\r\n                onChange={that.searchChange.bind(that, 'orderId', 'input')}\r\n                value={orderId}\r\n                placeholder=\"请输入\" \r\n                style={{width:242}} />\r\n            </Col>\r\n            <Col span={8} className=\"item\">\r\n              <span>状态</span>\r\n              <Select\r\n                onChange={that.searchChange.bind(that, 'status', 'select')}\r\n                defaultValue={status}\r\n                style={{width:242}}\r\n                getPopupContainer={trigger => trigger.parentNode}\r\n              >\r\n                <Option value=\"\">全部</Option>\r\n                <Option value=\"0\">已处理（正常）</Option>\r\n                <Option value=\"2\">已处理（异常）</Option>\r\n                <Option value=\"1\">待处理</Option>\r\n              </Select>\r\n            </Col>\r\n            <Col span={8} className=\"item\">\r\n              <span>订单时间</span>\r\n              <RangePicker \r\n                onChange={that.searchChange.bind(that, '', 'time')}\r\n                style={{width:242}}\r\n                getCalendarContainer={trigger => trigger.parentNode}\r\n                defaultValue={startTime===''?[]:[startTime, endTime]}\r\n              />\r\n              <Button style={{marginLeft:10}} className=\"btn6\" onClick={that.handleSearch}>查询</Button>\r\n            </Col>\r\n            {/* <Col span={8} className=\"item\"> */}\r\n              {/* <span>店铺信息</span>\r\n              <Input \r\n                suffix={\r\n                  shopInfo===\"\"?\r\n                  null:\r\n                  <Icon\r\n                    type=\"close-circle\"\r\n                    onClick={that.clearInputFn.bind(that, 'shopInfo')}\r\n                    style={clearIconStyle}\r\n                  />\r\n                }\r\n                onChange={that.searchChange.bind(that, 'shopInfo', 'input')}\r\n                value={shopInfo}\r\n                placeholder=\"请输入\" \r\n                style={{width:242}} /> */}\r\n            {/* </Col> */}\r\n            {/* <Col span={8} className=\"item\"> */}\r\n              {/* <span>处理结果</span>\r\n              <Select\r\n                onChange={that.searchChange.bind(that, 'result', 'select')}\r\n                defaultValue={result}\r\n                style={{width:242}}\r\n                getPopupContainer={trigger => trigger.parentNode}\r\n              >\r\n                <Option value=\"\">全部</Option>\r\n              </Select> */}\r\n            {/* </Col> */}\r\n            {/* <Col span={8} className=\"item\">\r\n              <Button className=\"btn6\" onClick={that.handleSearch}>查询</Button>\r\n            </Col> */}\r\n          </Row>\r\n        </section>\r\n        <section className=\"table-content-wrapper\">\r\n          <Table \r\n            className=\"table\"\r\n            rowKey={record => record.id}\r\n            dataSource={dataList}\r\n            pagination={{\r\n              showQuickJumper: true,\r\n              current: pagination.pageNo,\r\n              total: pagination.totalElements,\r\n              onChange: that.handlePageChange,\r\n            }}\r\n            columns={columns}\r\n            onExpand={that.handleExpand}\r\n            expandedRowKeys={expandedRowKeys}\r\n            expandedRowRender={(record, index, indent, expanded) => {\r\n              return (\r\n                <ExpandContent handleOrder={that.handleOrder} orderId={record.id} data={record._detail || {}} />\r\n              )\r\n            }}\r\n          />\r\n        </section>\r\n      </div>\r\n    </ContentBox>\r\n  )\r\n})\r\n\r\nexport default Tpl"],"sourceRoot":""}