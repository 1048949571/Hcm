(window.webpackJsonp=window.webpackJsonp||[]).push([[27,99],{1157:function(e,t){},1158:function(e,t){},1159:function(e,t){},1160:function(e,t){},1161:function(e,t){},1162:function(e,t){},1163:function(e,t){},1169:function(e,t){},1178:function(e,t){},120:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{width:"20px",height:"20px"};return{TB:e.createElement("img",{style:n,src:"../../../../img/platform/1_taobao.svg"}),TM:e.createElement("img",{style:n,src:"../../../../img/platform/2_tall.svg"}),JD:e.createElement("img",{style:n,src:"../../../../img/platform/3_jd.svg"}),SN:e.createElement("img",{style:n,src:"../../../../img/platform/4_suning.svg"}),GM:e.createElement("img",{style:n,src:"../../../../img/platform/5_gome.svg"}),PDD:e.createElement("img",{style:n,src:"../../../../img/platform/6_pinduoduo.svg"}),AMAZON:e.createElement("img",{style:n,src:"../../../../img/platform/7_a.svg"}),WPH:e.createElement("img",{style:n,src:"../../../../img/platform/8_weipinhui.svg"}),1688:e.createElement("img",{style:n,src:"../../../../img/platform/9_1688.svg"}),SMT:e.createElement("img",{style:n,src:"../../../../img/platform/10_sumaitong.svg"}),DD:e.createElement("img",{style:n,src:"../../../../img/platform/11_dangdang.svg"}),ALST:e.createElement("img",{style:n,src:"../../../../img/platform/12_lingshoutong.svg"}),"1HD":e.createElement("img",{style:n,src:"../../../../img/platform/13_1haodian.svg"}),YJWD:e.createElement("img",{style:n,src:"../../../../img/platform/14_yunji.svg"}),YLW:e.createElement("img",{style:n,src:"../../../../img/platform/15_youle.svg"}),XY:e.createElement("img",{style:n,src:"../../../../img/platform/16_xainyu.svg"}),WECD:e.createElement("img",{style:n,src:"../../../../img/platform/17_weixin.svg"}),MGJ:e.createElement("img",{style:n,src:"../../../../img/platform/18_mogujie.svg"}),JMYP:e.createElement("img",{style:n,src:"../../../../img/platform/19_jumei.svg"}),CCJ:e.createElement("img",{style:n,src:"../../../../img/platform/20_chuchujie.svg"}),BBWG:e.createElement("img",{style:n,src:"../../../../img/platform/21_beibeiwang.svg"}),platform_OTHER:e.createElement("img",{style:n,src:"../../../../img/platform/22_qita.svg"})}[t]}}).call(this,n(1))},156:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(770);t.default={Encrypt:function(e){var t=a.enc.Utf8.parse("hcmabcdefghijklm"),n=a.enc.Utf8.parse(e);return a.AES.encrypt(n,t,{mode:a.mode.ECB,padding:a.pad.Pkcs7}).toString()},Decrypt:function(e){var t=a.enc.Utf8.parse("hcmabcdefghijklm"),n=a.AES.decrypt(e,t,{mode:a.mode.ECB,padding:a.pad.Pkcs7});return a.enc.Utf8.stringify(n).toString()}}},25:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(54));n(53);var r=l(n(28));function l(e){return e&&e.__esModule?e:{default:e}}n(1157);var i=function(t){return e.createElement("div",{className:"layout-wrapper "+(t.className||"")},e.createElement("div",{className:"header-wrapper"},e.createElement(a.default,{className:"breadcrumb"},t.breadcrumbList.map(function(n,r){return""===t.linkList[r]?e.createElement(a.default.Item,{key:n},n):e.createElement(a.default.Item,{href:"javascript:;",key:n},e.createElement("span",{onClick:function(){t.history.go(-t.linkList[r])}},n))}))),e.createElement("div",{className:"layout-content"},t.children),e.createElement("div",{className:"copyright"},e.createElement(r.default,null)))};i.defaultProps={title:"标题",breadcrumbList:[],linkList:[]},t.default=i}).call(this,n(1))},28:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var a=function(t){function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,e.Component),n(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return e.createElement("div",{className:this.props.clazzName?this.props.clazzName:"Copyright"},"Copyright © 杭州久点网络技术有限公司")}}]),a}();t.default=a}).call(this,n(1))},433:function(e,t){},529:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=g(n(35)),r=g(n(33)),l=g(n(32)),i=g(n(45)),o=g(n(37)),c=g(n(80)),s=g(n(14)),u=g(n(27)),m=g(n(11)),d=g(n(30));n(34),n(41),n(42),n(46),n(36),n(81),n(18),n(26),n(22),n(31);var f=g(n(17)),p=g(n(25));function g(e){return e&&e.__esModule?e:{default:e}}var h=d.default.Option,v=(0,f.default)(function(t){var n=t.state,a=n.pageNo,r=n.pageSize,l=n.totalNum,f=n.checkAll,g=n.platform_code,v=n.shopname,y=n.username,b=n.status,w=n.selectedRowKeys,k=n.dataList,_={selectedRowKeys:w,onChange:function(e){return t.onTableCheckChange(e)}},S={width:"14px",height:"14px",opacity:.25,cursor:"pointer"},x=function(n){return t.state[n]&&t.state[n].length?e.createElement(m.default,{type:"close-circle",onClick:function(){return t.handleClearIconClick(n)},style:S}):null};return e.createElement(p.default,{breadcrumbList:["用户管理","店铺账号"],linkList:["",""],history:t.props.history},e.createElement("div",{className:"shoplist"},e.createElement("div",{className:"content"},e.createElement("div",{className:"search-box"},e.createElement("div",{className:"input-box"},e.createElement("div",{style:{position:"relative"},id:"platform_code",className:"item"},e.createElement("span",{className:"lab"},"平台名称:"),e.createElement(d.default,{style:{width:"100%"},value:g,onChange:function(e){return t.handleChange(e,"platform_code")},getPopupContainer:function(){return document.getElementById("platform_code")}},e.createElement(h,{value:null},"全部"),can.platform.map(function(t,n){return e.createElement(h,{key:n,value:t.dictCode},t.dictName)}))),e.createElement("div",{className:"item"},e.createElement("span",{className:"lab"},"店铺名称:"),e.createElement(u.default,{onChange:function(e){return t.chSearchIpt(e,"shopname")},value:v,suffix:x("shopname"),className:"ipt"})),e.createElement("div",{className:"item"},e.createElement("span",{className:"lab"},"用户名:"),e.createElement(u.default,{onChange:function(e){return t.chSearchIpt(e,"username")},value:y,suffix:x("username"),className:"ipt"}))),e.createElement("div",{className:"input-box"},e.createElement("div",{style:{position:"relative"},id:"status",className:"item"},e.createElement("span",{className:"lab"},"状态:"),e.createElement(d.default,{style:{width:"100%"},value:b,onChange:function(e){return t.handleChange(e,"status")},getPopupContainer:function(){return document.getElementById("status")}},e.createElement(h,{value:null},"全部"),e.createElement(h,{value:1},"启用"),e.createElement(h,{value:0},"禁用"))),e.createElement("div",{style:{justifyContent:"flex-end"},className:"item"},e.createElement(s.default,{onClick:function(e){return t.onSearch()}},"查询")))),e.createElement("div",{className:"list-box"},e.createElement("div",null,e.createElement("div",null,e.createElement(s.default,{onClick:function(){return t.allStopStart(1)},style:{marginRight:"10px"}},"批量启用"),e.createElement(s.default,{onClick:function(){return t.allStopStart(0)},type:"danger"},"批量停用")),e.createElement("div",{style:{padding:"10px 0px"}},e.createElement(c.default,{message:e.createElement("div",null,"共 ",e.createElement("a",null,l)," 项，已选择 ",e.createElement("a",null,f?l:w.length)," 项 ",e.createElement("a",{onClick:function(){return t.checkAll(!0)}},"勾选全部"),"/",e.createElement("a",{onClick:function(){return t.checkAll(!1)}},"取消勾选")),type:"info",showIcon:!0})),e.createElement(o.default,{rowKey:"id",pagination:!1,rowSelection:_,columns:t.formatColumn(),dataSource:k})),e.createElement("div",{className:"footer"},e.createElement("div",{className:"info"},"共 "+l+" 条记录 ","  ","第  "+a+"  / "+Math.ceil(l/r)+" 页"),e.createElement(i.default,{pageSize:r,current:a,total:l,onChange:t.changePagination,onShowSizeChange:t.onPaginationSize,showSizeChanger:!0,showQuickJumper:!0}))))),e.createElement(E,{that:t}))}),E=(0,f.default)(function(t){var n=t.state,i=n.editShop,o=n.targetData,c=n.password;return e.createElement(a.default,{maskClosable:!1,title:"编辑",okButtonProps:{className:"btn2-main"},cancelButtonProps:{className:"btn2-sub"},onCancel:function(){return t.stateEditService(!1)},onOk:t.onSubMit,visible:i},e.createElement("div",{className:"edit-shop"},e.createElement(r.default,{style:{marginBottom:20},type:"flex",align:"middle"},e.createElement(l.default,{className:"text-right",span:6},"店铺名称："),e.createElement(l.default,{span:15},e.createElement(u.default,{disabled:!0,value:o.shopname}))),e.createElement(r.default,{style:{marginBottom:20},type:"flex",align:"middle"},e.createElement(l.default,{className:"text-right",span:6},"用户名："),e.createElement(l.default,{span:15},e.createElement(u.default,{disabled:!0,value:o.username}))),e.createElement(r.default,{style:{marginBottom:5},type:"flex",align:"middle"},e.createElement(l.default,{className:"text-right",span:6},e.createElement("span",{className:"required"},"密码：")),e.createElement(l.default,{span:15},e.createElement(u.default,{value:c,onChange:function(e){return t.chSearchIpt(e,"password")},type:"password"}))),e.createElement(r.default,{style:{marginBottom:5,fontSize:12},type:"flex",align:"middle"},e.createElement(l.default,{push:6,span:15},"6 - 16  个字符，区分大小写。初始密码：123456"))))});t.default=v}).call(this,n(1))},62:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default={onVisibilityChange:function(e,t){var n="hidden"in document?"hidden":"webkitHidden"in document?"webkitHidden":"mozHidden"in document?"mozHidden":null,a=n.replace(/hidden/i,"visibilitychange"),r=function(){document[n]||console.log("页面非激活"+new Date),document[n]&&console.log("页面激活"+new Date)};document.addEventListener(a,r)},formatAccount:function(e){return e=e.replace(/[\s]/g,"").replace(/(\d{4})(?=\d)/g,"$1 ")},formatThousandMoney:function(t,n){return isNaN(t)?"":(n=n||"",!1===e.isNumeric(t)||0==t?"0.00":0==(t=(t=+t).toFixed(2))?"0.00":n+" "+(t+"").replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g,"$&,"))},encryption:function(){return(""+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")).replace(/(\d{3})\d*([0-9a-zA-Z]{4})/,"$1****$2")},browser:{versions:function(){var e=navigator.userAgent,t=(navigator.appVersion,"");if(e.indexOf("Ourydc.Yuebaobao")>-1){var n=e.match(/Ourydc.Yuebaobao.*/);if(n.length>0){var a=n[0];t=a.substr(a.indexOf("/")+1)}}return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1==e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Adr")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1==e.indexOf("Safari"),weixin:e.indexOf("MicroMessenger")>-1,weibo:"WeiBo"==e.match(/WeiBo/i)||"Weibo"==e.match(/Weibo/i)||"weibo"==e.match(/weibo/i),qq:"qq"==e.match(/qq/i)||"QQ"==e.match(/QQ/i),qqBrower:-1==e.indexOf("Mobile MQQBrowser")&&-1!=e.indexOf("MQQBrowser"),isInApp:e.indexOf("Ourydc.Yuebaobao")>-1,locAppVersion:t}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()},checkAccount:function(e){return/^[a-zA-Z](\w|\s+){5,15}$/.test(this.trim(e||""))},checkUrl:function(e){return/^((ht|f)tps?):\/\/([\w\-]+(\.[\w\-]+)*\/)*[\w\-]+(\.[\w\-]+)*\/?(\?([\w\-\.,@?^=%&:\/~\+#]*)+)?/.test(this.trim(e||""))},Reg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/^[^\u4e00-\u9fa5]{5,31}$/.test(this.trim(e||""))},checkPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/^.{6,16}$/.test(this.trim(e||""))},trim:function(e){return(e=""+e).replace(/(^\s*)|(\s*$)/g,"")},getCookie:function(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?unescape(t[2]):null},required:function(e){var t=this.trim(e||"");return!(!t||!t.length)},legnthCheck:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"INPUT";return this.trim(e||"").length<this.LENGTH[t]},LENGTH:{URL:500,TEXTAREA:200,INPUT:50},getQueryString:function(e){var t=new RegExp("(^|&|[?])"+e+"=([^&]*)(&|$)"),n=window.location.href.substr(1).match(t);return null!=n?n[2]:""},getParamString:function(e,t){var n=new RegExp("(^|&|[?])"+t+"=([^&]*)(&|$)"),a=e.substr(1).match(n);return null!=a?a[2]:""},Trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},deviceCheck:function(){return browser.versions.mobile?browser.versions.android?"android":browser.versions.ios?"ios":"mobile":"web"}}}).call(this,n(112))},766:function(e,t){},840:function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(177)),l=p(n(11)),i=p(n(15)),o=p(n(35)),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(178),n(22),n(16),n(34);var s=p(n(529)),u=p(n(156)),m=p(n(12)),d=p(n(62)),f=p(n(120));function p(e){return e&&e.__esModule?e:{default:e}}var g=o.default.confirm,h=function(t){function n(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return o.onSearch=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];o.setState({pageNo:1,platform_code:e?null:o.state.platform_code,shopname:e?null:o.state.shopname,username:e?null:o.state.username,status:e?null:o.state.status,oldSearch:{platform_code:e?null:o.state.platform_code,shopname:e?null:o.state.shopname,username:e?null:o.state.username,status:e?null:o.state.status}},function(){o.getList()})},o.getList=function(){var e=o.state,t=e.pageNo,n=e.pageSize,a=e.platform_code,r=e.shopname,l=e.username,c=e.status;m.default.get("/hcm/hcmShop/getPageByAdmin",{params:{platform_code:a,shopname:r,username:l,status:c,pageNo:t,pageSize:n}}).then(function(e){o.setState({dataList:e.data.data.content,pageNo:e.data.data.pageNumber,pageSize:e.data.data.pageSize,totalNum:e.data.data.totalElements,checkAll:!1,selectedRowKeys:[]})}).catch(function(e){i.default.error(e.statusText)})},o.chSearchIpt=function(e,t){var n=o.state;n[t]=e.target.value,o.setState(n)},o.handleClearIconClick=function(e){var t=o.state;t[e]=null,o.setState(t)},o.handleChange=function(e,t){var n=o.state;n[t]=e,o.setState(n)},o.onTableCheckChange=function(e){o.setState({selectedRowKeys:e,checkAll:!1})},o.changePagination=function(e,t){o.setState({pageNo:e,pageSize:t},function(){o.getList()})},o.onPaginationSize=function(e,t){o.setState({pageNo:1,pageSize:t},function(){o.getList()})},o.formatColumn=function(){return[{title:"No",dataIndex:"index",width:"80px",key:"index",render:function(t,n,a){return e.createElement("div",{style:{width:"40px"}},a+1)}},{title:"平台",dataIndex:"platformname",key:"platformname",render:function(t,n,a){return e.createElement("div",null,(0,f.default)(n.platformcode,{verticalAlign:"bottom",width:"20px",height:"20px"})," ",t)}},{title:"店铺名称",dataIndex:"shopname",key:"shopname",render:function(t,n,a){return e.createElement("a",{target:"_blank",href:n.shopurl},t)}},{title:"用户名",dataIndex:"username",key:"username"},{title:"绑定手机",dataIndex:"mobile",key:"mobile",render:function(t,n){return e.createElement("div",null,d.default.encryption(t),t&&t.length?e.createElement("span",{onClick:function(){return o.unBindPhone(n)},className:"unphone"},e.createElement(l.default,{type:"link"}),"解绑手机"):null)}},{title:"最近登陆",dataIndex:"logintime",key:"logintime",render:function(e){return e?a(e).format("YYYY年MM月DD日 HH:mm:ss"):"--"}},{title:"状态",dataIndex:"status",key:"status",render:function(t,n,a){return e.createElement(r.default,{loading:n.loading,onChange:function(e){return o.changeSwitch(e,n,a)},checkedChildren:"开",unCheckedChildren:"关",checked:!!t})}},{title:"操作",dataIndex:"action",key:"action",render:function(t,n,a){return e.createElement("div",null,e.createElement("a",{onClick:function(){return o.stateEditService(!0,n)}},e.createElement("img",{style:{verticalAlign:"text-bottom",paddingRight:"4px"},src:"../../../img/icon/icon_operating_edit.png"}),"编辑"))}}]},o.allStopStart=function(t){var n=o.state,a=n.selectedRowKeys,r=n.totalNum,l=n.checkAll,c=o.state.oldSearch,s=c.shopname,u=c.platform_code,d=c.username,f=c.status,p=o;0!=a.length?g({title:null,content:e.createElement("div",null,e.createElement("div",{className:"tips"},"提示"),e.createElement("div",{className:"pline"}),e.createElement("p",{className:"Dtitle"},"你确认要",t?"启用":"禁用",l?r:a.length,"项吗")),okText:"确定",cancelText:"取消",className:"alert-item-confirm",onOk:function(){m.default.post("/hcm/hcmShop/stopOrOpenShopByAdmin",{ids:l?"checkAll":a.join(","),sostatus:t,shopname:l?s:"",platform_code:l?u:"",username:l?d:"",status:l?f:""}).then(function(e){"10000"==e.data.status?(p.onSearch(!0),i.default.success(e.data.message)):i.default.error(e.data.message)}).catch(function(e){i.default.error(e.statusText)})}}):i.default.warning("至少选择一项")},o.unBindPhone=function(t){var n=o;g({title:null,content:e.createElement("div",null,e.createElement("div",{className:"tips"},"提示"),e.createElement("div",{className:"pline"}),e.createElement("p",{className:"Dtitle"},"你确认要解绑手机吗")),okText:"确定",okType:"danger",cancelText:"取消",className:"alert-item-confirm",onOk:function(){m.default.get("/hcm/user/UnbindPhone",{params:{mobiles:t.userid,usertype:"c"}}).then(function(e){"10000"==e.data.status?(n.getList(),i.default.success(e.data.message)):i.default.error(e.data.message)}).catch(function(e){i.default.error(e.statusText)})}})},o.changeSwitch=function(e,t,n){var a=o.state.dataList;a[n].loading=!0,o.setState({dataList:a},function(){m.default.post("/hcm/hcmShop/stopOrOpenShopByAdmin",{ids:t.id,sostatus:e?1:0}).then(function(e){i.default.success(e.data.message),"10000"==e.data.status&&o.getList()}).catch(function(e){i.default.error(e.statusText),a[n].loading=!1,o.setState({dataList:a})})})},o.checkAll=function(e){var t=o.state.selectedRowKeys;e?o.state.dataList.forEach(function(e,n){t.push(e.id)}):t=[],o.setState({checkAll:e,selectedRowKeys:t})},o.stateEditService=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};console.log(e,t),o.setState({editShop:e,password:null,targetData:e?t:{}},function(){console.log(o.state.targetData)})},o.onSubMit=function(){var e=o.state,t=e.targetData,n=e.password;null!=n&&""!=n?d.default.checkPassword(n)?m.default.post("/hcm/hcmShop/updatePassword",{username:t.username,password:u.default.Encrypt(n.trim())}).then(function(e){i.default.success(e.data.message),"10000"==e.data.status&&o.stateEditService(!1)}).catch(function(e){i.default.error(e.statusText)}):i.default.warning("密码长度不符"):i.default.warning("密码不可为空")},o.state={platform_code:null,shopname:null,username:null,status:null,oldSearch:{platform_code:null,shopname:null,username:null,status:null},dataList:[],pageNo:1,pageSize:10,totalNum:0,checkAll:!1,selectedRowKeys:[],editShop:!1,targetData:{},password:null},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Component),c(n,[{key:"componentDidMount",value:function(){this.getList()}},{key:"render",value:function(){return e.createElement(s.default,{that:this})}}]),n}();t.default=h}).call(this,n(1),n(10))}}]);