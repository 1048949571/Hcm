{"version":3,"sources":["webpack:///./app/widget/index/Service/LinkMarking/main.js"],"names":["DEFAULT_PAGE","pageNo","pageSize","App","props","getShopList","state","shop_name","pagination","params","shop_nick","LoadingModal","bl","axios","get","then","res","data","status","message","setState","shopList","content","Object","assign","pageNumber","totalElements","error","catch","err","statusText","handlePageChange","page","handleInputChange","e","target","value","handleSearchClick","goTo","history","push","path","React","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;;;;;;;;;;;AAGA,IAAMA,eAAe;AACnBC,UAAQ,CADW;AAEnBC,YAAU;AAFS,CAArB;;IAKMC,G;;;AACJ,eAAYC,KAAZ,EAAmB;AAAA;;AAAA,0GACXA,KADW;;AAAA,UAWnBC,WAXmB,GAWL,YAAM;AAAA,wBACgB,MAAKC,KADrB;AAAA,UACVC,SADU,eACVA,SADU;AAAA,UACCC,UADD,eACCA,UADD;;AAElB,UAAMC,SAAS;AACbC,mBAAWH,SADE;AAEbN,gBAAQO,WAAWP,MAFN;AAGbC,kBAAUM,WAAWN;AAHR,OAAf;AAKAS,mBAAa,EAACC,IAAG,IAAJ,EAAb;AACAC,qBAAMC,GAAN,CAAU,wBAAV,EAAmC,EAACL,cAAD,EAAnC,EAA6CM,IAA7C,CAAkD,eAAO;AACvDJ,qBAAa,EAACC,IAAG,KAAJ,EAAb;AADuD,wBAErBI,IAAIC,IAFiB;AAAA,YAE/CA,IAF+C,aAE/CA,IAF+C;AAAA,YAEzCC,MAFyC,aAEzCA,MAFyC;AAAA,YAEjCC,OAFiC,aAEjCA,OAFiC;;AAGvD,YAAID,WAAW,OAAf,EAAwB;AACtB;AACA,gBAAKE,QAAL,CAAc;AACZC,sBAAUJ,KAAKK,OADH;AAEZd,wBAAYe,OAAOC,MAAP,CAAc,EAAd,EAAkB,MAAKlB,KAAL,CAAWE,UAA7B,EAAyC;AACnDP,sBAAQgB,KAAKQ,UADsC;AAEnDvB,wBAAUe,KAAKf,QAFoC;AAGnDwB,6BAAeT,KAAKS;AAH+B,aAAzC;AAFA,WAAd;AAQD,SAVD,MAUO;AACL,4BAAIC,KAAJ,CAAUR,OAAV;AACD;AACF,OAhBD,EAgBGS,KAhBH,CAgBS,eAAO;AACdjB,qBAAa,EAACC,IAAG,KAAJ,EAAb;AACA,0BAAIe,KAAJ,CAAUE,IAAIC,UAAd;AACD,OAnBD;AAoBD,KAvCkB;;AAAA,UAwCnBC,gBAxCmB,GAwCA,gBAAQ;AACzB,YAAKX,QAAL,CAAc;AACZZ,oBAAYe,OAAOC,MAAP,CAAc,EAAd,EAAkB,MAAKlB,KAAL,CAAWE,UAA7B,EAAyC;AACnDP,kBAAQ+B;AAD2C,SAAzC;AADA,OAAd,EAIG,YAAM;AACP,cAAK3B,WAAL;AACD,OAND;AAOD,KAhDkB;;AAAA,UAiDnB4B,iBAjDmB,GAiDC,aAAK;AACvB,YAAKb,QAAL,CAAc;AACZb,mBAAW2B,EAAEC,MAAF,CAASC;AADR,OAAd;AAGD,KArDkB;;AAAA,UAsDnBC,iBAtDmB,GAsDC,aAAK;AACvB;AACA;AACA;AACA;AACA,YAAKjB,QAAL,CAAc;AACZ;AACAZ,iCAAgBR,YAAhB;AAFY,OAAd,EAGG,YAAM;AACP,cAAKK,WAAL;AACD,OALD;AAMD,KAjEkB;;AAAA,UAkEnBiC,IAlEmB,GAkEZ,gBAAQ;AACb,YAAKlC,KAAL,CAAWmC,OAAX,CAAmBC,IAAnB,CAAwBC,IAAxB;AACD,KApEkB;;AAEjB,UAAKnC,KAAL,GAAa;AACXe,gBAAU,EADC;AAEXb,+BAAgBR,YAAhB,CAFW;AAGXO,iBAAW;AAHA,KAAb;AAFiB;AAOlB;;;;yCACoB;AACnB,WAAKF,WAAL;AACD;;;6BA2DQ;AACP,aAAO,oBAAC,aAAD,IAAK,MAAM,IAAX,GAAP;AACD;;;;EAxEeqC,MAAMC,S;;kBA2ETxC,G","file":"js/chunk/327_ffebb6e9374a2a142249.js","sourcesContent":["import Tpl from './tpl'\r\nimport axios from '../../../../js/common/ajax'\r\nimport { message as Msg } from 'antd'\r\n\r\nconst DEFAULT_PAGE = {\r\n  pageNo: 1,\r\n  pageSize: 10,\r\n}\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      shopList: [],\r\n      pagination: {...DEFAULT_PAGE},\r\n      shop_name: '',\r\n    }\r\n  }\r\n  componentWillMount() {\r\n    this.getShopList()\r\n  }\r\n  getShopList = () => {\r\n    const { shop_name, pagination } = this.state\r\n    const params = {\r\n      shop_nick: shop_name,\r\n      pageNo: pagination.pageNo,\r\n      pageSize: pagination.pageSize,\r\n    }\r\n    LoadingModal({bl:true})\r\n    axios.get('/hcm/ItemMark/shopList',{params}).then(res => {\r\n      LoadingModal({bl:false})\r\n      const { data, status, message } = res.data\r\n      if (status === '10000') {\r\n        // console.log('-----res', data)\r\n        this.setState({\r\n          shopList: data.content,\r\n          pagination: Object.assign({}, this.state.pagination, {\r\n            pageNo: data.pageNumber,\r\n            pageSize: data.pageSize,\r\n            totalElements: data.totalElements,\r\n          })\r\n        })\r\n      } else {\r\n        Msg.error(message)\r\n      }\r\n    }).catch(err => {\r\n      LoadingModal({bl:false})\r\n      Msg.error(err.statusText)\r\n    })\r\n  }\r\n  handlePageChange = page => {\r\n    this.setState({\r\n      pagination: Object.assign({}, this.state.pagination, {\r\n        pageNo: page,\r\n      })\r\n    }, () => {\r\n      this.getShopList()\r\n    })\r\n  }\r\n  handleInputChange = e => {\r\n    this.setState({\r\n      shop_name: e.target.value\r\n    })\r\n  }\r\n  handleSearchClick = e => {\r\n    // console.log(e.target.value)\r\n    // if (!e.target.value.length) {\r\n    //   return\r\n    // }\r\n    this.setState({\r\n      // shop_name: e.target.value,\r\n      pagination: {...DEFAULT_PAGE},\r\n    }, () => {\r\n      this.getShopList()\r\n    })\r\n  }\r\n  goTo = path => {\r\n    this.props.history.push(path)\r\n  } \r\n  render() {\r\n    return <Tpl that={this} />\r\n  }\r\n}\r\n\r\nexport default App"],"sourceRoot":""}