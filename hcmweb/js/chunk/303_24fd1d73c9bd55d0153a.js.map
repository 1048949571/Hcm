{"version":3,"sources":["webpack:///./app/widget/index/Feedback/main.js"],"names":["App","props","onSearch","setState","pageNo","getList","state","pageSize","title","totalNum","ajax","get","params","sysType","localStorage","logintype","userid","then","response","data","dataList","content","pageNumber","totalElements","catch","error","statusText","onChange","e","type","target","value","changePagination","page","onPaginationSize","current","size","formatColumn","dataIndex","key","width","align","render","text","item","index","adminstatus","id","userstatus","moment","format","React","Component"],"mappings":"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","file":"js/chunk/303_24fd1d73c9bd55d0153a.js","sourcesContent":["import Tpl from './tpl';\r\nimport {message} from 'antd';\r\nimport ajax from '../../../js/common/ajax';\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            title:null,\r\n            pageNo: 1,\r\n            pageSize: 10,\r\n            totalNum: null,\r\n            dataList:[]\r\n        }\r\n    }\r\n    componentDidMount() {\r\n       this.getList()\r\n    }\r\n    onSearch= () =>{\r\n        this.setState({\r\n            pageNo:1\r\n        },()=>{\r\n            this.getList()\r\n        })\r\n    }\r\n    getList = () => {\r\n        let {pageNo,pageSize,title,totalNum} = this.state;\r\n        ajax.get('/hcm/hcmWorkOrder/getListWorkOrder', {\r\n            params: {\r\n                title:title,\r\n                sysType:localStorage.logintype,\r\n                pageNo:pageNo,\r\n                pageSize:pageSize,\r\n                userid:23\r\n            }\r\n        }).then((response) => {\r\n            let data = response.data.data;\r\n            this.setState({\r\n                dataList: data.content,\r\n                pageNo: data.pageNumber,\r\n                pageSize: data.pageSize,\r\n                totalNum: data.totalElements,\r\n            })\r\n        }).catch((error) => {\r\n            message.error(error.statusText);\r\n        });\r\n    }\r\n    onChange = (e,type) =>{\r\n        let state = this.state;\r\n        state[type] = e.target.value\r\n        this.setState(state)\r\n    }\r\n    changePagination = (page, pageSize) => {\r\n        this.setState({\r\n            pageNo: page,\r\n            pageSize: pageSize,\r\n        }, () => {\r\n            this.getList()\r\n        })\r\n    }\r\n    onPaginationSize = (current, size) => {\r\n        this.setState({\r\n            pageNo: 1,\r\n            pageSize: size,\r\n        }, () => {\r\n            this.getList()\r\n        })\r\n    }\r\n    \r\n    formatColumn = ()=>{\r\n        return[{\r\n            title: '序号',\r\n            dataIndex: 'name',\r\n            key: 'name',\r\n            width:'15%',\r\n            align:'left',\r\n            render:(text,item,index)=>index+1\r\n          }, {\r\n            title: '工单标题',\r\n            dataIndex: 'work_title',\r\n            key: 'work_title',\r\n            width:'35%',\r\n            render:(text,item,index)=>{\r\n                if(localStorage.logintype==\"ADMIN\"){\r\n                    return <a className={item.adminstatus ?  'title-text ':'title-text red-ck'} href={`/index.html#/InfoFeedback/${item.id}`}>{text}</a>\r\n                }else{\r\n                    return <a className={item.userstatus ?  'title-text ':'title-text red-ck'}  href={`/index.html#/InfoFeedback/${item.id}`}>{text}</a>\r\n                }\r\n            }\r\n          }, {\r\n            title: '提交用户',\r\n            dataIndex: 'realname',\r\n            key: 'realname',\r\n            width:'25%',\r\n          }, {\r\n            title: '回复时间',\r\n            dataIndex: 'updatetime',\r\n            key: 'updatetime',\r\n            align:'right',\r\n            width:'25%',\r\n            render:(text,item,index)=>moment(text).format('YYYY年MM月DD日 HH:mm:ss')\r\n          }]\r\n    }\r\n    render() {\r\n        return <Tpl that={this} />\r\n    }\r\n}\r\nexport default App;\r\n"],"sourceRoot":""}