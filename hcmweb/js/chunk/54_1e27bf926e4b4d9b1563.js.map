{"version":3,"sources":["webpack:///./app/widget/index/Brand/OrderAnalysis/Add.js"],"names":["Option","Add","props","showModal","type","bl","setState","state","shopVisible","getShopList","itemVisible","getSingletProList","getProductClassify","addShop","shopData","selectData","push","id","shop_name","rmShop","index","length","warning","splice","onShopSelect","e","listData","filter","item","ajax","get","then","response","data","status","focus","error","message","catch","statusText","handleshopOk","arr","map","i","post","shopids","join","success","getShop","handleItemOk","itemData","product_id","getItem","Object","assign","v","isLeaf","label","productClassifyName","value","getlistByClass","product_classify_id","callback","params","onChangeCascaders","selectedOptions","console","log","brand_name","brandName","product_classify_name","product_name","productName","loadData","targetOption","loading","list","children","disabled","addItem","rmItem","className","paddingRight","verticalAlign","marginBottom","display","alignItems","width","input","option","toLowerCase","indexOf","item2","index2","isauthed","item3","React","Component"],"mappings":"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","file":"js/chunk/54_1e27bf926e4b4d9b1563.js","sourcesContent":["import { Modal, message, Row, Col, Select,Icon,Button,Cascader } from 'antd';\r\nconst Option = Select.Option;\r\nimport ajax from '../../../../js/common/ajax';\r\nclass Add extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            id: null,\r\n            itemVisible: false,\r\n            shopVisible: false,\r\n            shopData: {\r\n                selectData: [],\r\n                listData: []\r\n            },\r\n            itemData:{\r\n                selectData: [],\r\n                listData: [],\r\n            }\r\n\r\n        }\r\n    }\r\n    componentDidMount() {\r\n\r\n    }\r\n    showModal = (type, bl) => {\r\n        this.setState({\r\n            [type]: bl\r\n        }, () => {\r\n            if (this.state.shopVisible) {\r\n                this.getShopList()\r\n            }else if(this.state.itemVisible){\r\n                this.getSingletProList()\r\n                this.getProductClassify()\r\n            }\r\n        })\r\n    }\r\n    addShop = () =>{\r\n        let shopData = this.state.shopData;\r\n        shopData.selectData.push({\r\n            id: \"\",\r\n            shop_name: \"123\"\r\n        })\r\n        this.setState({\r\n            shopData\r\n        })\r\n    }\r\n    rmShop = (index) =>{\r\n        let shopData = this.state.shopData;\r\n        if( shopData.selectData.length==1){\r\n            message.warning('最少保留一条')\r\n            return\r\n        }\r\n        shopData.selectData.splice(index, 1);\r\n        this.setState({\r\n            shopData\r\n        })\r\n    }\r\n    onShopSelect = (e,index)=>{\r\n        let shopData = this.state.shopData;\r\n        \r\n        shopData.selectData[index] = shopData.listData.filter(item=>item.id==e)[0];\r\n        this.setState({\r\n            shopData\r\n        })\r\n    }\r\n    getShopList = () => {\r\n        ajax.get('/hcm/hcmShop/getShopListByBmcid')\r\n        .then((response) => {\r\n            if (response.data.status == '10000') {\r\n                \r\n                let shopData = this.state.shopData;\r\n                let data = response.data.data;\r\n                shopData.selectData = data.filter((item, index) => item.focus)\r\n                shopData.listData = data\r\n                this.setState({\r\n                    shopData\r\n                })\r\n            } else {\r\n                message.error(response.data.message);\r\n            }\r\n        }).catch((error) => {\r\n            message.error(error.statusText);\r\n        });\r\n    }\r\n    handleshopOk = ()=>{\r\n        let shopData = this.state.shopData;\r\n        let arr = shopData.selectData.map(item=>item.id);\r\n        if(shopData.selectData.length==0){\r\n            message.warning('最少添加一个重点关注店铺')\r\n            return\r\n        }\r\n        for(let i = 0 ; i<arr.length ; i++){\r\n            if(arr[i]==''){\r\n                message.warning(`第${i+1}条数据未选择店铺，请选择后提交！`)\r\n                return\r\n            }\r\n        }\r\n        ajax.post('/hcm/hcmShop/setFocusShop',{\r\n            shopids:arr.join(',')\r\n        })\r\n        .then((response) => {\r\n            if (response.data.status == '10000') {\r\n                this.showModal('shopVisible', false)\r\n                message.success(response.data.message);\r\n                this.props.getShop()\r\n            } else {\r\n                message.error(response.data.message);\r\n            }\r\n        }).catch((error) => {\r\n            message.error(error.statusText);\r\n        });\r\n    }\r\n    handleItemOk = ()=>{\r\n        let itemData = this.state.itemData;\r\n        let arr = itemData.selectData.map(item=>item.id);\r\n        if(itemData.selectData.length==0){\r\n            message.warning('最少添加一个重点关注单品')\r\n            return\r\n        }\r\n        for(let i = 0 ; i<arr.length ; i++){\r\n            if(arr[i]==''){\r\n                message.warning(`第${i+1}条数据未选择单品，请选择后提交！`)\r\n                return\r\n            }\r\n        }\r\n        ajax.post('/hcm/hcmProduct/updateSingletPro',{\r\n            product_id:arr.join(',')\r\n        })\r\n        .then((response) => {\r\n            if (response.data.status == '10000') {\r\n                this.showModal('itemVisible', false)\r\n                this.props.getItem()\r\n                message.success(response.data.message);\r\n            } else {\r\n                message.error(response.data.message);\r\n            }\r\n        }).catch((error) => {\r\n            message.error(error.statusText);\r\n        });\r\n    }\r\n    getSingletProList = () =>{\r\n        ajax.get('/hcm/hcmProduct/findSingletProList')\r\n        .then((response) => {\r\n            if (response.data.status == '10000') {\r\n                let itemData = this.state.itemData;\r\n                let data = response.data.data;\r\n                itemData.selectData = data\r\n                this.setState({\r\n                    itemData\r\n                })\r\n            } else {\r\n                message.error(response.data.message);\r\n            }\r\n        }).catch((error) => {\r\n            message.error(error.statusText);\r\n        });\r\n    }\r\n    getProductClassify = () =>{\r\n        ajax.get('/hcm/ProductClassify/list')\r\n        .then((response) => {\r\n            if (response.data.status == '10000') {\r\n                let itemData = this.state.itemData;\r\n                let data = response.data.data;\r\n                itemData.listData = data.map(v => Object.assign({}, v, {isLeaf: false, label: v.productClassifyName, value: v.id}))\r\n                this.setState({\r\n                    itemData\r\n                })\r\n            } else {\r\n                message.error(response.data.message);\r\n            }\r\n        }).catch((error) => {\r\n            message.error(error.statusText);\r\n        });\r\n    }\r\n    getlistByClass = (product_classify_id,callback) =>{\r\n        ajax.get('/hcm/hcmProduct/listByClass',{\r\n            params:{\r\n                product_classify_id\r\n            }\r\n        })\r\n        .then((response) => {\r\n            if (response.data.status == '10000') {\r\n                callback(response.data.data)\r\n            } else {\r\n                message.error(response.data.message);\r\n            }\r\n        }).catch((error) => {\r\n            message.error(error.statusText);\r\n        });\r\n    }\r\n    onChangeCascaders = (value, selectedOptions,index) => {\r\n        console.log(value, selectedOptions);\r\n        if(value.length==2){\r\n            let itemData = this.state.itemData;\r\n            itemData.selectData[index]={\r\n                brand_name:selectedOptions[1].brandName,\r\n                id:value[1],\r\n                product_classify_id:value[0],\r\n                product_classify_name: selectedOptions[0].productClassifyName,\r\n                product_name:selectedOptions[0].productClassifyName+'/'+selectedOptions[1].productName,\r\n            }\r\n            this.setState({\r\n                itemData\r\n            })\r\n        }\r\n        \r\n        \r\n    }\r\n    loadData = (selectedOptions) => {\r\n        const targetOption = selectedOptions[selectedOptions.length - 1];\r\n        targetOption.loading = true;\r\n        \r\n        this.getlistByClass(targetOption.id, data => {\r\n            let itemData = this.state.itemData;\r\n            targetOption.loading = false;\r\n            const list = data.map( v =>  Object.assign({}, v, {label:v.productName,value:v.id}))\r\n            if(list.length){\r\n                targetOption.children = list;\r\n            }else{\r\n                targetOption.disabled = true;\r\n                targetOption.isLeaf=true;\r\n            }\r\n            \r\n            itemData.listData = [...this.state.itemData.listData];\r\n            this.setState({\r\n                itemData\r\n            })\r\n        })\r\n        \r\n      }\r\n    addItem = ()=>{\r\n        let itemData = this.state.itemData;\r\n        itemData.selectData.push({\r\n            brand_name:'',\r\n            id:'',\r\n            product_classify_id:'',\r\n            product_classify_name: '',\r\n            product_name:'',\r\n        })\r\n        this.setState({\r\n            itemData\r\n        })\r\n    }\r\n    rmItem = (index) =>{\r\n        let itemData = this.state.itemData;\r\n        if( itemData.selectData.length==1){\r\n            message.warning('最少保留一条')\r\n            return\r\n        }\r\n        itemData.selectData.splice(index, 1);\r\n        this.setState({\r\n            itemData\r\n        })\r\n    }\r\n   \r\n    render() {\r\n        let { itemVisible, shopVisible,shopData,itemData } = this.state;\r\n        \r\n        return (\r\n            <React.Fragment>\r\n                <Modal\r\n                    title=\"重点关注店铺管理\"\r\n                    okButtonProps={{ className: 'btn2-main' }}\r\n                    cancelButtonProps={{ className: 'btn2-sub' }}\r\n                    className='add-shop-modal'\r\n                    visible={shopVisible}\r\n                    onCancel={() => this.showModal('shopVisible', false)}\r\n                    onOk={this.handleshopOk}\r\n                >\r\n                    <Row>\r\n                        <Col className='text-right' span={5}>\r\n                            <span style={{paddingRight:10,verticalAlign:'-4px'}}>\r\n                                店铺名称:\r\n                            </span>\r\n                        </Col>\r\n                        <Col span={17} offse={1}>\r\n\r\n\r\n                            {\r\n                                \r\n                                shopData.selectData&&shopData.selectData.map((item,index)=>{\r\n                                    return(\r\n                                        <div key={index} style={{marginBottom:'10px', display: 'flex', alignItems: 'center'}}>\r\n                                            <Select\r\n                                                showSearch\r\n                                                value={item.id}\r\n                                                style={{ width: '100%' }}\r\n                                                onChange={(e)=>{this.onShopSelect(e,index)}}\r\n                                                filterOption={(input, option) => option.props.children[0].toLowerCase().indexOf(input.toLowerCase()) >= 0}\r\n                                            >\r\n                                                {\r\n                                                    shopData.listData.map((item2,index2)=>{\r\n                                                        return (\r\n                                                            <Option  \r\n                                                                key={index2} \r\n                                                                disabled={item2.isauthed=='NOTAUTH'|| shopData.selectData.filter(item3=>item3.id==item2.id).length ? true:false} \r\n                                                                value={item2.id}\r\n                                                            >\r\n                                                                    {item2.shop_name} {item2.isauthed=='NOTAUTH'?' (未订购) ':null}\r\n                                                            </Option>\r\n                                                        )\r\n                                                    })\r\n                                                }\r\n                                            </Select>\r\n                                            <Icon onClick={(e)=>this.rmShop(index)} type=\"minus-circle\" />\r\n                                        </div>\r\n                                    )\r\n                                })\r\n                            }\r\n                            \r\n                            <div className='addshop'>\r\n                                <Button style={{width:'100%'}} disabled={shopData.selectData.length>=5} onClick={this.addShop} type=\"dashed\">添加</Button>\r\n                            </div>\r\n                        </Col>\r\n                    </Row>\r\n                </Modal>\r\n                <Modal\r\n                    title=\"重点关注单品管理\"\r\n                    className='add-shop-modal'\r\n                    okButtonProps={{ className: 'btn2-main' }}\r\n                    cancelButtonProps={{ className: 'btn2-sub' }}\r\n                    visible={itemVisible}\r\n                    onOk={this.handleItemOk}\r\n                    onCancel={() => this.showModal('itemVisible', false)}\r\n                >\r\n                    <Row>\r\n                        <Col className='text-right' span={5}>\r\n                            <span style={{paddingRight:10,verticalAlign:'-4px'}}>\r\n                                商品名称:\r\n                            </span>\r\n                        </Col>\r\n                        <Col span={17} offse={1}>\r\n                            {\r\n                                itemData.selectData.map((item,index)=>{\r\n                                    return(\r\n                                        <div key={index} style={{marginBottom:'10px', display: 'flex', alignItems: 'center'}}>\r\n                                            <Cascader\r\n                                                style={{ width: '100%' }}\r\n                                                value={[item.product_classify_id,item.id]}\r\n                                                options={itemData.listData}\r\n                                                onChange={(value, selectedOptions)=>this.onChangeCascaders(value, selectedOptions,index)}\r\n                                                loadData={this.loadData}\r\n                                                changeOnSelect\r\n                                            />\r\n                                            <Icon onClick={(e)=>this.rmItem(index)} type=\"minus-circle\" />\r\n                                        </div>\r\n                                    )\r\n                                })\r\n                            }\r\n                            <div className='addshop'>\r\n                                <Button style={{width:'100%'}} disabled={itemData.selectData.length>=5} onClick={this.addItem} type=\"dashed\">添加</Button>\r\n                            </div>\r\n                        </Col>\r\n                    </Row>\r\n                </Modal>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\nexport default Add;\r\n"],"sourceRoot":""}