{"version":3,"sources":["webpack:///./app/widget/index/Brand/ShopFile/SetTable.js"],"names":["TreeNode","App","props","getByProduct","LoadingModal","bl","ajax","get","params","module","then","response","dataList","data","setState","catch","error","statusText","num","formAtDom","type","arr","state","showid","key","push","title","map","item","index","edit","id","fieldname","onSubItem","onEdititem","onMouseOver","e","oCheckitem","fieldRequired","isChecked","fontWeight","onRmitem","addStatus","addSubItem","addButStatus","paddingRight","forEach","target","onDrop","info","endId","node","eventKey","dropPos","pos","split","dropPosition","Number","length","stateID","end","endnum","sort","statenum","onDragStart","canCelItem","console","log","checked","nextProps","success","message","refs","value","trim","fieldClassify","setTableData","fn","a","b","ids","join","status","onShow","visible","checkData","onSortSubmit","className","React","Component"],"mappings":"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","file":"js/chunk/53_758043f78f0d1154450c.js","sourcesContent":["\r\nimport { Modal ,Tree,Checkbox,Icon, Popconfirm, message,Tooltip, Button } from 'antd';\r\nconst TreeNode = Tree.TreeNode;\r\nimport ajax from '../../../../js/common/ajax';\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        \r\n        this.state = {\r\n            \r\n            dataList:{},\r\n            showid:null,\r\n            stateID:null,\r\n            endId:null,\r\n        }\r\n    }\r\n    componentDidMount() {\r\n\r\n    }\r\n    componentWillReceiveProps(nextProps){\r\n        \r\n    }\r\n    getByProduct = () => {\r\n        LoadingModal({bl:true})\r\n        ajax.get('/hcm/hcmCustomModel/getBybmcidAndModule', {\r\n            params: {\r\n                module:'SHOP'\r\n            }\r\n        }).then((response) => {\r\n            let dataList = response.data.data;\r\n            this.setState({\r\n                dataList: dataList\r\n            })\r\n            LoadingModal({bl:false})\r\n        }).catch((error) => {\r\n            message.error(error.statusText);\r\n            LoadingModal({bl:false})\r\n        });\r\n    }\r\n    onMouseOver(key,item,index){\r\n        let data = this.state.dataList;\r\n        let showid = this.state.showid;\r\n        if(data[key].data[index].id == showid){\r\n            return\r\n        }\r\n        showid = data[key].data[index].id;\r\n        this.setState({\r\n            showid:showid\r\n        })\r\n    }\r\n    onRmitem(key,item,index){\r\n        let data = this.state.dataList;\r\n        ajax.get('/hcm/hcmCustomModel/delete', {\r\n            params: {\r\n                id:data[key].data[index].id,\r\n                module:'SHOP'\r\n            }\r\n        }).then((response) => {\r\n            message.success(response.data.message);\r\n            this.getByProduct()\r\n        }).catch((error) => {\r\n            message.error(error.statusText);\r\n        });\r\n    }\r\n    onEdititem(key,item,index,bl){\r\n        let data = this.state.dataList;\r\n        data[key].data[index].edit = bl;\r\n        this.setState({\r\n            data:data,\r\n            showid:null\r\n        })\r\n    }\r\n    onSubItem(key,index){\r\n        let data = this.state.dataList;\r\n        let item = data[key].data[index];\r\n        if(!this.refs[item.id].value.trim().length){\r\n            message.error('请输入字段名')\r\n            return\r\n        }\r\n        if(this.refs[item.id].value.trim().length>20){\r\n            message.error('字段名过长 请限制在20字符以内')\r\n            return\r\n        }\r\n        data[key].data[index].edit = false;\r\n        data[key].data[index].fieldname = this.refs[item.id].value\r\n        \r\n        \r\n        ajax.get('/hcm/hcmCustomModel/save', {\r\n            params: {\r\n                id:item.id,\r\n                fieldClassify:item.fieldClassify,\r\n                fieldname:this.refs[item.id].value,               \r\n                module:'SHOP'\r\n            }\r\n        }).then((response) => {\r\n            message.success(response.data.message);\r\n            this.setState({\r\n                dataList:data\r\n            })\r\n        }).catch((error) => {\r\n            message.error(error.statusText);\r\n        });\r\n    }\r\n    num = 100\r\n    oCheckitem(e, key, item, index){\r\n        let setTableData = this.state.dataList;\r\n        setTableData[key].data[index].isChecked = e.target.checked ? 1 : 0;\r\n        setTableData[key].data[index].sort = this.num++\r\n        this.setState({\r\n            dataList: setTableData\r\n        })\r\n    }\r\n    onSortSubmit(fn){\r\n        let arr = [];\r\n        let data = this.formAtDom(false).sort((a,b)=>a.sort-b.sort);\r\n        data.forEach((item, index) => { arr.push(item.id) })\r\n        \r\n        ajax.get('/hcm/hcmCustomModel/saveSort', {\r\n            params: {\r\n                ids: arr.join(','),\r\n                module: 'SHOP'\r\n            }\r\n        }).then((response) => {\r\n            if (response.data.status == '10000') {\r\n                message.success(response.data.message);\r\n                this.props.onShow(false,'getlist')\r\n            }\r\n        }).catch((error) => {\r\n            \r\n            message.error(error.statusText);\r\n        });\r\n\r\n    }\r\n    addButStatus(key,bl){\r\n        let data = this.state.dataList;\r\n        data[key].addStatus = bl;\r\n        this.setState({\r\n            dataList:data\r\n        })\r\n    }\r\n    addSubItem(key){\r\n        if(!this.refs[key].value.trim().length){\r\n            message.error('请输入字段名')\r\n            return\r\n        }\r\n        if(this.refs[key].value.trim().length>20){\r\n            message.error('字段名过长 请限制在20字符以内')\r\n            return\r\n        }\r\n        let data = this.state.dataList;\r\n        data[key].addStatus = false;\r\n        ajax.get('/hcm/hcmCustomModel/save', {\r\n            params: {\r\n                fieldClassify:key,\r\n                fieldname:this.refs[key].value,               \r\n                module:'SHOP'\r\n            }\r\n        }).then((response) => {\r\n            if(response.data.status=='10000'){\r\n                response.data.data.sort =  this.num++;\r\n                data[key].data.push(response.data.data)\r\n                this.setState({\r\n                    dataList:data\r\n                })\r\n            }\r\n            message.success(response.data.message);\r\n            \r\n        }).catch((error) => {\r\n            message.error(error.statusText);\r\n        });\r\n\r\n    }\r\n    formAtDom = (type) =>{\r\n        let arr = [];\r\n        let data = this.state.dataList\r\n        let showid = this.state.showid\r\n        \r\n        if(type){\r\n            for (const key in data) {\r\n                arr.push(\r\n                    <div className='item' key={key}>\r\n                        <p>{data[key].title}</p>\r\n                        <div className='info'>\r\n                            {\r\n                                data[key].data.map((item,index)=>{\r\n                                    if(item.edit){\r\n                                        return (\r\n                                            <div key={index} className='inputbox'>\r\n                                                <input ref={item.id} defaultValue={item.fieldname} className='editinput'/>\r\n                                                \r\n                                                <span className='anticonbox'>\r\n                                                    <Icon onClick={()=>this.onSubItem(key,index)} type=\"check\" />\r\n                                                    <Icon onClick={()=>this.onEdititem(key,item,index,false)} type=\"close\" />\r\n                                                </span>\r\n                                                  \r\n                                            </div>\r\n                                            \r\n                                        )\r\n                                    }else{\r\n                                        return (\r\n                                            <div key={index} onMouseMove={()=>this.onMouseOver(key,item,index)} className='checkbox'>\r\n                                                <Checkbox  onChange={(e)=>this.oCheckitem(e,key,item,index)} disabled={item.fieldRequired=='1'} checked={item.isChecked}><Tooltip placement=\"topLeft\" title={item.fieldname}>{item.fieldname}</Tooltip></Checkbox>\r\n                                                {item.fieldRequired=='1'||key == 'basic' ? null:\r\n                                                    item.id == showid ?\r\n                                                    <span className='anticonbox'>\r\n                                                        <Icon onClick={()=>this.onEdititem(key,item,index,true)} type=\"edit\" />\r\n                                                        <Popconfirm title={<div><p style={{fontWeight:'bold'}}>你确定要删除该字段吗？</p><p>删除后录入的信息会被删除</p></div>} onConfirm={()=>this.onRmitem(key,item,index)} okText=\"确定\" cancelText=\"取消\">\r\n                                                            <Icon type=\"delete\" />\r\n                                                        </Popconfirm> \r\n                                                    </span>\r\n                                                    :null\r\n                                                }\r\n                                            </div>\r\n                                            \r\n                                        )\r\n                                    }\r\n                                    \r\n                                })\r\n                            }\r\n                            {\r\n                                key == 'add'?\r\n                                <div className='inputbox'>\r\n                                    {\r\n                                    data[key].addStatus ? \r\n                                        <React.Fragment>\r\n                                            <input ref={key} className='editinput'/>\r\n                                            <span className='anticonbox'>\r\n                                                <Icon onClick={()=>this.addSubItem(key)} type=\"check\" />\r\n                                                <Icon onClick={()=>this.addButStatus(key,false)} type=\"close\" />\r\n                                            </span>\r\n                                        </React.Fragment>\r\n                                        :\r\n                                        <a onClick={()=>this.addButStatus(key,true)}><Icon style={{paddingRight:'6px'}} type=\"plus-circle-o\" />新增</a>\r\n                                    }\r\n                                    \r\n                                    \r\n                                </div>\r\n                                :null\r\n                            }\r\n                            \r\n                        </div>\r\n                    </div>\r\n                )\r\n            }\r\n        }else{\r\n            for (const key in data) {\r\n                    \r\n                data[key].data.forEach((item,index)=>{\r\n                    if(item.isChecked){\r\n                        item.target = [key,index,item.fieldRequired]\r\n                        return (\r\n                            arr.push(item)\r\n                        )\r\n                    }\r\n                    \r\n                })\r\n            }\r\n        }\r\n        return arr\r\n    }\r\n    onDrop = (info) => {\r\n        this.setState({\r\n            endId:info.node.props.eventKey\r\n        },()=>{\r\n            const dropPos = info.node.props.pos.split('-');\r\n            const dropPosition = info.dropPosition - Number(dropPos[dropPos.length - 1]);\r\n            \r\n            let {stateID,endId} = this.state;\r\n            let state = stateID.split(',')\r\n            let end = endId.split(',')\r\n            let data = this.state.dataList;\r\n            let endnum = data[end[0]].data[end[1]].sort;\r\n            let statenum = data[state[0]].data[state[1]].sort;\r\n            if(dropPosition===0){\r\n                data[end[0]].data[end[1]].sort = statenum;\r\n                data[state[0]].data[state[1]].sort = endnum;\r\n            }else if(dropPosition>0){\r\n                data[state[0]].data[state[1]].sort = endnum+0.01;\r\n            }else if(dropPosition<0){\r\n                data[state[0]].data[state[1]].sort = endnum-0.01;\r\n            }\r\n            this.setState({\r\n                dataList:data\r\n            })\r\n        })\r\n    }\r\n    \r\n    onDragStart = (info)=>{\r\n        this.setState({\r\n            stateID:info.node.props.eventKey\r\n        })\r\n        \r\n    }\r\n    canCelItem = (item)=>{\r\n        console.log(item)\r\n        this.oCheckitem({target:{checked:0}},item.target[0],item,item.target[1])\r\n    }\r\n    render() {\r\n        let {visible} = this.state;\r\n        let checkData = this.formAtDom(false).sort((a,b)=>a.sort-b.sort);\r\n        return (\r\n            <Modal\r\n                title=\"设置表格\"\r\n                visible={this.props.visible}\r\n                maskClosable={false} \r\n                onOk={()=>this.onSortSubmit()}\r\n                onCancel={()=>this.props.onShow(false)}\r\n                className='set-table-header'\r\n                okButtonProps={{className:'btn2-main'}}\r\n                cancelButtonProps={{className:'btn2-sub'}}\r\n            >\r\n                <div className='box'>\r\n                    <div className='left'>\r\n                        <p className='title'>可用字段</p>\r\n                        <div className='items'>\r\n                            {this.formAtDom(true)}\r\n                        </div>\r\n                    </div>\r\n                    <div className='right'>\r\n                        <p className='title'>已选字段</p>\r\n                        <Tree\r\n                                className=\"draggable-tree\"\r\n                                draggable\r\n                                onDragStart={(e)=>this.onDragStart(e)}\r\n                                onDrop={(e)=>this.onDrop(e)}\r\n                            >\r\n                                {\r\n                                    checkData.map((item,index)=>{\r\n                                        return (\r\n                                           <TreeNode title={<div className='TreeNode-title'><span>{item.fieldname}</span>{item.fieldRequired=='1' ? null : <Icon onClick={()=>this.canCelItem(item)} type=\"close-circle\" />}</div>} key={item.target.join(',')} />\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </Tree>\r\n                        <p className='footer'>按上下拖动可排序</p>    \r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n        )\r\n    }\r\n}\r\nexport default App;\r\n"],"sourceRoot":""}