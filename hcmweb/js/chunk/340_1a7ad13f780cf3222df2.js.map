{"version":3,"sources":["webpack:///./app/widget/index/Shop/DataAnalysis/main.js"],"names":["App","props","handlePanelChange","value","type","diff","error","setState","inChart","chartData","state","myChart","echarts","init","document","getElementById","setOption","tooltip","trigger","formatter","params","a","axisValueLabel","seriesName","huanbi","dataIndex","indexOf","grid","left","top","bottom","right","xAxis","axisLine","lineStyle","color","data","my_month","yAxis","name","nameTextStyle","padding","axisTick","show","splitLine","axisLabel","series","itemStyle","trade_money","getfindSaleSalaryQS","ajax","get","pageNo","pageSize","start_time","moment","subtract","format","end_time","then","response","status","message","i","content","length","push","warning","catch","statusText","getfindCamItemZB","activityDate","activityData","getHotTop","hotDate","hotData","pageNumber","totalElements","columns","title","key","render","text","item","index","width","display","alignItems","flex","height","marginRight","itemtitle","shopColumns","align","changePagination","page","fn","getHotShopTop","hotShopDate","hotShopData","AddModal","React","createRef","id","all_count","my_count","Component"],"mappings":"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","file":"js/chunk/340_1a7ad13f780cf3222df2.js","sourcesContent":["import Tpl from './tpl';\r\nimport { Form, message } from 'antd';\r\nimport echarts from 'echarts';\r\nimport ajax from '../../../../js/common/ajax';\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.AddModal = React.createRef();\r\n        this.state = {\r\n            id: null,\r\n            chartData: {\r\n\r\n            },\r\n            activityData:{\r\n                all_count: 0,\r\n                my_count: 0,\r\n            },\r\n            activityDate:[ moment().subtract(1, 'months'),moment().subtract(1, 'months')],\r\n            hotDate:[ moment().subtract(1, 'months'),moment().subtract(1, 'months')],\r\n            hotData:{\r\n                content:[],\r\n                pageNumber:1,\r\n                pageSize:6,\r\n                totalElements:0,\r\n            },\r\n            hotShopDate:[ moment().subtract(1, 'months'),moment().subtract(1, 'months')],\r\n            hotShopData:{\r\n                content:[],\r\n                pageNumber:1,\r\n                pageSize:10,\r\n                totalElements:0,\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getfindCamItemZB()\r\n        this.getfindSaleSalaryQS()\r\n        this.getHotTop()\r\n        this.getHotShopTop()\r\n    }\r\n    handlePanelChange = (value, type)=>{\r\n        if(value[1].diff(value[0],'months')>11){\r\n            message.error('时间区间请小于12个月')\r\n            return\r\n        }\r\n        this.setState({\r\n            [type]:value\r\n        })\r\n    }\r\n    inChart = () => {\r\n        let {chartData} = this.state;\r\n        const myChart = echarts.init(document.getElementById('chart-bar'));\r\n        myChart.setOption({\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                formatter: params => {\r\n                    let [a] = params;\r\n                    return(\r\n                        `<div class='tooltip'>\r\n                            <p>${a.axisValueLabel}</p>\r\n                            <p>\r\n                                ${a.seriesName}:${a.value}（万元）\r\n                               \r\n                            </p>\r\n                            <p>环比：<span style='${+chartData.huanbi[a.dataIndex].indexOf('-')==-1?'border-bottom-color: red;    vertical-align: 3px;':'border-top-color: #42d342;    vertical-align: -6px;'}'></span>${chartData.huanbi[a.dataIndex]}</p>\r\n                        </div>`\r\n                    )\r\n                }\r\n            },\r\n            grid: {\r\n                left: 60,\r\n                top: 60,\r\n                bottom: 20,\r\n                right: 60,\r\n            },\r\n            xAxis: [\r\n                {\r\n                    type: 'category',\r\n                    axisLine: {\r\n                        lineStyle: {\r\n                            color: '#999'\r\n                        }\r\n                    },\r\n                    data: chartData.my_month\r\n                }\r\n            ],\r\n            yAxis: [\r\n                {\r\n                    type: 'value',\r\n                    name: '销售金额（万元）',\r\n                    nameTextStyle:{\r\n                        padding:[0,0,15,0]\r\n                    },\r\n                    axisTick: {\r\n                        show: false\r\n                    },\r\n                    axisLine: {\r\n                        show: false\r\n                    },\r\n                    splitLine: {\r\n                        lineStyle: {\r\n                            type: 'dashed'\r\n                        }\r\n\r\n                    },\r\n                    axisLabel: {\r\n                        formatter: '{value}'\r\n                    }\r\n                }\r\n            ],\r\n            series: [\r\n                {\r\n                    name: '销售金额',\r\n                    type: 'bar',\r\n                    itemStyle: {\r\n                        color: '#108CEE'\r\n                    },\r\n                    data: chartData.trade_money\r\n\r\n                }\r\n            ]\r\n        })\r\n    }\r\n    getfindSaleSalaryQS = ()=>{\r\n        ajax.get('/hcm/hcmShopMonitor/findSaleSalaryQS',{\r\n            params:{\r\n                pageNo:'1',\r\n                pageSize:'12',\r\n                start_time:moment().subtract(1, 'years').format('YYYY-MM'),\r\n                end_time:moment().subtract(1, 'months').format('YYYY-MM'),\r\n               \r\n            }\r\n        })\r\n            .then((response) => {\r\n                let { status, message, data } = response.data;\r\n                if (status == '10000') {\r\n                    let chartData={\r\n                        my_month:[],\r\n                        huanbi:[],\r\n                        trade_money:[],\r\n                    };\r\n                    for(let i = 0;i<data.content.length;i++){\r\n                        chartData.my_month.push(data.content[i].my_month)\r\n                        chartData.huanbi.push(data.content[i].huanbi)\r\n                        chartData.trade_money.push(data.content[i].trade_money)\r\n                    }\r\n                    this.setState({\r\n                        chartData\r\n                    },()=>{\r\n                        this.inChart()\r\n                    })\r\n                } else {\r\n                    message.warning(message)\r\n                }\r\n            }).catch((error) => {\r\n                message.error(error.statusText);\r\n            });\r\n    }\r\n    getfindCamItemZB = ()=>{\r\n        let {activityDate} = this.state;\r\n        ajax.get('/hcm/campgign/findCamItemZB',{\r\n            params:{\r\n                \r\n                start_time:activityDate[0].format('YYYY-MM'),\r\n                end_time: activityDate[1].format('YYYY-MM'),\r\n               \r\n            }\r\n        })\r\n            .then((response) => {\r\n                let { status, message, data } = response.data;\r\n                if (status == '10000') {\r\n                    this.setState({\r\n                        activityData:data\r\n                    })\r\n                } else {\r\n                    message.warning(message)\r\n                }\r\n            }).catch((error) => {\r\n                message.error(error.statusText);\r\n            });\r\n    }\r\n    getHotTop=()=>{\r\n        let {hotDate,hotData} = this.state;\r\n        ajax.get('/hcm/hcmShopMonitor/getGoodsSalesRankingByBmcid',{\r\n            params:{\r\n                pageNo:hotData.pageNumber,\r\n                pageSize:hotData.pageSize,\r\n                start_time:hotDate[0].format('YYYY-MM'),\r\n                end_time: hotDate[1].format('YYYY-MM'),\r\n               \r\n            }\r\n        })\r\n            .then((response) => {\r\n                let { status, message, data } = response.data;\r\n                if (status == '10000') {\r\n                    let {content,pageNumber,pageSize,totalElements} = data;\r\n                    let hotData = this.state.hotData;\r\n                    hotData.content = content;\r\n                    hotData.pageNumber=pageNumber;\r\n                    hotData.pageSize=pageSize;\r\n                    hotData.totalElements =totalElements;\r\n                    this.setState({\r\n                        hotData\r\n                    })\r\n                } else {\r\n                    message.warning(message)\r\n                }\r\n            }).catch((error) => {\r\n                message.error(error.statusText);\r\n            });\r\n    }\r\n    columns = ()=>{\r\n        return(\r\n            [{\r\n                title: 'No',\r\n                dataIndex: 'index',\r\n                key: 'index',\r\n                render:(text,item,index)=>index+1\r\n            },{\r\n                title: '商品信息',\r\n                dataIndex: 'itempic',\r\n                key: 'itempic',\r\n                width:'50%',\r\n                render:(text,item,index)=>{\r\n                    return(\r\n                        <div style={{display: 'flex',alignItems: 'center'}}>\r\n                            <img style={{flex: '1 0 50px',width:'50px',height:'50px',marginRight:10}} src={text}/>\r\n                            \r\n                            <span>{item.itemtitle}</span>\r\n                        </div>\r\n                    )\r\n                }\r\n            },{\r\n                title: '店铺名称',\r\n                dataIndex: 'shop_name',\r\n                key: 'shop_name',\r\n            },{\r\n                title: '销量指数',\r\n                dataIndex: 'buynum',\r\n                key: 'buynum',\r\n            },{\r\n                title: '销售额指数',\r\n                dataIndex: 'money',\r\n                key: 'money',\r\n            }]\r\n        )\r\n    }\r\n    shopColumns = ()=>{\r\n        return(\r\n            [{\r\n                title: '排名',\r\n                dataIndex: 'index',\r\n                key: 'index',\r\n                align:'center',\r\n                render:(text,item,index)=>{\r\n                    return index < 3 ? <span className='top-span'>{index+1}</span> :index+1\r\n                }\r\n            },{\r\n                title: '店铺名称',\r\n                dataIndex: 'shop_name',\r\n                key: 'shop_name',\r\n            },{\r\n                title: '销售额指数',\r\n                align:'right',\r\n                dataIndex: 'money',\r\n                key: 'money',\r\n            }]\r\n        )\r\n    }\r\n    changePagination = (page, pageSize,type,fn) => {\r\n        \r\n        let data = this.state[type];\r\n        \r\n        data.pageNumber= page;\r\n        data.pageSize= pageSize;\r\n        this.setState({\r\n            [type]:data\r\n        }, () => {\r\n            fn()\r\n        })\r\n    }\r\n\r\n    getHotShopTop = ()=>{\r\n        let {hotShopDate,hotShopData} = this.state;\r\n        ajax.get('/hcm/hcmShopMonitor/getShopMoneyTop',{\r\n            params:{\r\n                pageNo:hotShopData.pageNumber,\r\n                pageSize:hotShopData.pageSize,\r\n                start_time:hotShopDate[0].format('YYYY-MM'),\r\n                end_time: hotShopDate[1].format('YYYY-MM'),\r\n               \r\n            }\r\n        })\r\n            .then((response) => {\r\n                let { status, message, data } = response.data;\r\n                if (status == '10000') {\r\n                    let {content,pageNumber,pageSize,totalElements} = data;\r\n                    let hotShopData = this.state.hotShopData;\r\n                    hotShopData.content = content;\r\n                    hotShopData.pageNumber=pageNumber;\r\n                    hotShopData.pageSize=pageSize;\r\n                    hotShopData.totalElements =totalElements;\r\n                    this.setState({\r\n                        hotShopData\r\n                    })\r\n                } else {\r\n                    message.warning(message)\r\n                }\r\n            }).catch((error) => {\r\n                message.error(error.statusText);\r\n            });\r\n    }\r\n    render() {\r\n        return <Tpl that={this} />\r\n    }\r\n}\r\nexport default App;\r\n"],"sourceRoot":""}