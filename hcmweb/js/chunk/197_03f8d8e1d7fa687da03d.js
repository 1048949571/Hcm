(window.webpackJsonp=window.webpackJsonp||[]).push([[197],{1157:function(e,t){},1158:function(e,t){},25:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(54));n(53);var r=i(n(28));function i(e){return e&&e.__esModule?e:{default:e}}n(1157);var o=function(t){return e.createElement("div",{className:"layout-wrapper "+(t.className||"")},e.createElement("div",{className:"header-wrapper"},e.createElement(a.default,{className:"breadcrumb"},t.breadcrumbList.map(function(n,r){return""===t.linkList[r]?e.createElement(a.default.Item,{key:n},n):e.createElement(a.default.Item,{href:"javascript:;",key:n},e.createElement("span",{onClick:function(){t.history.go(-t.linkList[r])}},n))}))),e.createElement("div",{className:"layout-content"},t.children),e.createElement("div",{className:"copyright"},e.createElement(r.default,null)))};o.defaultProps={title:"标题",breadcrumbList:[],linkList:[]},t.default=o}).call(this,n(1))},28:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var a=function(t){function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,e.Component),n(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return e.createElement("div",{className:this.props.clazzName?this.props.clazzName:"Copyright"},"Copyright © 杭州久点网络技术有限公司")}}]),a}();t.default=a}).call(this,n(1))},62:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default={onVisibilityChange:function(e,t){var n="hidden"in document?"hidden":"webkitHidden"in document?"webkitHidden":"mozHidden"in document?"mozHidden":null,a=n.replace(/hidden/i,"visibilitychange"),r=function(){document[n]||console.log("页面非激活"+new Date),document[n]&&console.log("页面激活"+new Date)};document.addEventListener(a,r)},formatAccount:function(e){return e=e.replace(/[\s]/g,"").replace(/(\d{4})(?=\d)/g,"$1 ")},formatThousandMoney:function(t,n){return isNaN(t)?"":(n=n||"",!1===e.isNumeric(t)||0==t?"0.00":0==(t=(t=+t).toFixed(2))?"0.00":n+" "+(t+"").replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g,"$&,"))},encryption:function(){return(""+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")).replace(/(\d{3})\d*([0-9a-zA-Z]{4})/,"$1****$2")},browser:{versions:function(){var e=navigator.userAgent,t=(navigator.appVersion,"");if(e.indexOf("Ourydc.Yuebaobao")>-1){var n=e.match(/Ourydc.Yuebaobao.*/);if(n.length>0){var a=n[0];t=a.substr(a.indexOf("/")+1)}}return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1==e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Adr")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1==e.indexOf("Safari"),weixin:e.indexOf("MicroMessenger")>-1,weibo:"WeiBo"==e.match(/WeiBo/i)||"Weibo"==e.match(/Weibo/i)||"weibo"==e.match(/weibo/i),qq:"qq"==e.match(/qq/i)||"QQ"==e.match(/QQ/i),qqBrower:-1==e.indexOf("Mobile MQQBrowser")&&-1!=e.indexOf("MQQBrowser"),isInApp:e.indexOf("Ourydc.Yuebaobao")>-1,locAppVersion:t}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()},checkAccount:function(e){return/^[a-zA-Z](\w|\s+){5,15}$/.test(this.trim(e||""))},checkUrl:function(e){return/^((ht|f)tps?):\/\/([\w\-]+(\.[\w\-]+)*\/)*[\w\-]+(\.[\w\-]+)*\/?(\?([\w\-\.,@?^=%&:\/~\+#]*)+)?/.test(this.trim(e||""))},Reg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/^[^\u4e00-\u9fa5]{5,31}$/.test(this.trim(e||""))},checkPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/^.{6,16}$/.test(this.trim(e||""))},trim:function(e){return(e=""+e).replace(/(^\s*)|(\s*$)/g,"")},getCookie:function(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?unescape(t[2]):null},required:function(e){var t=this.trim(e||"");return!(!t||!t.length)},legnthCheck:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"INPUT";return this.trim(e||"").length<this.LENGTH[t]},LENGTH:{URL:500,TEXTAREA:200,INPUT:50},getQueryString:function(e){var t=new RegExp("(^|&|[?])"+e+"=([^&]*)(&|$)"),n=window.location.href.substr(1).match(t);return null!=n?n[2]:""},getParamString:function(e,t){var n=new RegExp("(^|&|[?])"+t+"=([^&]*)(&|$)"),a=e.substr(1).match(n);return null!=a?a[2]:""},Trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},deviceCheck:function(){return browser.versions.mobile?browser.versions.android?"android":browser.versions.ios?"ios":"mobile":"web"}}}).call(this,n(112))},873:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=s(n(14)),r=s(n(15)),i=s(n(27)),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(18),n(16),n(26);var l=s(n(12)),c=s(n(62)),u=s(n(25));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}i.default.TextArea;var f=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));t.getByProduct=function(){l.default.get("/hcm/hcmCustomModel/getByProduct",{params:{productClassifyid:t.state.id}}).then(function(e){var n=e.data.data;t.setState({formatColumn:n})}).catch(function(e){r.default.error(e.statusText)})};var a=t.props.match.params,i=a.id,o=a.name,c=a.status,u=a.type,s=a.itemid;return t.state={id:i,name:o,status:c,type:u,itemid:s,formatColumn:{},product_classify_id:null,bmcid:1,product_name:null,brand_name:null,floor_price:null,floor_transaction_price:null,addField:{}},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Component),o(n,[{key:"componentWillMount",value:function(){var e=this.props.match.params.type;this.getByProduct(),"add"==e||this.getInfo()}},{key:"getInfo",value:function(){var e=this,t=this.props.match.params.itemid;l.default.get("/hcm/hcmProduct/getById",{params:{id:t}}).then(function(t){var n=t.data.data,a=n.product_classify_id,r=n.bmcid,i=n.product_name,o=n.brand_name,l=n.floor_price,c=n.floor_transaction_price,u=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(n,["product_classify_id","bmcid","product_name","brand_name","floor_price","floor_transaction_price"]);e.setState({product_classify_id:a,bmcid:r,product_name:i,brand_name:o,floor_price:l,floor_transaction_price:c,addField:u})}).catch(function(e){r.default.error(e.statusText)})}},{key:"fixedIptChange",value:function(e,t){var n=this.state;("floor_price"!=t&&"floor_transaction_price"!=t||!isNaN(+e.target.value))&&(n[t]=e.target.value,this.setState(n))}},{key:"iptChange",value:function(e,t){if("PRICE"!=t.fieldClassify||!isNaN(+e.target.value)){var n=this.state.addField;n[t.fieldvalue]=e.target.value,this.setState({addField:n})}}},{key:"onSubmit",value:function(){var e=this,t=this.state,n=t.id,a=t.name,i=t.itemid,o=t.type,u=(t.product_classify_id,t.bmcid),s=t.product_name,f=t.brand_name,m=t.floor_price,p=t.floor_transaction_price,h=t.addField,v=t.formatColumn,b=v.memo,g=v.price,_=v.product,y=[].concat(d(b.data),d(g.data),d(_.data)),E=_?_.data.filter(function(e,t){return"product_name"==e.fieldvalue}):null;if(f&&f.trim().length)if(s&&s.trim().length)if(m&&(""+m).trim().length)if(p&&(""+p).trim().length)if(c.default.legnthCheck(f.trim(),"INPUT"))if(c.default.legnthCheck(s.trim(),"INPUT")){for(var w in h){var N=y.filter(function(e){return e.fieldvalue==w});if("MEMO"==N[0].fieldClassify&&!c.default.legnthCheck(h[w],"URL"))return void r.default.error("备注信息字符长度不能超过500");if("PRICE"==N[0].fieldClassify&&!c.default.legnthCheck(h[w],"INPUT"))return void r.default.error("价格信息字符长度不能超过50");if("PRODUCT"==N[0].fieldClassify&&!c.default.legnthCheck(h[w],"INPUT"))return void r.default.error("产品信息字符长度不能超过50")}LoadingModal({bl:!0,text:"保存中,请稍后..."}),l.default.get("/hcm/hcmProduct/save",{params:{bmcid:u,productClassifyId:n,floorPrice:m,floorTransactionPrice:p,brandName:f,productName:s,addField:h,id:"add"==o?null:i}}).then(function(t){"10000"==t.data.status?(r.default.success(t.data.message),"add"==o?e.setState({product_name:null,brand_name:null,floor_price:null,floor_transaction_price:null,addField:{}}):window.location.href="/index.html#/ProductInfo/"+n+"/"+a):r.default.warning(t.data.message),LoadingModal({bl:!1})}).catch(function(e){LoadingModal({bl:!1}),r.default.error(e.statusText)})}else r.default.error("产品信息字符长度不能超过50");else r.default.error("产品信息字符长度不能超过50");else r.default.error("最低成交价不可为空");else r.default.error("最低标价不可为空");else r.default.error((E?E[0].fieldname:"品名")+"不可为空");else r.default.error("品牌不可为空")}},{key:"render",value:function(){var t=this,n=this.state,r=n.id,o=n.name,l=(n.status,n.type),c=(n.itemid,n.product_classify_id,n.bmcid,n.product_name),s=n.brand_name,d=n.floor_price,f=n.floor_transaction_price,m=n.addField,p=n.formatColumn,h=p.memo,v=p.price,b=p.product,g=b?b.data.filter(function(e,t){return"product_name"==e.fieldvalue}):null;return e.createElement(u.default,{breadcrumbList:["售价公示",o,"add"==l?"新增公示信息":"编辑公示信息"],linkList:["2","1",""],history:this.props.history},e.createElement("div",{className:"ActionPriceInfo"},e.createElement("div",{className:"content"},e.createElement("div",{className:"box"},e.createElement("h4",null,"产品信息"),e.createElement("div",{className:"items"},e.createElement("div",{className:"item"},e.createElement("span",{className:"text red"},"品牌"),e.createElement(i.default,{placeholder:"请输入",onChange:function(e){return t.fixedIptChange(e,"brand_name")},value:s,className:"input"})),e.createElement("div",{className:"item"},e.createElement("span",{className:"text red"},g?g[0].fieldname:"品名"),e.createElement(i.default,{placeholder:"请输入",onChange:function(e){return t.fixedIptChange(e,"product_name")},value:c,className:"input"})),b?b.data.map(function(n,a){if("brand_name"!==n.fieldvalue&&"product_name"!==n.fieldvalue)return e.createElement("div",{key:a,className:"item"},e.createElement("span",{className:"text"},n.fieldname),e.createElement(i.default,{placeholder:"请输入",onChange:function(e){return t.iptChange(e,n)},value:m[n.fieldvalue],className:"input"}))}):null),e.createElement("h4",null,"价格信息"),e.createElement("div",{className:"items"},e.createElement("div",{className:"item"},e.createElement("span",{className:"text red"},"最低标价"),e.createElement(i.default,{maxLength:"16",placeholder:"请输入",onChange:function(e){return t.fixedIptChange(e,"floor_price")},value:d,className:"input"})),e.createElement("div",{className:"item"},e.createElement("span",{className:"text red"},"最低成交价"),e.createElement(i.default,{maxLength:"16",placeholder:"请输入",onChange:function(e){return t.fixedIptChange(e,"floor_transaction_price")},value:f,className:"input"})),v?v.data.map(function(n,a){if("floor_price"!==n.fieldvalue&&"floor_transaction_price"!==n.fieldvalue)return e.createElement("div",{key:a,className:"item"},e.createElement("span",{className:"text"},n.fieldname),e.createElement(i.default,{placeholder:"请输入",onChange:function(e){return t.iptChange(e,n)},value:m[n.fieldvalue],className:"input"}))}):null),e.createElement("h4",null,"备注信息"),e.createElement("div",{className:"items"},h?h.data.map(function(n,a){return e.createElement("div",{key:a,className:"item"},e.createElement("span",{className:"text"},n.fieldname),e.createElement(i.default,{placeholder:"请输入",onChange:function(e){return t.iptChange(e,n)},value:m[n.fieldvalue],className:"input"}))}):null),e.createElement("div",{className:"items"},e.createElement("div",{className:"item"},e.createElement("span",{className:"text"}),e.createElement(a.default,{className:"btn2-main",onClick:function(){return t.onSubmit()},style:{marginLeft:"20px"}},"确认"),e.createElement("a",{href:"/index.html#/ProductInfo/"+r+"/"+o},e.createElement(a.default,{className:"btn2-sub noneFloat"},"取消"))))))))}}]),n}();t.default=f}).call(this,n(1))}}]);