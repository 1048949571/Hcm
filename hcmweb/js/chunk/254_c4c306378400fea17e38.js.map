{"version":3,"sources":["webpack:///./app/widget/index/Brand/DepartmentManagement/main.js"],"names":["TreeNode","FormItem","Item","Option","AddItemFrom","create","props","getFieldDecorator","form","removeDepartNext","addBoxx","state","addBox","expandedKeys","Set","delete","item","id","getList","addHandleSubmit","e","preventDefault","validateFields","err","values","departName","undefined","length","ajax","post","parentId","departLeader","then","res","data","status","error","message","justifyContent","alignItems","height","marginTop","position","width","bottom","AxlomisdBox","p","handleChange","value","childrenString","onChangeSele","join","hSumChangedele","addBoxtwo","expandedKeystwo","hSumChange","departNamel","isNaN","parentid","childrenStrings","initialValue","departLeaderId","split","display","map","d","i","realname","DepartmentManagement","addStatus","bl","setState","addshow","handleCancels","visible","handleOk","subSysDepartment","ModalText","confirmLoading","setTimeout","ModalTexts","get","params","response","treeData","catch","statusText","creatTreeDom","index","has","titleTreeNode","BJDepartNext","console","log","clear","add","departmentId","result","date","forEach","r","push","RemoveDepartNext","addDepartNext","overflow","onExpand","evtnt","handleOkEId","m","React","Component"],"mappings":"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","file":"js/chunk/254_c4c306378400fea17e38.js","sourcesContent":["import Tpl from './tpl';\r\nimport ajax from '../../../../js/common/ajax';\r\nimport { Form, message, Row, Col, Tree, Icon, Input, Select, Button } from 'antd';\r\nconst TreeNode = Tree.TreeNode;\r\nconst FormItem = Form.Item;\r\nconst Option = Select.Option;\r\n\r\nconst AddItemFrom = Form.create()((props) => {\r\n    const { getFieldDecorator } = props.form;\r\n    const removeDepartNext = () => {\r\n        let addBoxx = props.state.addBox;\r\n        let expandedKeys = new Set(props.state.expandedKeys);\r\n        expandedKeys.delete(`${props.item.id}`)\r\n        addBoxx.delete(props.item.id)\r\n        props.state.addBox = addBoxx\r\n        props.state.expandedKeys = [...expandedKeys]\r\n        props.getList()\r\n    }\r\n    const addHandleSubmit = (e) => {\r\n        e.preventDefault();\r\n        props.form.validateFields((err, values) => {\r\n            if (!err) {\r\n               // console.log(values);\r\n                if (values.departName != undefined && values.departName != \"\") {\r\n                    if (values.departName.length <= 50) {\r\n                        ajax.post('/hcm/department/savaDepartment', {\r\n                            parentId: props.item.id,\r\n                            departName: values.departName,\r\n                            departLeader: []\r\n                        })\r\n                            .then((res) => {\r\n                                if (res.data.status == 10000) {\r\n                                    removeDepartNext()\r\n                                } else if (res.data.status == 10400) {\r\n                                    message.error(res.data.message)\r\n                                    removeDepartNext()\r\n                                }\r\n                            })\r\n                    } else {\r\n                        message.error(\"部门名称限制50个字符以内！\")\r\n                    }\r\n                } else {\r\n                    message.error(\"请输入新增的部门名称！\")\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    return (\r\n        <Form>\r\n            <Row  style={{ justifyContent: 'space-between',alignItems: 'center', height: 40,marginTop: 8}} type=\"flex\" justify='space-between'>\r\n                <Col span={9}>\r\n                    <FormItem >\r\n                        {getFieldDecorator('departName', {\r\n\r\n                        })(<Input placeholder=\"请输入部门名称\" style={{ position: \"absolute\", width: \"240px\", bottom: \"-20px\" }} />)}\r\n                    </FormItem>\r\n                </Col>\r\n                <Col span={9}>\r\n                    <FormItem style={{ width: \"100%\" }}>\r\n                        {getFieldDecorator('departLeader', {\r\n\r\n                        })(<Select\r\n                            style={{ position: \"absolute\", width: \"240px\", bottom: \"-20px\" }}\r\n                            mode=\"multiple\"\r\n                            placeholder=\"请选择负责人\"\r\n                        >\r\n                            <Option value=\"disabled\" disabled>暂无数据</Option>\r\n                        </Select>)}\r\n                    </FormItem>\r\n                </Col>\r\n                <Col className='text-right' span={4}>\r\n                    <FormItem>\r\n                        <Row type=\"flex\" justify='space-between'>\r\n\r\n                            <Col>\r\n                                <a onClick={addHandleSubmit}> 确定</a>\r\n\r\n                            </Col>\r\n                            <Col>\r\n                                <a onClick={removeDepartNext}>取消</a>\r\n\r\n                            </Col>\r\n                        </Row>\r\n                    </FormItem>\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    )\r\n});\r\n\r\nconst AxlomisdBox = Form.create()((props, p) => {\r\n    const { getFieldDecorator } = props.form;\r\n    // console.log(props.childrenString.childrenStrings)\r\n\r\n\r\n    const handleChange = (value) => {\r\n\r\n        props.childrenString.onChangeSele = value.join(\",\")\r\n        // console.log(props.childrenString.onChangeSele)\r\n    }\r\n    const hSumChangedele = () => {\r\n        let addBoxx = props.childrenString.addBoxtwo;\r\n        let expandedKeys = new Set(props.childrenString.expandedKeystwo);\r\n       // console.log(props.item.id)\r\n        expandedKeys.delete(`${props.item.id}`)\r\n        //console.log(addBoxx)\r\n        addBoxx.delete(props.item.id)\r\n        //console.log(addBoxx)\r\n        props.childrenString.addBoxtwo = addBoxx\r\n        props.childrenString.expandedKeystwo = [...expandedKeys]\r\n        props.getList()\r\n\r\n    }\r\n\r\n    const hSumChange = (e) => {\r\n        e.preventDefault();\r\n        props.form.validateFields((err, values) => {\r\n            if (!err) {\r\n               // console.log(values, props.childrenString.childrenStrings[0].join(\",\"));\r\n                if (values.departNamel != undefined && values.departNamel != \"\") {\r\n                    if (values.departNamel.length <= 50) {\r\n                        if (isNaN(values.departName) == false) {\r\n                            ajax.post('/hcm/department/savaDepartment', {\r\n                                parentId: props.item.parentid,\r\n                                id: props.item.id,\r\n                                departName: values.departNamel,\r\n                                departLeader: values.departName.join(\",\")\r\n                            })\r\n                                .then((res) => {\r\n                                   // console.log(res)\r\n                                    if (res.data.status == 10000) {\r\n                                       \r\n                                        hSumChangedele()\r\n\r\n                                    } else if (res.data.status == 10400) {\r\n                                        message.error(res.data.message)\r\n                                        hSumChangedele()\r\n                                    }\r\n                                })\r\n                        } else {\r\n\r\n                            if (values.departName != \"\") {\r\n                                ajax.post('/hcm/department/savaDepartment', {\r\n                                    parentId: props.item.parentid,\r\n                                    id: props.item.id,\r\n                                    departName: values.departNamel,\r\n                                    departLeader: props.childrenString.childrenStrings[0].join(\",\")\r\n                                })\r\n                                    .then((res) => {\r\n                                        //console.log(res)\r\n                                        if (res.data.status == 10000) {\r\n                                            hSumChangedele()\r\n                                        } else if (res.data.status == 10400) {\r\n                                            message.error(res.data.message)\r\n                                            hSumChangedele()\r\n                                        }\r\n                                    })\r\n                            } else {\r\n                                ajax.post('/hcm/department/savaDepartment', {\r\n                                    parentId: props.item.parentid,\r\n                                    id: props.item.id,\r\n                                    departName: values.departNamel,\r\n                                    departLeader: []\r\n                                })\r\n                                    .then((res) => {\r\n                                       // console.log(res)\r\n                                        if (res.data.status == 10000) {\r\n                                            hSumChangedele()\r\n                                        } else if (res.data.status == 10400) {\r\n                                            message.error(res.data.message)\r\n                                            hSumChangedele()\r\n                                        }\r\n                                    })\r\n                            }\r\n                        }\r\n                    } else {\r\n                        message.error(\"部门名称限制50个字符以内！\")\r\n                    }\r\n                } else {\r\n\r\n                    message.error(\"请输入新增的部门名称！\")\r\n                }\r\n            }\r\n        });\r\n    }\r\n    return (\r\n        <Row className='item' type=\"flex\" justify='space-between'>\r\n            <Col span={9}>\r\n                <FormItem >\r\n                    {getFieldDecorator('departNamel', {\r\n                        initialValue: props.item.departName\r\n                    })(<Input placeholder=\"请输入部门名称\" />)}\r\n                </FormItem>\r\n            </Col>\r\n            <Col span={9}>\r\n                <FormItem >\r\n                    {getFieldDecorator('departName',props.item.departLeaderId?{\r\n                        initialValue: props.item.departLeaderId.split(\",\")\r\n                    }:{})(\r\n                        <Select\r\n                            mode=\"multiple\"\r\n                            style={{ display: \"block\", width: '250px', marginTop: \"5px\" }}\r\n                            placeholder=\"请选择负责人\"\r\n                            onChange={handleChange}\r\n                        >\r\n                            \r\n                            {\r\n                                props.childrenString.childrenString != \"\" ?\r\n                                    props.childrenString.childrenString[0].map((d, i) => <Option key={i} value={`${d.id}`}>{d.realname}</Option>) : \"\"\r\n                            }\r\n                        </Select>\r\n                        )}\r\n                </FormItem>\r\n            </Col>\r\n            <Col span={4}>\r\n                <Row type=\"flex\" justify='space-between'>\r\n\r\n                    <Col>\r\n                        <a onClick={hSumChange}>保存</a>\r\n\r\n                    </Col>\r\n                    <Col>\r\n                        <a onClick={hSumChangedele}>取消</a>\r\n\r\n                    </Col>\r\n                </Row>\r\n            </Col>\r\n        </Row>\r\n    )\r\n});\r\n\r\nclass DepartmentManagement extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            treeData: [],\r\n            addshow: false,\r\n            expandedKeys: [],\r\n            expandedKeystwo: [],\r\n            visible: false,\r\n            confirmLoading: false,\r\n            handleOk: \"\",\r\n            handleOkEId: \"\",\r\n            ModalText: '',\r\n            ModalTexts: \"\",\r\n            m: false,\r\n            onChangeSele: [],\r\n            childrenString: [],\r\n            childrenStrings: [],\r\n            addBox: new Set(),\r\n            addBoxtwo: new Set()\r\n        }\r\n    }\r\n    addStatus = (bl) => {\r\n        this.setState({\r\n            addshow: bl\r\n        })\r\n    }\r\n    componentDidMount() {\r\n        this.getList()\r\n    }\r\n    handleCancels = () => {\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    }\r\n    handleOk = () => {\r\n        if (this.state.handleOk.subSysDepartment == null) {\r\n            this.setState({\r\n                ModalText: '你确认要删除该部门嘛？',\r\n                confirmLoading: true,\r\n            });\r\n            ajax.post('/hcm/department/deleteDepartment', {\r\n                id: this.state.handleOk.id\r\n            })\r\n                .then((res) => {\r\n                    // console.log(res)\r\n                    if (res.data.status == 10000) {\r\n                        setTimeout(() => {\r\n                            this.setState({\r\n                                visible: false,\r\n                                confirmLoading: false,\r\n                            });\r\n                            this.getList()\r\n                        }, 2000);\r\n                    } else if (res.data.status == 10420) {\r\n\r\n                        message.error(res.data.message)\r\n                        setTimeout(() => {\r\n                            this.setState({\r\n                                visible: false,\r\n                                confirmLoading: false,\r\n                            });\r\n                            this.getList()\r\n                        }, 2000);\r\n                    }\r\n                })\r\n        } else {\r\n            this.setState({\r\n                ModalText: '您暂时不能删除该部门',\r\n                ModalTexts: \"原因该部门下存在子级或子账号！\",\r\n                confirmLoading: false,\r\n                visible: false,\r\n            });\r\n        }\r\n    }\r\n    getList = () => {\r\n        ajax.get('/hcm/department/fuByIds', {\r\n            params: {\r\n                id: 0\r\n            }\r\n        })\r\n            .then((response) => {\r\n                this.setState({\r\n                    treeData: response.data.data\r\n                })\r\n            })\r\n            .catch((error) => {\r\n                message.error(error.statusText);\r\n            });\r\n    }\r\n\r\n    creatTreeDom = (data) => {\r\n        let addBox = this.state.addBox;\r\n        return (\r\n            data.map((item, index) => {\r\n\r\n                return (\r\n                    <TreeNode className={item.subSysDepartment || addBox.has(item.id) ? '' : 'leaf'} title={this.titleTreeNode(item)} key={item.id}>\r\n\r\n                        {\r\n                            addBox.has(item.id) ?\r\n                                <TreeNode className={'leaf'} title={<AddItemFrom state={this.state} getList={this.getList} item={item} />} key={'add' + item.id} />\r\n                                :\r\n                                null\r\n                        }\r\n                        {\r\n                            item.subSysDepartment ?\r\n                                this.creatTreeDom(item.subSysDepartment)\r\n                                :\r\n                                null\r\n                        }\r\n                    </TreeNode>\r\n                )\r\n            })\r\n        )\r\n    }\r\n\r\n    BJDepartNext = (item) => {\r\n        console.log(item)\r\n        let addBoxtwo = this.state.addBoxtwo;\r\n        let expandedKeys = new Set(this.state.expandedKeystwo);\r\n        addBoxtwo.clear()\r\n        expandedKeys.add(`${item.id}`)\r\n        addBoxtwo.add(item.id)\r\n        \r\n        ajax.post('/hcm/userout/getDepartmentLeaderList', {//负责人\r\n            departmentId: item.id\r\n        }).then((res) => {\r\n            if (res.data.status == 10000) {\r\n                const result = res.data.data;\r\n                const data = [];\r\n                const date = []\r\n                result.forEach((r) => {\r\n                    data.push({\r\n                        realname: r.realname,\r\n                        id: r.id\r\n                    });\r\n                    date.push(r.id);\r\n                });\r\n                this.setState({\r\n                    childrenString: [],\r\n                    childrenStrings: []\r\n                }, () => {\r\n                    this.state.childrenString.push(data)\r\n                    this.state.childrenStrings.push(date)\r\n                    this.setState({\r\n                        addBoxtwo,\r\n                        expandedKeystwo: [...expandedKeys],\r\n                    })\r\n                })\r\n            }\r\n        })\r\n\r\n    }\r\n    RemoveDepartNext = (item) => {\r\n        this.setState({\r\n            visible: true,\r\n            handleOk: item\r\n        });\r\n        if (item.subSysDepartment == null) {\r\n            this.setState({\r\n                ModalText: '你确认要删除该部门嘛？',\r\n                ModalTexts: \"\"\r\n            });\r\n        } else {\r\n            this.setState({\r\n                ModalText: '您暂时不能删除该部门,',\r\n                ModalTexts: \"原因该部门下存在子级或子账号！\"\r\n            });\r\n        }\r\n    }\r\n    addDepartNext = (item) => {\r\n        let addBox = this.state.addBox;\r\n        let expandedKeys = new Set(this.state.expandedKeys);\r\n        expandedKeys.add(`${item.id}`)\r\n        addBox.add(item.id)\r\n        console.log(addBox)\r\n        this.setState({\r\n            addBox,\r\n            expandedKeys: [...expandedKeys]\r\n        })\r\n    }\r\n\r\n    titleTreeNode = (item) => {\r\n        let addBoxtwo = this.state.addBoxtwo;\r\n        return (\r\n            <React.Fragment>\r\n                {\r\n                    addBoxtwo.has(item.id) ? <AxlomisdBox childrenString={this.state} getList={this.getList} removeDepartNext={this.removeDepartNext} item={item} /> : <Row className='item' type=\"flex\" justify='space-between'>\r\n                        <Col span={9} style={{overflow:\"hidden\"}}>\r\n                            {item.departName}\r\n                        </Col>\r\n                        <Col span={9}>\r\n                            负责人:{item.departLeader}\r\n                        </Col>\r\n                        <Col span={4}>\r\n                            <Row type=\"flex\" style={{height:'100%'}} justify='space-between'>\r\n                                <Col>\r\n                                    <a onClick={() => this.addDepartNext(item)}>新增下级</a>\r\n                                </Col>\r\n                                <Col>\r\n                                    <a onClick={() => this.BJDepartNext(item)}>编辑</a>\r\n\r\n                                </Col>\r\n                                <Col>\r\n                                    <a onClick={() => this.RemoveDepartNext(item)}>删除</a>\r\n\r\n                                </Col>\r\n                            </Row>\r\n                        </Col>\r\n                    </Row>\r\n                }\r\n            </React.Fragment>\r\n\r\n        )\r\n    }\r\n    onExpand = (expandedKeys, evtnt) => {\r\n        this.setState({\r\n            expandedKeys\r\n        })\r\n    }\r\n    render() {\r\n        return <Tpl that={this} />\r\n    }\r\n}\r\nexport default DepartmentManagement\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}