{"version":3,"sources":["webpack:///./app/widget/index/MonitoringDetails/MonitoringDetails/main.js"],"names":["MonitoringDetails","props","chesu","record","setState","visible","AppayIDs","case_id","TITBoy","handleChangex","value","state","getJDList","pageNo","accountId","handleCancels","handleOk","ajax","post","right_id","account_id","then","res","data","status","success","error","console","log","content","totalNum","totalElements","tort_link","split","message","changePagination","current","pageSize","onPaginationSize","handleTableChange","handleClearIconClick","form","resetFields","getFieldsValue","handleClearIconClicks","handleClearIconClickx","columns","title","dataIndex","render","index","marginRight","complaint_num","width","height","overflow","display","fixed","ProductInformation_list","loading","currentData","platform","legth","username","React","Component","create"],"mappings":"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","file":"js/chunk/318_4ff95a1e587d0030b5c9.js","sourcesContent":["import Tpl from './tpl';\r\nimport { message, Form, Popover } from 'antd';\r\nimport ajax from '../../../../js/common/ajax';\r\nclass MonitoringDetails extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        // 投诉详情,288\r\n        // BRM-客服-维权服务-投诉查询-京东投诉查询-单号详情\r\n        // /JDAppealDetails/:case_id/:accountId\r\n        // /JDAppealDetails/:case_id/:accountId\r\n        // ./JD/JDAppealDetails/main\r\n        // null\r\n        // 264\r\n        // 9005\r\n        // JDAppealDetails\r\n        const columns = [{\r\n            title: '投诉编号',\r\n            dataIndex: 'complaint_num',\r\n            render: (content, record, index) => (\r\n                <span key={index}>\r\n                    <a href={`/index.html?#/JDAppealDetails/${record.case_id}/${this.state.accountId}`}  target=\"_blank\" style={{ marginRight: \"10px\" }}>{record.complaint_num}</a>\r\n                </span>\r\n            )\r\n        }, {\r\n            title: '产权类型',\r\n            dataIndex: 'ipr_type'\r\n        }, {\r\n            title: '投诉链接',\r\n            width: \"30%\",\r\n            height:\"50px\",\r\n            overflow: \"hidden\",\r\n            dataIndex: 'tort_link',\r\n            render: (content, record, index) => (\r\n                <Popover placement=\"bottom\" key={index} content={<div style={{width:\"200px\",overflow:\"hidden\"}}>{record.tort_link}</div>} trigger=\"click\">\r\n                    <a style={{height:\"20px\",display: \"inline-block\",overflow:\"hidden\"}}>{record.tort_link}</a>\r\n                </Popover>\r\n            )\r\n        }, {\r\n            title: '处理状态',\r\n            dataIndex: 'state',\r\n            render: (content, record, index) => (\r\n                <span key={index}>\r\n                    {\r\n                        record.state\r\n                    }\r\n                </span>\r\n            )\r\n        }, {\r\n            title: '投诉时间',\r\n            dataIndex: 'complaint_time'\r\n        }, {\r\n            title: '操作',\r\n            fixed:\"right\",\r\n            render: (content, record, index) => (\r\n                <span key={index}>\r\n                    <a onClick={() => this.chesu(record)}>撤诉</a>\r\n                </span>\r\n            )\r\n        }]\r\n        this.state = {\r\n            pageSize: 10,\r\n            pageNo: 1,\r\n            totalNum: 0,\r\n            ProductInformation_list: columns,\r\n            data: [],\r\n            loading: false,\r\n            accountId: \"\",\r\n            currentData: \"\",\r\n            state: \"\",\r\n            TITBoy: \"\",\r\n            visible: false,\r\n            AppayIDs: \"\"\r\n        }\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        ajax.post(\"/hcm/complaiont/getListByBmcid\", {\r\n            platform: \"JINGDONG\"\r\n        }).then((res) => {\r\n            if (res.data.status == 10000&&res.data.data.legth) {\r\n\r\n                this.setState({\r\n                    accountId: res.data.data[0].username,\r\n                    currentData: res.data.data\r\n                }, () => {\r\n                    this.getJDList(this.state.pageNo, this.state.accountId)\r\n                })\r\n            }\r\n        })\r\n\r\n    }\r\n    chesu=(record)=>{\r\n        this.setState({\r\n            visible:true,\r\n            AppayIDs:record.case_id,\r\n            TITBoy:\"您确认撤诉此项嘛?\"\r\n        })\r\n    }\r\n    handleChangex=(value)=>{\r\n        this.setState({\r\n            state: value\r\n        },()=>{\r\n            this.getJDList(this.state.pageNo, this.state.accountId,this.state.state)\r\n        })\r\n    }\r\n    handleCancels = () => {\r\n        this.setState({\r\n            visible: false,\r\n            AppayIDs: \"\"\r\n        })\r\n    }\r\n    handleOk = () => {\r\n        ajax.post(\"/hcm/complaint/cheShuJD\", {\r\n            right_id : this.state.AppayIDs,\r\n            account_id: this.state.accountId\r\n        }).then((res) => {\r\n            if(res.data.status==10000){\r\n                this.setState({\r\n                    visible: false,\r\n                    AppayIDs: \"\"\r\n                })\r\n                message.success(\"撤诉成功\")\r\n            }else{\r\n                message.error(res.data.data)\r\n            }\r\n        })\r\n    }\r\n    getJDList = (pageNo, account_id, state) => {\r\n        ajax.post(\"/hcm/complaint/getJDList\", {\r\n            pageNo: pageNo,\r\n            account_id: account_id,\r\n            state: state\r\n        }).then((res) => {\r\n            console.log(res)\r\n            if (res.data.status == 10000) {\r\n                if (res.data.data.status != 400) {\r\n                    this.setState({\r\n                        data: res.data.data.data.content,\r\n                        totalNum:res.data.data.data.totalElements\r\n                    })\r\n                    console.log(res.data.data.data.content[0].tort_link.split(\"↵\"))\r\n                } else {\r\n                    message.error(res.data.data.message)\r\n                }\r\n\r\n            }\r\n        })\r\n    }\r\n    changePagination = (current, pageSize) => {\r\n        this.setState({\r\n            pageNo:current\r\n        },()=>{\r\n            this.getJDList(this.state.pageNo, this.state.accountId,this.state.state)\r\n        })\r\n    }\r\n    onPaginationSize = (current, pageSize) => {\r\n        console.log(current, pageSize)\r\n    }\r\n    handleTableChange = (current, pageSize) => {\r\n        console.log(current, pageSize)\r\n    }\r\n    handleClearIconClick = () => {\r\n        const { form: { resetFields, getFieldsValue } } = this.props\r\n        resetFields(\"productName\")\r\n    }\r\n    handleClearIconClicks = () => {\r\n        const { form: { resetFields, getFieldsValue } } = this.props\r\n        resetFields(\"brandName\")\r\n    }\r\n    handleClearIconClickx = () => {\r\n        const { form: { resetFields, getFieldsValue } } = this.props\r\n        resetFields(\"productbrandName\")\r\n    }\r\n    render() {\r\n        return <Tpl that={this} />\r\n    }\r\n}\r\nexport default Form.create()(MonitoringDetails);\r\n"],"sourceRoot":""}