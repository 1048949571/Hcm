{"version":3,"sources":["webpack:///./app/widget/index/SetComplaintReport/main.js"],"names":["App","props","getComplaintAccount","axios","post","platform","then","res","data","message","status","setState","complatinAccountList","map","Object","assign","v","isLeaf","label","username","value","catch","error","getIprType","account_id","callback","state","url","param","handleLoadData","targetOption","selectOptions","length","loading","list","name","number","children","handleDeleteAlreadyKnowledge","outIndex","index","copyReportList","JSON","parse","stringify","alreadyReportList","copyList","complaintModelList","warning","splice","handleEdit","flag","_isEdit","handleEditInputChange","e","slice","target","report_name","getAlreadyReportList","LoadingModal","bl","type","handleDeleteAlreadyComplaintReport","report_id","id","success","handleSaveReport","values","arr","filter","method","transformRequest","headers","info","ipr_name","ipr_id","reportList","handleDeleteReport","handleInputChange","handleAddReport","push","handleDeleteKnowledgeRight","handleCascaderChange","copyAlreadyReport","handleAddKnowledgeRight","match","params","React","Component"],"mappings":"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","file":"js/chunk/335_f00aa0a1f90c4d4cf559.js","sourcesContent":["import Tpl from './tpl'\r\nimport { message as Msg } from 'antd'\r\nimport axios from '../../../js/common/ajax'\r\n// import { LoadingModal } from '../../components/LoadingModal/LoadingModal'\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      platform: props.match.params.platform,\r\n      // reportList: [{id: 0, name:'', list: [''], info: []}],\r\n      reportList: [],\r\n      alreadyReportList: [],\r\n\r\n      complatinAccountList: [],\r\n    }\r\n  }\r\n  componentWillMount() {\r\n    this.getAlreadyReportList()\r\n    this.getComplaintAccount()\r\n  }\r\n  // 获取投诉账号\r\n  getComplaintAccount = () => {\r\n    axios.post('/hcm/complaiont/getListByBmcid', {\r\n      platform: 'ALIBABA'\r\n    }).then(res => {\r\n      // console.log(res)\r\n      const { data, message, status } = res.data\r\n      if (status === '10000') {\r\n        this.setState({\r\n          complatinAccountList: data.map(v => Object.assign({}, v, {isLeaf: false, label: v.username, value: v.username}))\r\n        })\r\n      }\r\n    }).catch(err => {\r\n      // console.log(err)\r\n      Msg.error('系统繁忙，请稍后再试！')\r\n    })\r\n  }\r\n  // 获取知识产权类型\r\n  getIprType = (account_id, callback) => {\r\n    const platform = this.state.platform\r\n    let url = '', param = {} \r\n    // if (platform === 'taobao') {\r\n    //   url = '/hcm/getTaobaoiprType'\r\n    //   param.id = account_id\r\n    //   param.platform = platform\r\n    // }\r\n    // if (platform === '1688') {\r\n      url = '/hcm/complaint/get1688iprType'\r\n      param.account_id = account_id\r\n    // }\r\n    axios.post(url, param).then(res => {\r\n      const { data, status, message } = res.data\r\n      if (status === '10000' && !!data) {\r\n        callback(data.data)\r\n      } else {\r\n        callback()\r\n        Msg.error(message)\r\n      }\r\n    }).catch(err => {\r\n      callback()\r\n      Msg.error('系统繁忙，请稍后再试！')\r\n    })\r\n  }\r\n  handleLoadData = selectOptions => {\r\n    const platform = this.state.platform\r\n    const targetOption = selectOptions[selectOptions.length - 1]\r\n    targetOption.loading = true\r\n    // console.log('---t',targetOption)\r\n    // if (platform === 'taobao') {\r\n    //   this.getIprType(targetOption.id, data => {\r\n    //     targetOption.loading = false\r\n    //     const list = data.map(v => Object.assign({}, v, {label:v.text,value:v.id}))\r\n    //     targetOption.children = list\r\n    //     // console.log('-00-',this.state.complatinAccountList)\r\n    //     this.setState({\r\n    //       complatinAccountList: [...this.state.complatinAccountList]\r\n    //     })\r\n    //   })\r\n    // }\r\n    // if (platform === '1688') {\r\n      this.getIprType(targetOption.username, data => {\r\n        targetOption.loading = false\r\n        if (data) {\r\n          // console.log('--data',data)\r\n          const list = data.map(v => Object.assign({}, v, {label:v.name,value:v.number}))\r\n          \r\n          targetOption.children = list\r\n          // console.log('-00-',this.state.complatinAccountList)\r\n         \r\n        }else{\r\n          targetOption.isLeaf = true\r\n        }\r\n        this.setState({\r\n          complatinAccountList: [...this.state.complatinAccountList]\r\n        })\r\n      })\r\n    // }\r\n  }\r\n  // 编辑删除知识产权\r\n  handleDeleteAlreadyKnowledge = (outIndex, index) => {\r\n    const copyReportList = JSON.parse(JSON.stringify(this.state.alreadyReportList))\r\n    const copyList = copyReportList[outIndex].complaintModelList\r\n    if (copyList.length === 1) {\r\n      Msg.warning('至少保留一条数据！')\r\n      return\r\n    }\r\n    copyList.splice(index, 1)\r\n    copyReportList[outIndex].complaintModelList = copyList\r\n    this.setState({\r\n      alreadyReportList: copyReportList,\r\n    })\r\n  }\r\n  // 重新编辑\r\n  handleEdit = (index, flag) => {\r\n    const copyList = JSON.parse(JSON.stringify(this.state.alreadyReportList))\r\n    copyList[index]._isEdit = flag\r\n    this.setState({\r\n      alreadyReportList: copyList\r\n    })\r\n  }\r\n  handleEditInputChange = (index, e) => {\r\n    const list = this.state.alreadyReportList.slice()\r\n    if (e.target.value.length > 30) {\r\n      Msg.warning('请输入30个字符以内！')\r\n      return\r\n    }\r\n    list[index] = Object.assign({}, list[index], {report_name: e.target.value})\r\n    this.setState({\r\n      alreadyReportList: list\r\n    })\r\n  }\r\n  // 获取已有的报表列表\r\n  getAlreadyReportList = () => {\r\n    LoadingModal({bl:true})\r\n    axios.post('/hcm/complaint/report_list', {type: this.state.platform}).then(res => {\r\n      LoadingModal({bl:false})\r\n      const { data, status, message } = res.data\r\n      if (status === '10000') {\r\n        // console.log(data)\r\n        this.setState({\r\n          alreadyReportList: data.map(v => Object.assign({}, v, {_isEdit: false}))\r\n        })\r\n      } else {\r\n        Msg.error(message)\r\n      }\r\n    }).catch(err => {\r\n      LoadingModal({bl:false})\r\n      Msg.error('系统繁忙，请稍后再试！')\r\n    })\r\n  }\r\n  // 删除已添加的报表\r\n  handleDeleteAlreadyComplaintReport = id => {\r\n    LoadingModal({bl:true})\r\n    axios.post('/hcm/complaint/report_del', {report_id: id}).then(res => {\r\n      LoadingModal({bl:false})\r\n      const { data, status, message } = res.data\r\n      if (status === '10000') {\r\n        Msg.success(message)\r\n        this.getAlreadyReportList()\r\n      } else {\r\n        Msg.error(message)\r\n      }\r\n    }).catch(err => {\r\n      LoadingModal({bl:false})\r\n      Msg.error('系统繁忙，请稍后再试！')\r\n    })\r\n  }\r\n  // 保存报表\r\n  handleSaveReport = (values, index) => {\r\n    const { platform, alreadyReportList } = this.state\r\n    if (values.name === '' || values.report_name === '') {\r\n      Msg.warning('请填写报表名称！')\r\n      return\r\n    }\r\n\r\n    if (values.report_id) {\r\n      // 更新操作\r\n      // 去重报表名称开始\r\n      const arr = !!alreadyReportList.length ? alreadyReportList.filter(v => values.report_name === v.report_name) : []\r\n      if (arr.length !== 1) {\r\n        Msg.warning('报表名称重复请修改！')\r\n        return\r\n      }\r\n      // 结束\r\n      LoadingModal({bl:true})\r\n      axios({\r\n        method: 'post',\r\n        url: '/hcm/complaint/report_update',\r\n        transformRequest: [function (data, headers) {\r\n          return data;\r\n        }],\r\n        headers: {\r\n          'Content-Type': 'application/json;charset=utf-8'\r\n        },\r\n        data: JSON.stringify({\r\n          complaintModelList: values.complaintModelList,\r\n          type: values.type,\r\n          report_name: values.report_name,\r\n          report_id: values.report_id,\r\n        })\r\n      }).then(res => {\r\n        LoadingModal({bl:false})\r\n        const { status, data, message } = res.data\r\n        if (status === '10000') {\r\n          Msg.success(message)\r\n          this.getAlreadyReportList()\r\n        } else {\r\n          Msg.error(message)\r\n        }\r\n      }).catch(err => {\r\n        LoadingModal({bl:false})\r\n        Msg.error('系统繁忙，请稍后再试！')\r\n      })\r\n    } else {\r\n      // 新增操作\r\n      if (values.info.length === 0) {\r\n        Msg.warning('请至少添加一个知识产权！')\r\n        return\r\n      }\r\n      const list = values.info.map(v => ({\r\n        account_id: v[0].label,\r\n        ipr_name: v[1].label,\r\n        ipr_id: v[1].value,\r\n      }))\r\n      LoadingModal({bl:true})\r\n      axios({\r\n        method: 'post',\r\n        url: '/hcm/complaint/report_save',\r\n        transformRequest: [function (data, headers) {\r\n          return data;\r\n        }],\r\n        headers: {\r\n          'Content-Type': 'application/json;charset=utf-8'\r\n        },\r\n        data: JSON.stringify({\r\n          complaintModelList: list,\r\n          type: platform,\r\n          report_name: values.name,\r\n        })\r\n      }).then(res => {\r\n        // console.log(res)\r\n        LoadingModal({bl:false})\r\n        const { data, status, message } = res.data\r\n        if (status === '10000') {\r\n          Msg.success(message)\r\n          this.getAlreadyReportList()\r\n          if (this.state.reportList.length === 1) {\r\n            this.setState({\r\n              reportList :[{id: 0, name:'', list: [''], info: []}]\r\n            })\r\n          } else {\r\n            this.handleDeleteReport(index)\r\n          }\r\n        } else {\r\n          Msg.error(message)\r\n        }\r\n      }).catch(err => {\r\n        LoadingModal({bl:false})\r\n        Msg.error('系统繁忙，请稍后再试！')\r\n      })\r\n    }\r\n\r\n  }\r\n  handleInputChange = (index, e) => {\r\n    const list = this.state.reportList.slice()\r\n    if (e.target.value.length > 30) {\r\n      Msg.warning('请输入30个字符以内！')\r\n      return\r\n    }\r\n    list[index] = Object.assign({}, list[index], {name: e.target.value})\r\n    this.setState({\r\n      reportList: list,\r\n    })\r\n  }\r\n  handleAddReport = () => {\r\n    const copyReportList = JSON.parse(JSON.stringify(this.state.reportList))\r\n    if (copyReportList.length) {\r\n      copyReportList.push({id: copyReportList[copyReportList.length-1].id + 1, name:'', list: [''], info: []})\r\n    } else {\r\n      copyReportList.push({id: 0, name: '', list: [''], info: []})\r\n    }\r\n    this.setState({\r\n      reportList: copyReportList,\r\n    })\r\n  }\r\n  handleDeleteReport = index => {\r\n    const copyReportList = JSON.parse(JSON.stringify(this.state.reportList))\r\n    // if (copyReportList.length === 1) {\r\n    //   Msg.warning('至少保留一条数据！')\r\n    //   return\r\n    // }\r\n    copyReportList.splice(index, 1)\r\n    this.setState({\r\n      reportList: copyReportList,\r\n    })\r\n  }\r\n  handleDeleteKnowledgeRight = (outIndex, index) => {\r\n    const copyReportList = JSON.parse(JSON.stringify(this.state.reportList))\r\n    const copyList = copyReportList[outIndex].list\r\n    if (copyList.length === 1) {\r\n      Msg.warning('至少保留一条数据！')\r\n      return\r\n    }\r\n    copyList.splice(index, 1)\r\n    copyReportList[outIndex].list = copyList\r\n    this.setState({\r\n      reportList: copyReportList,\r\n    })\r\n  }\r\n\r\n  handleCascaderChange = (outIndex, index, status, value, selectOptions) => {\r\n    // console.log(status)\r\n    if (status === 'add') {\r\n      const copyReportList = JSON.parse(JSON.stringify(this.state.reportList))\r\n      // list 保存要回显的数据\r\n      copyReportList[outIndex].list[index] = value\r\n      // info保存要提交给后台的数据\r\n      copyReportList[outIndex].info.push(selectOptions)\r\n      this.setState({\r\n        reportList: copyReportList,\r\n      })\r\n    }\r\n    if (status === 'edit') {\r\n      const copyAlreadyReport = JSON.parse(JSON.stringify(this.state.alreadyReportList))\r\n      // console.log(outIndex,copyAlreadyReport[outIndex], value, selectOptions)\r\n      // copyAlreadyReport[outIndex].complaintModelList[index].account_num = selectOptions[0].value\r\n      copyAlreadyReport[outIndex].complaintModelList[index].account_id = selectOptions[0].label\r\n      copyAlreadyReport[outIndex].complaintModelList[index].ipr_id = selectOptions[1].value\r\n      copyAlreadyReport[outIndex].complaintModelList[index].ipr_name = selectOptions[1].label\r\n      this.setState({\r\n        alreadyReportList: copyAlreadyReport,\r\n      })\r\n    }\r\n\r\n  }\r\n  handleAddKnowledgeRight = (outIndex) => {\r\n    const copyReportList = JSON.parse(JSON.stringify(this.state.reportList))\r\n    copyReportList[outIndex].list.push('')\r\n    this.setState({\r\n      reportList: copyReportList,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return <Tpl that={this} />\r\n  }\r\n}\r\n\r\nexport default App"],"sourceRoot":""}