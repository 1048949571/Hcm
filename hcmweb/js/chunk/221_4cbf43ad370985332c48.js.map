{"version":3,"sources":["webpack:///./app/widget/index/Administrator/Home/main.js"],"names":["App","props","myChart","customereProportion","state","dataList","echarts","init","document","getElementById","totnum","length","map","item","value","reduce","total","currentValue","index","arr","setOption","tooltip","trigger","formatter","legend","orient","right","top","itemGap","data","name","series","type","radius","center","color","silent","label","position","fontSize","rich","a","align","c","padding","avoidLabelOverlap","myChart2","dealerProportion","customereSum","dataSum","dealerSum","itemListSum","brandSum","linkDataSum","shopSum","productSum","getList","ajax","get","then","response","status","setState","error","message","catch","statusText","React","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AAEA;;;;AACA;;;;;;;;;;;;IACMA,G;;;AACF,iBAAYC,KAAZ,EAAmB;AAAA;;AAAA,8GACTA,KADS;;AAAA,cA8CnBC,OA9CmB,GA8CV,YAAI;AACT,gBAAIC,sBAAsB,MAAKC,KAAL,CAAWC,QAAX,CAAoBF,mBAA9C;AACA,gBAAMD,UAAUI,kBAAQC,IAAR,CAAaC,SAASC,cAAT,CAAwB,SAAxB,CAAb,CAAhB;AACA,gBAAIC,SAAS,CAAb;AACA,gBAAGP,oBAAoBQ,MAAvB,EAA8B;AAC1BD,yBAASP,oBAAoBS,GAApB,CAAwB;AAAA,2BAAMC,KAAKC,KAAX;AAAA,iBAAxB,EAA0CC,MAA1C,CAAiD,UAACC,KAAD,EAAOC,YAAP,EAAqBC,KAArB,EAA2BC,GAA3B,EAAiC;AACvF,2BAAOH,QAAMC,YAAb;AACH,iBAFQ,CAAT;AAGH;;AAEDf,oBAAQkB,SAAR,CAAkB;AACdC,yBAAS;AACLC,6BAAS,MADJ;AAELC,+BAAW;AAFN,iBADK;AAKdC,wBAAQ;AACJC,4BAAQ,UADJ;AAEJC,2BAAO,IAFH;AAGJC,yBAAI,QAHA;AAIJC,6BAAQ,EAJJ;AAKJC,0BAAK1B,oBAAoBS,GAApB,CAAwB;AAAA,+BAAMC,KAAKiB,IAAX;AAAA,qBAAxB;AALD,iBALM;;AAadC,wBAAQ,CACJ;AACID,0BAAK,KADT;AAEIE,0BAAK,KAFT;AAGIC,4BAAQ,CAAC,IAAD,EAAO,KAAP,CAHZ;AAIIC,4BAAQ,CAAC,KAAD,EAAQ,KAAR,CAJZ;AAKIC,2BAAM,CAAC,MAAD,CALV;AAMIC,4BAAO,IANX;AAOIC,2BAAO;AACHC,kCAAS,QADN;AAEHf,mCAAU,mBAFP;AAGHY,+BAAM,MAHH;AAIHI,kCAAS,EAJN;AAKHC,8BAAM;AACFC,+BAAE;AACEF,0CAAS,EADX;AAEEJ,uCAAM,MAFR;AAGEO,uCAAM;AAHR,6BADA;AAMFC,+BAAE;AACER,uCAAO,MADT;AAEEI,0CAAS,EAFX;AAGEK,yCAAQ,EAHV;AAIEF,uCAAM;AAJR;AANA;AALH,qBAPX;AA0BIb,0BAAK,CACD,EAACf,OAAMJ,MAAP,EAAeoB,MAAK,EAApB,EADC;AA1BT,iBADI,EA+BJ;AACIE,0BAAK,KADT;AAEIC,4BAAQ,CAAC,KAAD,EAAQ,KAAR,CAFZ;AAGIC,4BAAQ,CAAC,KAAD,EAAQ,KAAR,CAHZ;AAIIW,uCAAmB,IAJvB;AAKIV,2BAAM,CAAC,SAAD,EAAW,SAAX,EAAqB,SAArB,EAA+B,SAA/B,EAAyC,SAAzC,EAAmD,SAAnD,CALV;AAMIN,0BAAK1B;AANT,iBA/BI;AAbM,aAAlB;AAuDH,SA/GkB;;AAAA,cAgHnB2C,QAhHmB,GAgHT,YAAI;AACV,gBAAIC,mBAAmB,MAAK3C,KAAL,CAAWC,QAAX,CAAoB0C,gBAA3C;AACA,gBAAM7C,UAAUI,kBAAQC,IAAR,CAAaC,SAASC,cAAT,CAAwB,UAAxB,CAAb,CAAhB;AACA,gBAAIC,SAAS,CAAb;AACA,gBAAGqC,iBAAiBpC,MAApB,EAA2B;AACvBD,yBAASqC,iBAAiBnC,GAAjB,CAAqB;AAAA,2BAAMC,KAAKC,KAAX;AAAA,iBAArB,EAAuCC,MAAvC,CAA8C,UAACC,KAAD,EAAOC,YAAP,EAAqBC,KAArB,EAA2BC,GAA3B,EAAiC;AACpF,2BAAOH,QAAMC,YAAb;AACH,iBAFQ,CAAT;AAGH;;AAEDf,oBAAQkB,SAAR,CAAkB;AACdC,yBAAS;AACLC,6BAAS,MADJ;AAELC,+BAAW;AAFN,iBADK;AAKdC,wBAAQ;AACJC,4BAAQ,UADJ;AAEJC,2BAAO,IAFH;AAGJC,yBAAI,QAHA;AAIJC,6BAAQ,EAJJ;AAKJC,0BAAKkB,iBAAiBnC,GAAjB,CAAqB;AAAA,+BAAMC,KAAKiB,IAAX;AAAA,qBAArB;AALD,iBALM;;AAadC,wBAAQ,CACJ;AACID,0BAAK,KADT;AAEIE,0BAAK,KAFT;AAGIC,4BAAQ,CAAC,IAAD,EAAO,KAAP,CAHZ;AAIIC,4BAAQ,CAAC,KAAD,EAAQ,KAAR,CAJZ;AAKIC,2BAAM,CAAC,MAAD,CALV;AAMIC,4BAAO,IANX;AAOIC,2BAAO;AACHC,kCAAS,QADN;AAEHf,mCAAU,mBAFP;AAGHY,+BAAM,MAHH;AAIHI,kCAAS,EAJN;AAKHC,8BAAM;AACFC,+BAAE;AACEF,0CAAS,EADX;AAEEJ,uCAAM,MAFR;AAGEO,uCAAM;AAHR,6BADA;AAMFC,+BAAE;AACER,uCAAO,MADT;AAEEI,0CAAS,EAFX;AAGEK,yCAAQ,EAHV;AAIEF,uCAAM;AAJR;AANA;AALH,qBAPX;AA0BIb,0BAAK,CACD,EAACf,OAAMJ,MAAP,EAAeoB,MAAK,EAApB,EADC;AA1BT,iBADI,EA+BJ;AACIE,0BAAK,KADT;AAEIC,4BAAQ,CAAC,KAAD,EAAQ,KAAR,CAFZ;AAGIC,4BAAQ,CAAC,KAAD,EAAQ,KAAR,CAHZ;AAIIW,uCAAmB,IAJvB;AAKIV,2BAAM,CAAC,SAAD,EAAW,SAAX,EAAqB,SAArB,EAA+B,SAA/B,EAAyC,SAAzC,EAAmD,SAAnD,CALV;AAMIN,0BAAKkB;AANT,iBA/BI;AAbM,aAAlB;AAuDH,SAjLkB;;AAEf,cAAK3C,KAAL,GAAa;AACTC,sBAAS;AACL2C,8BAAa,CADR;AAELC,yBAAQ,CAFH;AAGLC,2BAAU,CAHL;AAILC,6BAAY,CAJP;AAKLC,0BAAS,CALJ;AAMLC,6BAAY,CANP;AAOLC,yBAAQ,CAPH;AAQLC,4BAAW,CARN;AASLpD,qCAAoB,CAChB,EAACW,OAAM,CAAP,EAAUgB,MAAK,KAAf,EADgB,CATf;AAYLiB,kCAAiB,CACb,EAACjC,OAAM,CAAP,EAAUgB,MAAK,KAAf,EADa;AAZZ;AADA,SAAb;AAFe;AAoBlB;;;;4CAEmB;AAChB,iBAAK0B,OAAL;AAEH;;;kCAEQ;AAAA;;AACLC,2BAAKC,GAAL,CAAS,uBAAT,EACCC,IADD,CACM,UAACC,QAAD,EAAc;;AAEhB,oBAAIA,SAAS/B,IAAT,CAAcgC,MAAd,IAAwB,OAA5B,EAAqC;AACjC,2BAAKC,QAAL,CAAc;AACVzD,kCAASuD,SAAS/B,IAAT,CAAcA;AADb,qBAAd,EAEE,YAAI;AACF,+BAAK3B,OAAL;AACA,+BAAK4C,QAAL;AACH,qBALD;AAMH,iBAPD,MAOK;AACD,sCAAQiB,KAAR,CAAcH,SAAS/B,IAAT,CAAcmC,OAA5B;AACH;AACJ,aAbD,EAcCC,KAdD,CAcO,UAACF,KAAD,EAAW;AACd,kCAAQA,KAAR,CAAcA,MAAMG,UAApB;AACH,aAhBD;AAiBH;;;iCAqIQ;AACL,mBAAO,oBAAC,aAAD,IAAK,MAAM,IAAX,GAAP;AACH;;;;EArLaC,MAAMC,S;;kBAuLTpE,G","file":"js/chunk/221_4cbf43ad370985332c48.js","sourcesContent":["import Tpl from './tpl';\r\nimport {message} from 'antd';\r\nimport ajax from '../../../../js/common/ajax';\r\nimport echarts from 'echarts';\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            dataList:{\r\n                customereSum:0,\r\n                dataSum:0,\r\n                dealerSum:0,\r\n                itemListSum:0,\r\n                brandSum:0,\r\n                linkDataSum:0,\r\n                shopSum:0,\r\n                productSum:0,\r\n                customereProportion:[ \r\n                    {value:0, name:'品牌方'}\r\n                ],\r\n                dealerProportion:[ \r\n                    {value:0, name:'经销商'}\r\n                ],\r\n            }\r\n        }\r\n    }\r\n    \r\n    componentDidMount() {\r\n        this.getList();\r\n        \r\n    }\r\n    \r\n    getList(){\r\n        ajax.get('/hcm/Index/adminIndex')\r\n        .then((response) => {\r\n            \r\n            if (response.data.status == '10000') {\r\n                this.setState({\r\n                    dataList:response.data.data\r\n                },()=>{\r\n                    this.myChart()\r\n                    this.myChart2()\r\n                })\r\n            }else{\r\n                message.error(response.data.message);\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            message.error(error.statusText);\r\n        });\r\n    }\r\n    myChart= ()=>{\r\n        let customereProportion = this.state.dataList.customereProportion;\r\n        const myChart = echarts.init(document.getElementById('echarts'));\r\n        let totnum = 0;\r\n        if(customereProportion.length){\r\n            totnum = customereProportion.map(item=>item.value).reduce((total,currentValue, index,arr)=>{\r\n                return total+currentValue \r\n            })\r\n        }\r\n        \r\n        myChart.setOption({\r\n            tooltip: {\r\n                trigger: 'item',\r\n                formatter: \"{b}: {c} ({d}%)\"\r\n            },\r\n            legend: {\r\n                orient: 'vertical',\r\n                right: '30',\r\n                top:'center',\r\n                itemGap:20,\r\n                data:customereProportion.map(item=>item.name)\r\n            },\r\n            \r\n            series: [\r\n                {\r\n                    name:'品牌方',\r\n                    type:'pie',\r\n                    radius: ['0%', '30%'],\r\n                    center: ['38%', '50%'],\r\n                    color:['#fff'],\r\n                    silent:true,\r\n                    label: {\r\n                        position:'center',\r\n                        formatter:'{c| {c}}\\n{a|{a}}',\r\n                        color:'#333',\r\n                        fontSize:20,\r\n                        rich: {\r\n                            a:{\r\n                                fontSize:14,\r\n                                color:'#999',\r\n                                align:'center'\r\n                            },\r\n                            c:{\r\n                                color: '#333',\r\n                                fontSize:20,\r\n                                padding:10,\r\n                                align:'center'\r\n                            }\r\n                        }\r\n                    },\r\n                    data:[\r\n                        {value:totnum, name:''}\r\n                    ]\r\n                },\r\n                {\r\n                    type:'pie',\r\n                    radius: ['50%', '70%'],\r\n                    center: ['38%', '50%'],\r\n                    avoidLabelOverlap: true,\r\n                    color:['#55a0f8','#66c8ca','#72c77c','#f4d358','#e17c7d','#8e66dd'],\r\n                    data:customereProportion\r\n                }\r\n            ]\r\n        })\r\n        \r\n    }\r\n    myChart2= ()=>{\r\n        let dealerProportion = this.state.dataList.dealerProportion;\r\n        const myChart = echarts.init(document.getElementById('echarts2'));\r\n        let totnum = 0;\r\n        if(dealerProportion.length){\r\n            totnum = dealerProportion.map(item=>item.value).reduce((total,currentValue, index,arr)=>{\r\n                return total+currentValue \r\n            })\r\n        }\r\n        \r\n        myChart.setOption({\r\n            tooltip: {\r\n                trigger: 'item',\r\n                formatter: \"{b}: {c} ({d}%)\"\r\n            },\r\n            legend: {\r\n                orient: 'vertical',\r\n                right: '30',\r\n                top:'center',\r\n                itemGap:20,\r\n                data:dealerProportion.map(item=>item.name)\r\n            },\r\n            \r\n            series: [\r\n                {\r\n                    name:'经销商',\r\n                    type:'pie',\r\n                    radius: ['0%', '30%'],\r\n                    center: ['38%', '50%'],\r\n                    color:['#fff'],\r\n                    silent:true,\r\n                    label: {\r\n                        position:'center',\r\n                        formatter:'{c| {c}}\\n{a|{a}}',\r\n                        color:'#333',\r\n                        fontSize:20,\r\n                        rich: {\r\n                            a:{\r\n                                fontSize:14,\r\n                                color:'#999',\r\n                                align:'center'\r\n                            },\r\n                            c:{\r\n                                color: '#333',\r\n                                fontSize:20,\r\n                                padding:10,\r\n                                align:'center'\r\n                            }\r\n                        }\r\n                    },\r\n                    data:[\r\n                        {value:totnum, name:''}\r\n                    ]\r\n                },\r\n                {\r\n                    type:'pie',\r\n                    radius: ['50%', '70%'],\r\n                    center: ['38%', '50%'],\r\n                    avoidLabelOverlap: true,\r\n                    color:['#55a0f8','#66c8ca','#72c77c','#f4d358','#e17c7d','#8e66dd'],\r\n                    data:dealerProportion\r\n                }\r\n            ]\r\n        })\r\n        \r\n    }\r\n    render() {\r\n        return <Tpl that={this} />\r\n    }\r\n}\r\nexport default App;\r\n"],"sourceRoot":""}