{"version":3,"sources":["webpack:///./app/widget/index/MenuEdit/main.js"],"names":["confirm","App","props","menuType","value","option","setState","menu_type","modalVisible","bl","data","type","visible","tergetData","getList","ajax","get","params","state","then","list","res","rmMenu","record","that","children","length","warning","title","content","okText","cancelText","className","onOk","post","menuId","id","status","success","message","handleSubmit","e","preventDefault","form","validateFields","err","values","menuName","menuState","rej","console","log","catch","error","React","Component","create"],"mappings":"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","file":"js/chunk/308_07ee03ec215967a87589.js","sourcesContent":["import Tpl from './tpl';\r\nimport ajax from '../../../js/common/ajax';\r\nimport { Form,message,Modal } from 'antd';\r\nconst confirm = Modal.confirm;\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            list: [],\r\n            visible: false,\r\n            type: null,\r\n            menu_type: \"ALL\",\r\n            tergetData: {}\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.getList()\r\n    }\r\n    menuType = (value, option) => {\r\n\r\n        this.setState({\r\n            menu_type: value\r\n        })\r\n    }\r\n    modalVisible = (bl, data,type) => {\r\n        \r\n        this.setState({\r\n            visible: bl,\r\n            tergetData: data,\r\n            type:type\r\n        })\r\n    }\r\n    getList = () => {\r\n        ajax.get('/hcm/menu/getList', {\r\n            params: {\r\n                type: this.state.menu_type\r\n            }\r\n        }).then(res => {\r\n            this.setState({\r\n                list: res.data.data,\r\n                visible: false,\r\n                tergetData: {},\r\n                type:null\r\n            })\r\n        })\r\n    }\r\n    rmMenu=(record)=>{\r\n        let that = this;\r\n        if(record.children&&record.children.length){\r\n            message.warning('请先删除子级菜单');\r\n            return\r\n        }\r\n        confirm({\r\n            title: null,\r\n            content: <div><div className='tips'>提示</div><div className='pline'></div><p className='Dtitle'>你确定要删除此条信息吗?</p><p>删除后<span className='red'>将无法继续展示相关内容</span></p></div>,\r\n            okText: '删除',\r\n            cancelText: '取消',\r\n            className:'alert-item-confirm',\r\n            onOk() {\r\n                ajax.post('/hcm/menu/delete', {\r\n                    menuId:record.id\r\n                }).then((res)=>{\r\n                    if(res.data.status==10000){\r\n                        message.success(res.data.message)\r\n                        that.getList()\r\n                    }\r\n        \r\n                })\r\n            }\r\n        });\r\n        \r\n    }\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (!err) {\r\n                \r\n                values.menuName = values.menuName\r\n                values.menuState = values.menuState||values.menuState =='1' ? '1':'0';\r\n                values.menuType = 'ALL'\r\n                if(this.state.type=='编辑'){\r\n                    values.id = this.state.tergetData.id;\r\n                    \r\n                    ajax.post('/hcm/menu/Update', values).then((res)=>{\r\n                        if(res.data.status==10000){\r\n                            message.success(res.data.message)\r\n                            this.getList()\r\n                        }\r\n\r\n                    },(rej)=>{\r\n                        console.log(rej)\r\n                    })\r\n                }else{\r\n                    ajax.post('/hcm/menu/Create', values).then((res)=>{\r\n                        if(res.data.status==10000){\r\n                            message.success(res.data.message)\r\n                            // this.getList()\r\n                        }\r\n                    })\r\n                    .catch((error)=>{\r\n                        console.log(error);\r\n                    });\r\n                }\r\n                \r\n            }\r\n        });\r\n    }\r\n    render() {\r\n        return <Tpl that={this} />\r\n    }\r\n}\r\nexport default Form.create()(App);"],"sourceRoot":""}