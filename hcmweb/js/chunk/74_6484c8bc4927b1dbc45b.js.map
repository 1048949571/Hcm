{"version":3,"sources":["webpack:///./app/widget/components/SevenDayCard/index.js","webpack:///./app/widget/components/SevenDayCard/index.less","webpack:///./app/widget/index/Brand/ActivityPublic/tpl.js"],"names":["WEEKS_TEXT","SevenDayCard","props","handleShowMoreClick","setState","isShowMoreBtns","state","infos","sevenDayNums","currentDate","currentDateIndex","shopBtnList","currentShopBtnIndex","shopCount","reduce","a","b","act_count","length","map","value","index","dateObj","my_date","dateClick","date","format","day","all_count","fontSize","color","margin","shopBtnClick","shop_id","shop_name","React","Component","Tpl","that","activityList","pagination","count","pageNum","pageSize","console","log","handleDateChange","handleShopBtnChange","id","_index","handleTogglePriceClick","handleLoadMoreBtnClick"],"mappings":"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","file":"js/chunk/74_6484c8bc4927b1dbc45b.js","sourcesContent":["import moment from 'moment'\r\nimport { Divider, Icon, Button } from 'antd'\r\n\r\nimport './index.less'\r\n\r\nconst WEEKS_TEXT = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六']\r\n\r\nclass SevenDayCard extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      isShowMoreBtns: false\r\n    }\r\n  }\r\n  handleShowMoreClick = () => {\r\n    this.setState({\r\n      isShowMoreBtns: !this.state.isShowMoreBtns\r\n    })\r\n  }\r\n  render() {\r\n    const { isShowMoreBtns } = this.state\r\n    const { \r\n      sevenDayNums = [], \r\n      currentDate, \r\n      currentDateIndex, \r\n      shopBtnList = [], \r\n      currentShopBtnIndex \r\n    } = this.props.infos\r\n    const shopCount = shopBtnList.reduce((a, b) => a + b.act_count, 0)\r\n    return (\r\n      <div className=\"sevenday-card-wrapper\">\r\n        <section className=\"items\">\r\n          {\r\n            sevenDayNums.length === 0 ? \r\n            null : \r\n            sevenDayNums.map((value, index) => {\r\n              const dateObj = moment(value.my_date)\r\n              return (\r\n                <div \r\n                  className={`item ${currentDateIndex === index ? 'active' : ''}`}\r\n                  onClick={() => {this.props.dateClick({index, date: dateObj.format('YYYY-MM-DD')})}}\r\n                  key={value.my_date}\r\n                >\r\n                  <div className=\"date\">\r\n                    <span>\r\n                      {WEEKS_TEXT[dateObj.day()]}\r\n                      &nbsp;&nbsp;\r\n                      {\r\n                        currentDate === moment().format('YYYY-MM-DD') && index === 0 ? \r\n                        <p className=\"today\">今日</p> : \r\n                        null\r\n                      }\r\n                    </span>\r\n                    <span>{dateObj.format('DD')}</span>\r\n                  </div>\r\n                  <p className=\"text\">{index === 0 ? '进行中' : '已审核'}活动（{value.all_count || 0}）</p>\r\n                  {\r\n                    // currentDate === moment().format('YYYY-MM-DD') && index === 0 ? \r\n                    // <p className=\"today\">今日</p> : \r\n                    // null\r\n                  }\r\n                </div>\r\n              )\r\n            })\r\n          }\r\n        </section>\r\n        <div className=\"shop-btns\">\r\n          <div className=\"head\">\r\n            <h3 style={{fontSize:'16px',color:'#333'}}>活动店铺（{shopBtnList.length||0}）</h3>\r\n            <span onClick={this.handleShowMoreClick} >{isShowMoreBtns?'收起':'展开'}更多<Icon type={isShowMoreBtns?'up':'down'} /></span>\r\n          </div>\r\n          <Divider style={{margin:'10px 0'}} />\r\n          {\r\n            isShowMoreBtns ? \r\n            <section className=\"btns\">\r\n              <Button \r\n                type={currentShopBtnIndex === 0 ? 'primary' : ''}\r\n                onClick={() => {this.props.shopBtnClick({index: 0})}}\r\n              >\r\n                全部（{shopCount}）\r\n              </Button>\r\n              {\r\n                shopBtnList.length === 0 ? \r\n                null : \r\n                shopBtnList.map((value, index) => (\r\n                  <Button \r\n                    type={currentShopBtnIndex === (index+1) ? 'primary' : ''}\r\n                    onClick={() => {this.props.shopBtnClick({index: index+1, shop_id: value.shop_id})}}\r\n                    className=\"btn\"\r\n                    key={value.shop_name}\r\n                  >\r\n                    {`${value.shop_name}（${value.act_count}）`}\r\n                  </Button>\r\n                ))\r\n              }\r\n            </section> : \r\n            null\r\n          }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SevenDayCard","// removed by extract-text-webpack-plugin","import ThatMain from '../../../HOC/That'\r\nimport ContentBox from '../../../components/Layout'\r\nimport SevenDayCard from '../../../components/SevenDayCard'\r\nimport ActivityPublic from '../../../components/ActivityPublicCard'\r\n\r\nimport { Button } from 'antd'\r\n\r\nconst Tpl = ThatMain(that => {\r\n  const { \r\n    sevenDayNums, \r\n    currentDateIndex, \r\n    currentDate, \r\n    shopBtnList, \r\n    currentShopBtnIndex, \r\n    activityList,\r\n    pagination: {count, pageNum, pageSize},\r\n    // isExpandPrice\r\n  } = that.state\r\n  console.log(count, pageNum, pageSize)\r\n  return (\r\n    <ContentBox \r\n      title=\"活动公示\" \r\n      breadcrumbList={['活动信息', '活动公示']}\r\n      linkList={['', '']}\r\n    >\r\n      <SevenDayCard \r\n        infos={{\r\n          sevenDayNums,\r\n          currentDate,\r\n          currentDateIndex,\r\n          shopBtnList,\r\n          currentShopBtnIndex\r\n        }} \r\n        dateClick={that.handleDateChange} \r\n        shopBtnClick={that.handleShopBtnChange}\r\n      />\r\n      {\r\n        activityList.length === 0 ?\r\n          null :\r\n          activityList.map((value, index) => {\r\n            return <div className=\"activity-item\" key={value.id} >\r\n              <ActivityPublic\r\n                infos={{...value,_index:index}}\r\n                isShowReview={false}\r\n                // isExpandPrice={isExpandPrice}\r\n                togglePrice={that.handleTogglePriceClick} />\r\n            </div>\r\n          })\r\n      }\r\n      {\r\n        pageNum * pageSize >= count ? \r\n        null : \r\n        <div className=\"load-more\">\r\n          <Button onClick={that.handleLoadMoreBtnClick}>加载更多···</Button>\r\n        </div>\r\n      }\r\n    </ContentBox>\r\n  )\r\n})\r\n\r\nexport default Tpl"],"sourceRoot":""}